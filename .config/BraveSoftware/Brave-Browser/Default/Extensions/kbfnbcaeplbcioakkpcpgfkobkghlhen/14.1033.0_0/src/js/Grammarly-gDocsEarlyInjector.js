!function(){var e;!function(e){e.full="full",e.limited="limited"}(e||(e={}));function n(e,n,t=document){const o=e,i=t.documentElement,r=t.createElement("script");r.async=!1,r.defer=!1,r.src=o,n&&r.setAttribute("data-ext-id",n),r.onload=()=>{r.remove()},i.prepend(r)}!function(e,t,o,i=n){let r=!0;try{const n=o(),a=n.experiment;n.dynamicConfig&&a&&(i(t("Grammarly-gDocsEarlyInjectedCs.js"),e),r=!1)}catch(e){console.error("Grammarly error: Unable to initialize on gdocs due to exception: ",e)}r&&i(t("Grammarly-gDocsCanvasFallbackInjected.js"),e),function(e="grammarly-desktop-integration"){var n,t;const o=document.createElement("style");o.textContent="\n  div {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    border: 0;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select:none;\n    user-select:none;\n  }\n\n  div:before {\n    content: attr(data-content);\n  }\n";const i=document.createElement("div");i.setAttribute("aria-label","grammarly-integration"),i.setAttribute("tabindex","-1");const r=document.createElement(e);return r.attachShadow({mode:"open"}),r.setAttribute("data-grammarly-shadow-root","true"),null===(n=r.shadowRoot)||void 0===n||n.appendChild(o),null===(t=r.shadowRoot)||void 0===t||t.appendChild(i),document.documentElement.appendChild(r),{activate:(e,n,t)=>{const o=JSON.stringify(n?{mode:n,isActive:e,isUserDisabled:t}:{isActive:e});null==i||i.setAttribute("data-content",o)},remove:()=>{var e;null===(e=null==r?void 0:r.parentNode)||void 0===e||e.removeChild(r)}}}().activate(!0)}(chrome.runtime.id,(e=>chrome.runtime.getURL(`src/js/${e}`)),function(e,n,t,o){function i(){const e=n.getItem(t);if(e)try{return JSON.parse(e)}catch(e){}}return chrome.storage.local.get(e,(e=>{const r=JSON.stringify(o(i(),e));n.setItem(t,r)})),chrome.storage.onChanged.addListener(((r,a)=>{if("local"===a){const a={};let c=!1;for(const[n,t]of Object.entries(r))e.includes(n)&&(a[n]=t.newValue,c=!0);if(c){const e=JSON.stringify(o(i(),a));n.setItem(t,e)}}})),function(){return o(i(),{})}}(["user","dynamicConfig"],localStorage,"grammarly.gDocs",(function(e,n){var t,o;const i=n.dynamicConfig?Object.keys(n.dynamicConfig).find((e=>e.startsWith("gDocsCanvasConfig"))):null;return{experiment:(null===(t=n.user)||void 0===t?void 0:t.experiments)?n.user.experiments.gdocsCanvas:null==e?void 0:e.experiment,dynamicConfig:i?null===(o=n.dynamicConfig[i])||void 0===o?void 0:o.enableCanvas:null==e?void 0:e.dynamicConfig}})))}();