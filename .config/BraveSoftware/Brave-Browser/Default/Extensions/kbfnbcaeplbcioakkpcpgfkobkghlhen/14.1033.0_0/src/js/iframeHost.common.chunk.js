(self.webpackChunk=self.webpackChunk||[]).push([[1090],{4557:(e,t,n)=>{n.d(t,{B:()=>s});var s,i=n(5114),r=n(95195);!function(e){e.NAME_LENGTH_LIMIT=30,e.CONTENT_LENGTH_LIMIT=1e3;e.validate=(t,n,s)=>{const a=((t,n)=>0===t.trim().length?i.some(n.nameEmpty):t.length>e.NAME_LENGTH_LIMIT?i.some(n.nameTooLong):i.none)(t,s),p=((t,n)=>0===t.trim().length?i.some(n.textEmpty):t.length>e.CONTENT_LENGTH_LIMIT?i.some(n.textTooLong):i.none)(n,s);return i.isNone(a)&&i.isNone(p)?r.right(void 0):r.left({nameError:a,contentError:p})}}(s||(s={}))},25703:(e,t,n)=>{n.r(t),n.d(t,{AutocorrectUndoCard:()=>h});var s=n(27378),i=n(20855),r=n(46547),a=n(88326),p=n(12187),o=n(38983),c=n(5739),l=n(37147);const d=()=>s.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M11.1429 6V5.5C10.8667 5.5 10.6429 5.72386 10.6429 6H11.1429ZM12.8571 6H13.3571C13.3571 5.72386 13.1333 5.5 12.8571 5.5V6ZM15.7143 7.14286L16.0678 6.7893C15.9741 6.69554 15.8469 6.64286 15.7143 6.64286C15.5817 6.64286 15.4545 6.69554 15.3607 6.7893L15.7143 7.14286ZM16.8571 8.28571L17.2107 8.63927C17.406 8.44401 17.406 8.12742 17.2107 7.93216L16.8571 8.28571ZM18 11.1429H18.5C18.5 10.8667 18.2761 10.6429 18 10.6429V11.1429ZM18 12.8571V13.3571C18.2761 13.3571 18.5 13.1333 18.5 12.8571H18ZM16.8571 15.7143L17.2107 16.0678C17.406 15.8726 17.406 15.556 17.2107 15.3607L16.8571 15.7143ZM15.7143 16.8571L15.3607 17.2107C15.556 17.406 15.8726 17.406 16.0678 17.2107L15.7143 16.8571ZM12.8571 18V18.5C13.1333 18.5 13.3571 18.2761 13.3571 18H12.8571ZM11.1429 18H10.6429C10.6429 18.2761 10.8667 18.5 11.1429 18.5V18ZM8.28571 16.8571L7.93216 17.2107C8.12742 17.406 8.44401 17.406 8.63927 17.2107L8.28571 16.8571ZM7.14286 15.7143L6.7893 15.3607C6.69554 15.4545 6.64286 15.5817 6.64286 15.7143C6.64286 15.8469 6.69554 15.9741 6.7893 16.0678L7.14286 15.7143ZM6 12.8571H5.5C5.5 13.1333 5.72386 13.3571 6 13.3571V12.8571ZM6 11.1429V10.6429C5.72386 10.6429 5.5 10.8667 5.5 11.1429H6ZM7.14286 8.28571L6.7893 7.93216C6.69554 8.02593 6.64286 8.15311 6.64286 8.28571C6.64286 8.41832 6.69554 8.5455 6.7893 8.63927L7.14286 8.28571ZM8.28571 7.14286L8.63927 6.7893C8.5455 6.69554 8.41832 6.64286 8.28571 6.64286C8.15311 6.64286 8.02593 6.69554 7.93216 6.7893L8.28571 7.14286ZM8.41149 7.26863L8.76504 6.91508L8.41149 7.26863ZM15.5885 7.26863L15.235 6.91508L15.5885 7.26863ZM15.5885 16.7314L15.235 17.0849L15.5885 16.7314ZM11.1429 6.5H12.8571V5.5H11.1429V6.5ZM12.3571 6V6.13726H13.3571V6H12.3571ZM15.9421 7.62218L16.0678 7.49641L15.3607 6.7893L15.235 6.91508L15.9421 7.62218ZM15.3607 7.49641L16.5036 8.63927L17.2107 7.93216L16.0678 6.7893L15.3607 7.49641ZM16.5036 7.93216L16.3778 8.05793L17.0849 8.76504L17.2107 8.63927L16.5036 7.93216ZM17.8627 11.6429H18V10.6429H17.8627V11.6429ZM17.5 11.1429V12.8571H18.5V11.1429H17.5ZM18 12.3571H17.8627V13.3571H18V12.3571ZM16.3778 15.9421L16.5036 16.0678L17.2107 15.3607L17.0849 15.235L16.3778 15.9421ZM16.5036 15.3607L15.3607 16.5036L16.0678 17.2107L17.2107 16.0678L16.5036 15.3607ZM16.0678 16.5036L15.9421 16.3778L15.235 17.0849L15.3607 17.2107L16.0678 16.5036ZM12.3571 17.8627V18H13.3571V17.8627H12.3571ZM12.8571 17.5H11.1429V18.5H12.8571V17.5ZM11.6429 18V17.8627H10.6429V18H11.6429ZM8.05793 16.3778L7.93216 16.5036L8.63927 17.2107L8.76504 17.0849L8.05793 16.3778ZM8.63927 16.5036L7.49641 15.3607L6.7893 16.0678L7.93216 17.2107L8.63927 16.5036ZM7.49641 16.0678L7.62218 15.9421L6.91508 15.235L6.7893 15.3607L7.49641 16.0678ZM6.13726 12.3571H6V13.3571H6.13726V12.3571ZM6.5 12.8571V11.1429H5.5V12.8571H6.5ZM6 11.6429H6.13726V10.6429H6V11.6429ZM7.62218 8.05793L7.49641 7.93216L6.7893 8.63927L6.91508 8.76504L7.62218 8.05793ZM7.49641 8.63927L8.63927 7.49641L7.93216 6.7893L6.7893 7.93216L7.49641 8.63927ZM7.93216 7.49641L8.05793 7.62218L8.76504 6.91508L8.63927 6.7893L7.93216 7.49641ZM11.6429 6.13726V6H10.6429V6.13726H11.6429ZM14.7857 12C14.7857 10.4615 13.5385 9.21429 12 9.21429V10.2143C12.9862 10.2143 13.7857 11.0138 13.7857 12H14.7857ZM12 14.7857C13.5385 14.7857 14.7857 13.5385 14.7857 12H13.7857C13.7857 12.9862 12.9862 13.7857 12 13.7857V14.7857ZM8.05793 7.62218C9.38086 8.94511 11.6429 8.00816 11.6429 6.13726H10.6429C10.6429 7.11725 9.458 7.60804 8.76504 6.91508L8.05793 7.62218ZM6.13726 11.6429C8.00816 11.6429 8.94511 9.38086 7.62218 8.05793L6.91508 8.76504C7.60804 9.458 7.11725 10.6429 6.13726 10.6429V11.6429ZM7.62218 15.9421C8.94511 14.6191 8.00816 12.3571 6.13726 12.3571V13.3571C7.11725 13.3571 7.60804 14.542 6.91508 15.235L7.62218 15.9421ZM12.3571 6.13726C12.3571 8.00816 14.6191 8.94511 15.9421 7.62218L15.235 6.91508C14.542 7.60804 13.3571 7.11725 13.3571 6.13726H12.3571ZM9.21429 12C9.21429 13.5385 10.4615 14.7857 12 14.7857V13.7857C11.0138 13.7857 10.2143 12.9862 10.2143 12H9.21429ZM11.6429 17.8627C11.6429 15.9918 9.38086 15.0549 8.05793 16.3778L8.76504 17.0849C9.458 16.392 10.6429 16.8827 10.6429 17.8627H11.6429ZM15.9421 16.3778C14.6191 15.0549 12.3571 15.9918 12.3571 17.8627H13.3571C13.3571 16.8827 14.542 16.392 15.235 17.0849L15.9421 16.3778ZM17.8627 12.3571C15.9918 12.3571 15.0549 14.6191 16.3778 15.9421L17.0849 15.235C16.392 14.542 16.8827 13.3571 17.8627 13.3571V12.3571ZM16.3778 8.05793C15.0549 9.38086 15.9918 11.6429 17.8627 11.6429V10.6429C16.8827 10.6429 16.392 9.458 17.0849 8.76504L16.3778 8.05793ZM10.2143 12C10.2143 11.0138 11.0138 10.2143 12 10.2143V9.21429C10.4615 9.21429 9.21429 10.4615 9.21429 12H10.2143Z",fill:"#6D758D"})),m=e=>s.createElement(i.u,{message:e.text,showDelay:500},s.createElement("div",null,e.children)),h=e=>{const t=[...e.showDisableButtons?[s.createElement("div",{className:l.listItem,key:"disableOnce"},s.createElement(a.M,{clickHandler:()=>e.onDisableOnTabClick()},s.createElement("div",{...(0,p.Sh)(l.buttonWrap)},s.createElement("div",{className:l.icon},s.createElement("svg",{width:"16",height:"17",viewBox:"0 -1 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M13.0202 3.68689C13.2155 3.49162 13.2155 3.17504 13.0202 2.97978C12.825 2.78452 12.5084 2.78452 12.3131 2.97978L13.0202 3.68689ZM2.97978 12.3131C2.78452 12.5084 2.78452 12.825 2.97978 13.0202C3.17504 13.2155 3.49162 13.2155 3.68689 13.0202L2.97978 12.3131ZM12.3131 2.97978L2.97978 12.3131L3.68689 13.0202L13.0202 3.68689L12.3131 2.97978ZM8 15.5C12.1421 15.5 15.5 12.1421 15.5 8H14.5C14.5 11.5899 11.5899 14.5 8 14.5V15.5ZM15.5 8C15.5 3.85786 12.1421 0.5 8 0.5V1.5C11.5899 1.5 14.5 4.41015 14.5 8H15.5ZM8 0.5C3.85786 0.5 0.5 3.85786 0.5 8H1.5C1.5 4.41015 4.41015 1.5 8 1.5V0.5ZM0.5 8C0.5 12.1421 3.85786 15.5 8 15.5V14.5C4.41015 14.5 1.5 11.5899 1.5 8H0.5Z",fill:"#6D758D"}))),s.createElement("span",{className:l.caption},"Turn off until next visit")))),s.createElement("div",{className:l.listItem,key:"disableAlways"},s.createElement(a.M,{clickHandler:()=>e.onDisableForeverClick()},s.createElement("div",{...(0,p.Sh)(l.buttonWrap)},s.createElement("div",{className:l.icon},s.createElement("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M8 1V9.29231M11.5 3.1355C13.5923 4.36445 15 6.66146 15 9.29231C15 13.2178 11.866 16.4 8 16.4C4.13401 16.4 1 13.2178 1 9.29231C1 6.66146 2.40769 4.36445 4.5 3.1355",stroke:"#6D758D",strokeLinejoin:"round"}))),s.createElement("span",{className:l.caption},"Turn off forever"))))]:[]],n=t.length>0,i=o.h.create(!1),h=()=>s.createElement("div",{className:l.buttonRow,key:"buttons"},s.createElement(a.M,{clickHandler:()=>e.onAcceptClick()},s.createElement("div",{...(0,p.Sh)(l.button,l.acceptButton)},"Looks good")),s.createElement(a.M,{clickHandler:()=>e.onRejectClick()},s.createElement("div",{...(0,p.Sh)(l.button,l.rejectButton)},"Change back to ",s.createElement("span",{className:l.originalText},e.originalText))));return s.createElement(r.Z,{kind:"inline-fit-content"},s.createElement("div",{className:l.autocorrectCard},s.createElement((()=>s.createElement(c.F.Fragment,null,s.createElement("div",{className:l.footerCaption},"Autocorrected by Grammarly",n&&s.createElement(a.M,{clickHandler:()=>i.modify((e=>!e))},s.createElement("div",{className:l.settingsButton},s.createElement(m,{text:"Grammarly Autocorrect settings"},s.createElement(d,null))))),s.createElement(h,null),n&&i.view((e=>e&&s.createElement(s.Fragment,{key:"settings"},s.createElement("div",{className:l.divider,key:"divider"}),t))))),null)))}},4458:(e,t,n)=>{n.r(t),n.d(t,{createComponentProxy:()=>q,deserializeCard:()=>Y});var s={};n.r(s),n.d(s,{AddToDictButton:()=>d.X,AddedToDictCard:()=>l.S,AuthenticatedFooter:()=>_.S,AutocorrectUndoCard:()=>R.AutocorrectUndoCard,Card:()=>S.Z,Container:()=>W.W,DefinitionsCard:()=>u.l,FluencyFooter:()=>C.A,FooterText:()=>g.H,FreePremiumUpsellCard:()=>b.i,IgnoreButton:()=>m.Q,Item:()=>f.c,NewFeatureFooter:()=>E.v,PositionedCard:()=>c.J,PremiumAssistantPreviewCard:()=>F.G,RenderWithStyles:()=>U.L,ReplacementCard:()=>w.X,RowWithIcon:()=>M.O,SimpleFooter:()=>L.z,SimpleMessageCard:()=>x.t,SmartPhrasesCard:()=>y.v,SmartPhrasesCardV2:()=>y.k,SnippetsCard:()=>N.L,SnippetsCreateBtn:()=>N.O,SnippetsEditor:()=>Z.M,SnippetsStopPropagationWrapper:()=>k.q,SuggestionCard:()=>T.Y,SuggestionCardHeader:()=>I._,SuggestionCardMini:()=>H.O,SynonymsCard:()=>B.x,TakeawayCard:()=>A.q,TextOnlyCard:()=>O.A,UnifiedFunnelAnonymousFooter:()=>v.h,UnknownWordCard:()=>D.$,UpgradeButton:()=>h.Y,VoxReplacementCard:()=>V.W,VoxTextOnlyCard:()=>P.a});var i=n(27378),r=n(74850),a=n(58028),p=n(79517),o=n(90361),c=n(82168),l=n(2134),d=n(41916),m=n(68011),h=n(2041),u=n(13740),_=n(90772),C=n(89634),g=n(38031),E=n(74942),L=n(99714),v=n(52504),S=n(46547),f=n(76703),M=n(92309),b=n(19570),w=n(46692),x=n(26307),y=n(48643),N=n(88434),Z=n(71031),k=n(46777),T=n(22777),H=n(89230),I=n(66417),B=n(37618),O=n(51135),D=n(61243),V=n(52496),P=n(50624),A=n(14217),F=n(37750),R=n(25703),W=n(25691),U=n(41263);const $=r.Y.create("universal/cs/integration/fluid/iframe-proxy/ComponentProxy");function q(e){return i.createElement(G,{...e})}const G=({children:e,cardKey:t,onUpdate:n,...s})=>{const r=i.useRef({}),[a,p]=i.useState(null),o=i.useMemo((()=>e=>{const t=r.current[e.id];t?t(...e.args):$.warn(`Skipping Callback ${e.id}`)}),[]);return i.useEffect((()=>{const{callbackRegister:i,card:c,key:l}=K({card:e,key:t},s),d=n({card:c,key:l});return r.current=i,p(d.subscribe(o)),()=>{a&&a.unsubscribe(),p(null)}}),[e]),null},j=e=>t=>t[e],z=(e,t,n="root")=>{try{const r=Object.entries(t.options.namedObjects).find((([t,n])=>n===e));if(r)return{__type:"namedObject",name:r[0]};if(i.isValidElement(e)){let i;for(const t in s){const n=j(t)(s);if(e.type===n){i=t;break}}return{__type:"react",props:z(e.props,t,`${n}.[${i}]`),componentName:i}}if(e instanceof Array)return e.map(((e,s)=>z(e,t,`${n}.${s}`)));if(e instanceof HTMLDocument||e&&e.constructor&&e.constructor.toString().indexOf("HTMLDocument")>-1)return{__type:"document"};if("function"==typeof e){const s=`${n}-${o.iy.create()}`;return t.callbackRegister[s]=e,{__type:"callback",id:s}}return(0,a.Kn)(e)?Object.keys(e).reduce(((s,i)=>Object.assign(s,{[i]:z(e[i],t,`${n}.${i}`)})),{}):e}catch(t){return $.warn(`Card Serialize Error ${t}`),e}},K=(e,t)=>{const n={};return{card:e.card&&z(e.card,{callbackRegister:n,options:t}),key:e.key,callbackRegister:n}};function Y(e,t,n,s){return null===e?null:Q(e,{emitCallback:t,getIframeOffset:n,options:s})}const Q=(e,t,n="root")=>{try{if(!(0,a.Kn)(e))return e instanceof Array?e.map(((e,s)=>Q(e,t,`${n}.${s}`))):e;if(void 0===e.__type)return Object.keys(e).reduce(((s,i)=>Object.assign(s,{[i]:Q(e[i],t,`${n}.${i}`)})),{});switch(e.__type){case"callback":const r=e.id;return(...e)=>{t.emitCallback({id:r,args:e})};case"react":const a=e.componentName?e.componentName:p.L.getLazyComponentName(e),o=j(a)(s);if(!o)throw new Error(`Component ${e.componentName} is not recognized as card component`);const c=Q(e.props,t,`${n}.[${e.componentName}]`);return"Container"===e.componentName&&Object.assign(c,{iframeFocusedFieldPosition:t.getIframeOffset()}),i.createElement(o,{...c});case"document":return document;case"namedObject":const l=t.options.namedObjects[e.name];if(!l)throw new Error("Cannot find namedObject");return l}}catch(t){return $.error(`Card Deserialize Error ${t}`),e}}},28773:(e,t,n)=>{n.d(t,{C2:()=>f,EH:()=>U,pi:()=>W});var s=n(22764),i=n(40327),r=n(95300),a=n(2844),p=n(18625),o=n(24209),c=n(77176),l=n(38194),d=n(93508),m=n(85985),h=n(17343),u=n(41398),_=n(17404),C=n(62337),g=n(13116),E=n(55073);function L(){return{items:[],children:new Map}}function v(e,t){return t&&0!==e.length?v(e.slice(1),t.children.get(e[0])||null):t}class S{constructor(e,t){this._root=L(),e.forEach((e=>{const n=e[t];if(!function(e){return"string"==typeof e}(n))throw new Error("Can't search for non-string attributes");n.toLowerCase().split("").reduce(((t,n)=>(t.items.push(e),t.children.has(n)||t.children.set(n,L()),t.children.get(n))),this._root).items.push(e)}))}search(e){const t=[];let n=null,s={node:this._root,depth:0};const i=[];for(;s;){n=v(e.toLowerCase(),s.node),n&&i.push({node:n,depth:s.depth});const r=s.node.children.values();let a=r.next();for(;!a.done;)t.push({node:a.value,depth:s.depth+1}),a=r.next();s=t.shift()||null}return Array.from(i.reduce(((t,n)=>(n.node.items.forEach((s=>{t.has(s)||t.set(s,{start:n.depth,end:n.depth+e.length})})),t)),new Map).entries()).map((([e,t])=>({item:e,range:t})))}}var f,M=n(90361),b=n(75420),w=n(74850),x=n(36991),y=n(84966),N=n(40018),Z=n(15646),k=n(75316),T=n(35416),H=n(44586),I=n(14601),B=n(2834),O=n(66310),D=n(12126),V=n(78674),P=n(83078),A=n(5114);!function(e){e.name="name",e.content="content"}(f||(f={}));const F=new RegExp(`^(.*\\s)?${(0,M.hr)("\\")}(\\s.*)?$`),R=/\s+$/;function W(e,t,n="\\",s=F){if(!t){if(e.deltaChange.isEmpty)return null;{const t=e.deltaChange.delta.ops.slice(0);let i=t.pop();for(;t.length&&i&&!x.s.isInsertString(i);)i=t.pop();if(i&&x.s.isInsertString(i)&&!R.test(i.insert)){const t=e.deltaChange.delta.ops.reduce(((e,t)=>x.s.isInsertString(t)?e+t.insert.length:x.s.isRetain(t)?e+t.retain:e),0);return s.test((0,E.l)(e.deltaChange.delta,e.prevText).slice(Math.max(t-n.length-1,0),t+1))?{start:t-n.length,end:t}:null}return null}}{const{effectStartIndex:s,sizeDelta:i}=e.deltaChange.delta.ops.reduce(((e,t)=>(x.s.isRetain(t)?e.index+=t.retain:x.s.isDelete(t)?(e.effectStartIndex=Math.min(e.effectStartIndex,e.index),e.sizeDelta-=t.delete):x.s.isInsertString(t)?(e.effectStartIndex=Math.min(e.effectStartIndex,e.index),e.index+=t.insert.length,e.sizeDelta+=t.insert.length):x.s.isInsertEmbed(t)&&(e.effectStartIndex=Math.min(e.effectStartIndex,e.index),e.index+=1,e.sizeDelta+=1),e)),{index:0,effectStartIndex:1/0,sizeDelta:0});switch(!0){case s<t.start+n.length:case s>t.end:return null;default:return{...t,end:t.end+i}}}}class U{constructor(e,t,n,i,C,g,E,L,v,f,x,y,N,Z,k,T,H,I=w.Y.create("Snippets")){var B,O;this._rpcClient=e,this._textObserver=t,this._replacementService=n,this._geometryProvider=i,this._geometryLayout=C,this._textFieldLayout=g,this._getCurrentTextMap=E,this._controller=L,this._keyDown=v,this._gnar=f,this._checkingService=x,this._selectionSource=y,this._state=N,this._updateSnippetsShortcutPopupCounter=Z,this._isCurrentFieldFocused=k,this._events=T,this._alertStateService=H,this._log=I,this._insertionRange=new r.X(null),this._activeSnippet=new r.X(null),this._subs=[],this.snippets=(0,a.aj)([this._insertionRange,this._activeSnippet,this._textFieldLayout.rect.behavior]).pipe((0,c.U)((([e,t,n])=>e?this._getModel("list",e,t):null)),(0,l.B)(),(0,d.O)(null)),this.selectionObservable=(0,p.P)((()=>this._selectionSource.data.changes.pipe((0,m.h)((e=>Boolean(e)))))),this.shortcutPopup=this.selectionObservable.pipe((0,c.U)((e=>this._getModel("shortcutPopup",e)))),this._snippetsDataByName=new S([],"name"),this._snippetsDataByContent=new S([],"content"),this._shortcutPopupSessionCounter=0,this._initialShortcutPopupCounter=0,this._reloadSnippets=async()=>{const e=await this._rpcClient.load();this._snippetsDataByName=new S(e,"name"),this._snippetsDataByContent=new S(e,"content")},this.addSnippetsTriggerToAlert=e=>({...e,extra_properties:{...e.extra_properties,snippet_trigger:this._triggerSequence}}),this._initialShortcutPopupCounter=null!==(O=null===(B=this._state.get())||void 0===B?void 0:B.page.snippetsShortcutPopupCounter)&&void 0!==O?O:0,Promise.all([this._rpcClient.load(),this._rpcClient.getTrigger()]).then((([e,t])=>{this._triggerSequence=t||"\\",this._triggerRegexp=new RegExp(`^(.*\\s)?${(0,M.hr)(this._triggerSequence)}(\\s.*)?$`),this._gnar.snippetsListLoaded(e.length),this._snippetsDataByName=new S(e,"name"),this._snippetsDataByContent=new S(e,"content"),this._subs.push((0,o.T)(this.snippets,this.shortcutPopup.pipe((0,m.h)((e=>{var t;return"shortcutPopup"===(null===(t=this._currentModel)||void 0===t?void 0:t.mode)||Boolean(e)}))),this._isCurrentFieldFocused.pipe((0,m.h)((e=>!e)),(0,h.h)(null)),this._events.pipe(c.U((({text:e,textRange:t,onCreate:n})=>this._getModel("editor",t,void 0,e,n))))).subscribe((e=>{e?this._show(e):this._hide()}))),this._subs.push(this._textObserver.contentChanges.async.pipe((0,u.M)(this._insertionRange.pipe((0,d.O)(null))),(0,c.U)((([e,t])=>{const n=W(e,t,this._triggerSequence,this._triggerRegexp);this._insertionRange.next(n),t&&null===n&&this._dismiss("edit"),null===t&&n&&this._gnar.snippetsListPresented(this._triggerSequence)}))).subscribe()),this._subs.push(this._keyDown.pipe((0,u.M)(this._insertionRange.pipe((0,d.O)(null)),this.snippets,this.selectionObservable.pipe((0,d.O)(null)),this._isCurrentFieldFocused)).subscribe((([e,t,n,i,r])=>{const a=(0,s.O)();if(r&&(e=>"KeyS"===e.code&&(a.config.systemInfo.os.isMac?e.ctrlKey:e.altKey))(e)&&(!this._controller.isVisible()||this._controller.isShortcutPopupShown()&&i)){this._gnar.snippetsShortcutUsed();const t=this._getModel("editor",i);if(t)return this._updateSnippetsShortcutPopupCounter(-1),this._show(t),void e.preventDefault()}e.keyCode===b.VD.Escape&&this._dismiss("esc"),t&&(e.keyCode!==b.VD.Tab&&e.keyCode!==b.VD.RightArrow&&e.keyCode!==b.VD.Return||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey?e.keyCode!==b.VD.UpArrow&&e.keyCode!==b.VD.DownArrow||(e.preventDefault(),this._shiftActiveSnippet(e.keyCode===b.VD.UpArrow,n)):t&&n&&n.activeSnippet&&(e.preventDefault(),e.stopPropagation(),this._applySnippet(n.activeSnippet.snippet,t)))}))),this._subs.push(this._textFieldLayout.scroll.behavior.pipe((0,u.M)(this.snippets),(0,m.h)((([e,t])=>!!t))).subscribe((()=>{this._dismiss("scroll")}))),this._subs.push(this._alertStateService.newlyHighlightedAlerts.pipe(m.h(_.S.isSuggestedSnippetAlert)).subscribe((()=>this._gnar.suggestedSnippetHighlightShow())))})).catch((e=>{this._log.warn("Could not intialize",e)})),this._gnar.snippetsFeatureInit()}_applySnippet(e,t){this._dismiss("apply"),this._gnar.snippetsSnippetApplied(t.end-t.start-this._triggerSequence.length),this._replacementService.performReplacement(t,e.content,!1),this._checkingService&&this._checkingService.onSnippetFeedback({kind:y.JE.SNIPPET_ACCEPTED,snippetUuid:e.id})}_selectSnippet(e){this._activeSnippet.next(e)}_getSnippetsForText(e){return[...this._snippetsDataByName.search(e).map((e=>({snippet:e.item,range:e.range,location:f.name}))),...this._snippetsDataByContent.search(e).map((e=>({snippet:e.item,range:e.range,location:f.content})))].reduce(((e,t)=>(e.set.has(t.snippet.id)||e.result.push(t),e.set.add(t.snippet.id),e)),{set:new Set,result:new Array}).result.slice(0,30)}_shiftActiveSnippet(e,t){var n;if(t&&t.matches.length&&t.activeSnippet){const s=t.activeSnippet.index;s>-1?this._activeSnippet.next((null===(n=t.matches[Math.min(t.matches.length-1,Math.max(s+(e?-1:1),0))])||void 0===n?void 0:n.snippet)||null):this._activeSnippet.next(null)}else this._activeSnippet.next(null)}_dismiss(e){this._insertionRange.next(null),this._activeSnippet.next(null),"apply"!==e&&this._gnar.snippetsListDismissed(e)}_getModel(e,t,n,s,i){var r;const a=this._getCurrentTextMap(),p=t&&this._geometryProvider.create(t,a),o=p?this._geometryProvider.getClientRects(p):null,c=null!==(r=o&&o.length&&("list"===e?o[0]:o[o.length-1]))&&void 0!==r?r:null,l=c&&(0,g.Z)(C.UL.setPosition(this._geometryLayout.getApproximateConversionContext().clientToRelative(c),c),this._textFieldLayout.rect.getApproximate().client,this._textFieldLayout.scroll.getApproximate())||"editor"===e&&(d=this._textFieldLayout.rect.getApproximate().client,C.UL.setPosition(d,{height:1,width:1}));var d;if(!l)return null;if("shortcutPopup"===e){if(this._initialShortcutPopupCounter<0||this._initialShortcutPopupCounter>=3)return null;if(0===this._shortcutPopupSessionCounter&&this._updateSnippetsShortcutPopupCounter(this._initialShortcutPopupCounter+1),this._shortcutPopupSessionCounter%3!=0||this._shortcutPopupSessionCounter>6)return this._shortcutPopupSessionCounter++,null;this._shortcutPopupSessionCounter++}const m=t?this._getSnippetsForText(a.getPlainText().substring(t.start+this._triggerSequence.length,t.end)):[],h=t?t.end-t.start-this._triggerSequence.length:0,u=n?m.findIndex((e=>e.snippet.id===n.id)):-1;return{rect:l,matches:m,mode:e,applySnippet:e=>{t&&this._applySnippet(e,t)},selectSnippet:e=>{this._selectSnippet(e)},addSnippet:async(e,t)=>{await this._createSnippet(e,t)&&(i&&i(),this._gnar.snippetsInlineSnippetCreated(),this._reloadSnippets()),this._hide()},activeSnippet:m.length?n&&u>-1?{snippet:n,index:u}:{snippet:m[0].snippet,index:0}:null,matchLength:h,triggerSequence:this._triggerSequence,content:s||("list"!==e&&t?a.getPlainText().substring(t.start,t.end):"")}}_createSnippet(e,t){return this._rpcClient.addSnippet({name:e,content:t,hierarchy:"PERSONAL"})}_show(e){this._currentModel=e,this._controller.show(e)}_hide(){this._currentModel=null,this._controller.hide()}static _subscribeToMuteOrUndoMuteButtonClick(e,t,n,s,r){e.add(t.pipe(m.h(s),u.M(n),c.U((([e,t])=>T.nL.hasItems(t)?(0,i.pipe)(t.currentLens.items.get(e.id),A.fold((()=>null),(e=>e.value))):null)),m.h(M.fQ),m.h(k.C.isSuggestedSnippetItem)).subscribe(r))}dispose(){this._subs.forEach((e=>e.unsubscribe()))}initCardActionsProcessing(e,t,n,s){return new H.y((()=>{const r=new I.w;return r.add(e.pipe(m.h(Z.lY.isCreateSnippetAction),B.b((()=>this._gnar.suggestedSnippetCardAccept("assistant"))),O.w((({snippetName:e,snippetText:t})=>D.D(this._createSnippet(e,t))))).subscribe(this._reloadSnippets)),r.add(e.pipe(m.h(Z.lY.isSuggestedSnippetSuccessDismissed)).subscribe((e=>{(0,i.pipe)(t.getById(e.alertId),A.chain(N.bZ.getRawId),A.fold((()=>this._log.error("Tried to acknowledge nonexistent snippet alert from the sidebar",{alertId:e.alertId})),(e=>{var t;return null===(t=this._checkingService)||void 0===t?void 0:t.onAlertAcknowledged(e,y.e3.Sidebar)})))}))),r.add(n.pipe(m.h(k.C.isSuggestedSnippetItem)).subscribe((()=>this._gnar.suggestedSnippetMiniCardShow()))),r.add(e.pipe(m.h(Z.lY.isAlertCardShow),c.U((e=>e.alertId)),V.b(300)).subscribe((e=>(0,i.pipe)(t.getById(e),A.filter(N.bZ.isSuggestedSnippet),P.tap((()=>this._gnar.suggestedSnippetCardLook("assistant"))))))),r.add(e.pipe(m.h(Z.lY.isAlertIgnoreAction)).subscribe((e=>(0,i.pipe)(t.getById(e.alertId),A.filter(N.bZ.isSuggestedSnippet),P.tap((()=>this._gnar.suggestedSnippetCardDismiss("assistant"))))))),U._subscribeToMuteOrUndoMuteButtonClick(r,e,s,Z.lY.isMuteCategoryAction,(()=>this._gnar.suggestedSnippetCardDeactivate("assistant"))),U._subscribeToMuteOrUndoMuteButtonClick(r,e,s,Z.lY.isUndoMuteCategoryAction,(()=>this._gnar.suggestedSnippetCardUndoDeactivate("assistant"))),()=>r.unsubscribe()}))}}},88434:(e,t,n)=>{n.d(t,{L:()=>h,O:()=>g});var s=n(22764),i=n(92783),r=n(27378),a=n(28773),p=n(20855),o=n(12187),c=n(80584);const l=e=>{const t=(50-(e.range.end-e.range.start))/2-3;return e.location===a.C2.content?{prefix:d(e.snippet.content,e.range.start,t),content:e.snippet.content.slice(e.range.start,e.range.end),suffix:e.snippet.content.slice(e.range.end)}:{content:e.snippet.content}},d=(e,t,n=1/0)=>e.slice(0,t).split(" ").reduceRight(((e,t,s)=>{let i=e.text,r=e.wordsLeft;return r?(i.length+t.length<n&&(i=i?`${t} ${i}`:t||" "),t?r--:i=`${i}`,!r&&s&&(i=`...${i}`),{text:i,wordsLeft:r}):e}),{text:"",wordsLeft:2}).text,m=()=>(0,s.O)().config.systemInfo.os.isMac?"CONTROL":"ALT";class h extends r.Component{constructor(){super(...arguments),this._selectionStopped=!1,this.state={menuOpen:!1}}_checkScroll(){const{activeSnippet:e}=this.props;if(e&&this.refs.scrollingList){const t=58,n=this.refs.scrollingList,s=n.scrollTop,i=e.index*t,r=Math.max(0,e.index*t-2*t),a=s+t/2<r?r:s-t/2>i?i:s;a!==s&&(this._selectionStopped=!0,n.scrollTop=a,setTimeout((()=>{this._selectionStopped=!1}),0))}}_processSnippetHover(e){this._selectionStopped||this.props.selectSnippet(e)}_toggleMenu(){this.setState({menuOpen:!this.state.menuOpen})}_onOpenLink(e){this.setState({menuOpen:!1}),this.props.onOpenLink(e)}componentDidUpdate(){this._checkScroll()}componentDidMount(){this._checkScroll()}render(){return r.createElement("div",{className:c.snippetsCard},this.props.matches.length?r.createElement("dl",{ref:"scrollingList",className:c.snippetsCard__snippets},this.props.matches.map((e=>{var t,n;return r.createElement("div",{...(0,o.Sh)(c.snippetsCard__snippet,e.snippet.id===(null===(n=null===(t=this.props.activeSnippet)||void 0===t?void 0:t.snippet)||void 0===n?void 0:n.id)?c.snippetsCard__snippet_active:null),key:e.snippet.id,onClick:()=>this.props.applySnippet(e.snippet),onMouseEnter:()=>this._processSnippetHover(e.snippet)},r.createElement(u,{match:e,triggerSequence:this.props.triggerSequence}),r.createElement(_,{match:e,content:l(e)}))}))):r.createElement(C,null),r.createElement("div",{className:c.snippetsCard__footer},r.createElement("div",{className:c["snippetsCard__footer-logo"]},r.createElement("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M16,8C16,12.418 12.418,16 8,16C3.582,16 0,12.418 0,8C0,3.582 3.582,0 8,0C12.418,0 16,3.582 16,8Z",fill:"#9FA6BF"}),r.createElement("path",{d:"M9.045,9.727C9.093,9.989 9.339,10.169 9.605,10.169L10.443,10.169L10.929,10.1C10.152,11.241 8.802,11.766 7.326,11.534C6.125,11.346 5.093,10.533 4.657,9.397C3.669,6.82 5.551,4.36 8.003,4.36C9.282,4.36 10.403,5.128 11.046,6.031C11.217,6.277 11.554,6.348 11.801,6.177C12.034,6.015 12.102,5.707 11.962,5.465C11.073,4.077 9.475,3.189 7.679,3.309C5.34,3.466 3.447,5.38 3.312,7.721C3.156,10.444 5.316,12.668 8.003,12.668C9.415,12.668 10.678,12.054 11.539,11.059L11.437,11.63L11.437,12.145C11.437,12.411 11.617,12.657 11.878,12.705C12.222,12.767 12.522,12.504 12.522,12.171L12.522,9.084L9.578,9.084C9.246,9.084 8.983,9.384 9.045,9.727Z",fill:"white"}))),r.createElement("div",{className:c["snippetsCard__footer-hints"]},r.createElement("span",{className:c.buttonTip__group},"navigate"," ",r.createElement("span",{className:c.buttonTip},r.createElement("svg",{viewBox:"0 0 10 6",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M9.354,4.603L5,0.249L0.646,4.603C0.451,4.798 0.451,5.115 0.646,5.31C0.842,5.505 1.158,5.505 1.354,5.31L5,1.663C5,1.663 8.646,5.31 8.646,5.31C8.842,5.505 9.158,5.505 9.354,5.31C9.549,5.115 9.549,4.798 9.354,4.603Z"})))," ",r.createElement("span",{className:c.buttonTip},r.createElement("svg",{viewBox:"0 0 10 6",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M0.646,1.183L5,5.536L9.354,1.183C9.549,0.988 9.549,0.671 9.354,0.476C9.158,0.28 8.842,0.28 8.646,0.476L5,4.122C5,4.122 1.354,0.476 1.354,0.476C1.158,0.28 0.842,0.28 0.646,0.476C0.451,0.671 0.451,0.988 0.646,1.183Z"})))),r.createElement("span",{className:c.buttonTip__group},"select ",r.createElement("span",{className:c.buttonTip},"Enter")),r.createElement("span",{className:c.buttonTip__group},"cancel ",r.createElement("span",{className:c.buttonTip},"Esc"))),r.createElement("span",{...(0,o.Sh)(c["snippetsCard__footer-menuButton"],this.state.menuOpen?c["snippetsCard__footer-menuButton_active"]:null),onClick:()=>{this._toggleMenu()}},r.createElement("svg",{viewBox:"0 0 4 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M2,12C0.895,12 0,12.895 0,14C0,15.105 0.895,16 2,16C3.105,16 4,15.105 4,14C4,12.895 3.105,12 2,12ZM2,13C2.552,13 3,13.448 3,14C3,14.552 2.552,15 2,15C1.448,15 1,14.552 1,14C1,13.448 1.448,13 2,13ZM2,6C0.895,6 0,6.895 0,8C0,9.105 0.895,10 2,10C3.105,10 4,9.105 4,8C4,6.895 3.105,6 2,6ZM2,7C2.552,7 3,7.448 3,8C3,8.552 2.552,9 2,9C1.448,9 1,8.552 1,8C1,7.448 1.448,7 2,7ZM2,0C0.895,0 0,0.895 0,2C0,3.105 0.895,4 2,4C3.105,4 4,3.105 4,2C4,0.895 3.105,0 2,0ZM2,1C2.552,1 3,1.448 3,2C3,2.552 2.552,3 2,3C1.448,3 1,2.552 1,2C1,1.448 1.448,1 2,1Z"}))),this.state.menuOpen&&r.createElement("ul",{className:c["snippetsCard__footer-menu"]},r.createElement("li",{className:c["snippetsCard__footer-menuItem"]},r.createElement("a",{target:"_blank",href:(0,i.Um)().snippetsNew,onClick:()=>{this._onOpenLink("new")}},r.createElement("span",{className:c["snippetsCard__footer-menuItem-icon"]},r.createElement("svg",{viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M25.5,16C25.5,10.753 21.247,6.5 16,6.5C10.753,6.5 6.5,10.753 6.5,16C6.5,21.247 10.753,25.5 16,25.5C21.247,25.5 25.5,21.247 25.5,16ZM24.5,16C24.5,20.694 20.694,24.5 16,24.5C11.306,24.5 7.5,20.694 7.5,16C7.5,11.306 11.306,7.5 16,7.5C20.694,7.5 24.5,11.306 24.5,16ZM15.5,15.5L11.5,15.5C11.224,15.5 11,15.724 11,16C11,16.276 11.224,16.5 11.5,16.5L15.5,16.5L15.5,20.5C15.5,20.776 15.724,21 16,21C16.276,21 16.5,20.776 16.5,20.5L16.5,16.5L20.5,16.5C20.776,16.5 21,16.276 21,16C21,15.724 20.776,15.5 20.5,15.5L16.5,15.5L16.5,11.5C16.5,11.224 16.276,11 16,11C15.724,11 15.5,11.224 15.5,11.5L15.5,15.5Z"}))),r.createElement("span",{className:c["snippetsCard__footer-menuItem-textGroup"]},r.createElement("span",{className:c["snippetsCard__footer-menuItem-text"]},"Create snippet"),r.createElement("span",{className:c["snippetsCard__footer-shortcut"]},r.createElement("span",{className:c.buttonTip},m())," +"," ",r.createElement("span",{className:c.buttonTip},"S"))))),r.createElement("li",{className:c["snippetsCard__footer-menuItem"]},r.createElement("a",{target:"_blank",href:(0,i.Um)().snippetsAdmin,onClick:()=>{this._onOpenLink("library")}},r.createElement("span",{className:c["snippetsCard__footer-menuItem-icon"]},r.createElement("svg",{viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M9,22.5C9,23.881 10.119,25 11.5,25L22.5,25C22.776,25 23,24.776 23,24.5C23,24.224 22.776,24 22.5,24L11.5,24C10.672,24 10,23.328 10,22.5C10,21.672 10.672,21 11.5,21L22.5,21C22.776,21 23,20.776 23,20.5L23,13.5C23,13.224 22.776,13 22.5,13C22.224,13 22,13.224 22,13.5L22,20C22,20 11.5,20 11.5,20C10.937,20 10.418,20.186 10,20.5L10,9.5C10,8.672 10.672,8 11.5,8C11.5,8 16.5,8 16.5,8C16.776,8 17,7.776 17,7.5C17,7.224 16.776,7 16.5,7L11.5,7C10.119,7 9,8.119 9,9.5L9,22.5ZM22.5,22L11.5,22C11.224,22 11,22.224 11,22.5C11,22.776 11.224,23 11.5,23L22.5,23C22.776,23 23,22.776 23,22.5C23,22.224 22.776,22 22.5,22ZM22,7L19.5,7C19.224,7 19,7.224 19,7.5C19,7.776 19.224,8 19.5,8L22,8L22,10.5C22,10.776 22.224,11 22.5,11C22.776,11 23,10.776 23,10.5L23,8L25.5,8C25.776,8 26,7.776 26,7.5C26,7.224 25.776,7 25.5,7L23,7L23,4.5C23,4.224 22.776,4 22.5,4C22.224,4 22,4.224 22,4.5L22,7Z"}))),r.createElement("span",{className:c["snippetsCard__footer-menuItem-textGroup"]},r.createElement("span",{className:c["snippetsCard__footer-menuItem-text"]},"Open library")))),r.createElement("li",{className:c["snippetsCard__footer-menuItem"]},r.createElement("a",{target:"_blank",href:(0,i.Um)().snippetsSettings,onClick:()=>{this._onOpenLink("customize")}},r.createElement("span",{className:c["snippetsCard__footer-menuItem-icon"]},r.createElement("svg",{viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M24.5,23.5C24.776,23.5 25,23.724 25,24C25,24.276 24.776,24.5 24.5,24.5L7.5,24.5C7.224,24.5 7,24.276 7,24C7,23.724 7.224,23.5 7.5,23.5L24.5,23.5Z"}),r.createElement("path",{d:"M20.894,8.354L22.146,9.606C22.732,10.192 22.732,11.142 22.146,11.727L12.374,21.5L9,21.5L9,18.126L18.773,8.354C19.359,7.768 20.308,7.768 20.894,8.354ZM17.666,10.873L10,18.54L10,20.5L11.96,20.5L19.626,12.833L17.666,10.873ZM19.48,9.061L18.373,10.166L20.333,12.126L21.439,11.02C21.635,10.825 21.635,10.508 21.439,10.313L20.187,9.061C19.992,8.865 19.675,8.865 19.48,9.061Z"}))),r.createElement("span",{className:c["snippetsCard__footer-menuItem-textGroup"]},r.createElement("span",{className:c["snippetsCard__footer-menuItem-text"]},"Edit shortcut"),r.createElement("span",{className:c["snippetsCard__footer-shortcut"]},r.createElement("span",{...(0,o.Sh)(c.buttonTip,c["snippetsCard__footer-editShortcut"])},this.props.triggerSequence))))))))}}const u=e=>r.createElement("dt",{className:c["snippetsCard__snippet-name"]},r.createElement("span",{...(0,o.Sh)(c["snippetsCard__snippet-logo"],"PERSONAL"===e.match.snippet.hierarchy?c["snippetsCard__snippet-logo-personal"]:c["snippetsCard__snippet-logo-global"])}),r.createElement("span",{className:c["snippetsCard__snippet-name-match"]},e.triggerSequence),e.match.location===a.C2.name?r.createElement(r.Fragment,null,e.match.snippet.name.slice(0,e.match.range.start),r.createElement("span",{className:c["snippetsCard__snippet-name-match"]},e.match.snippet.name.slice(e.match.range.start,e.match.range.end)),e.match.snippet.name.slice(e.match.range.end)):r.createElement(r.Fragment,null,e.match.snippet.name)),_=e=>r.createElement("dd",{className:c["snippetsCard__snippet-content"]},e.match.location===a.C2.content?r.createElement(r.Fragment,null,e.content.prefix,r.createElement("span",{className:c["snippetsCard__snippet-content-match"]},e.content.content),e.content.suffix):r.createElement(r.Fragment,null,e.content.content)),C=()=>r.createElement("div",{className:c.snippetsCard__empty},r.createElement("div",{className:c["snippetsCard__empty-pic"]}),r.createElement("span",{className:c["snippetsCard__empty-title"]},"Your search did not match any snippets"),r.createElement("div",{className:c["snippetsCard__empty-shortcut"]},"To create one, press ",r.createElement("span",{...(0,o.Sh)(c.buttonTip)},m()),"+",r.createElement("span",{...(0,o.Sh)(c.buttonTip)},"S"))),g=e=>(r.useEffect((()=>{e.onShow()}),[]),r.createElement("div",{className:c.snippetsCreateBtn},r.createElement("span",{className:c.snippetsCreateBtn__logo},r.createElement("svg",{viewBox:"0 0 22 22",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M10.97,0C4.912,0 0,4.91 0,10.968C0,17.026 4.912,21.938 10.97,21.938C17.03,21.938 21.94,17.026 21.94,10.968C21.94,4.91 17.03,0 10.97,0ZM17.133,16.713C17.133,17.169 16.748,17.529 16.276,17.443C15.916,17.379 15.696,17.041 15.696,16.677L15.696,15.97L15.821,15.188C14.601,16.595 12.827,17.401 10.965,17.394C7.281,17.394 4.315,14.344 4.528,10.612C4.713,7.402 7.308,4.746 10.514,4.532C12.978,4.366 15.166,5.609 16.384,7.454L16.38,7.454C16.572,7.864 16.484,8.24 16.163,8.464C16.038,8.552 15.889,8.599 15.736,8.599C15.494,8.599 15.267,8.48 15.128,8.282L15.128,8.274C14.246,7.044 12.708,6.007 10.956,6.007C7.593,6.007 5.012,9.377 6.368,12.912C6.965,14.468 8.38,15.582 10.028,15.84C12.051,16.158 13.902,15.462 14.968,13.898L14.302,14.015L13.152,14.015C12.788,14.015 12.45,13.795 12.385,13.435C12.3,12.965 12.66,12.58 13.115,12.58L17.133,12.58L17.133,16.713Z"}))),r.createElement("span",{className:c.snippetsCreateBtn__textGroup},r.createElement("span",{onClick:e.openEditor,className:c.snippetsCreateBtn__text},"Create a snippet"),r.createElement("span",{onClick:e.openEditor,className:c.snippetsCreateBtn__shortcut},r.createElement("span",{className:c.buttonTip},m())," +"," ",r.createElement("span",{className:c.buttonTip},"S"))),r.createElement(p.u,{offset:{vertical:-12},message:"Turn highlighted text into a snippet to use it later.",showDelay:300},r.createElement("span",{className:c.snippetsCreateBtn__tooltip},"?"))))},71031:(e,t,n)=>{n.d(t,{M:()=>l});var s=n(57050),i=n(27378),r=n(80584),a=n(4557),p=n(95195),o=n(5114);const c={nameEmpty:"Name cannot be empty.",nameTooLong:"Snippet names cannot exceed 30 characters.",textEmpty:"Snippet cannot be empty.",textTooLong:"Snippets cannot exceed 1,000 characters."},l=e=>{const[t,n]=i.useState(""),[l,d]=i.useState(e.content),[m,h]=i.useState(""),[u,_]=i.useState(""),C=(t,n)=>{(0,s.pipe)(a.B.validate(t,n,c),p.fold((e=>{(0,s.pipe)(e.nameError,o.fold((()=>h("")),h)),(0,s.pipe)(e.contentError,o.fold((()=>_("")),_))}),(()=>{e.addSnippet(t,n),h(""),_("")})))};return i.createElement("div",{className:r.snippetsEditor,onKeyUp:e=>{"Enter"===e.key&&C(t,l)}},i.createElement("div",{className:r.snippetsEditor__topWrapper},i.createElement("input",{onMouseDown:e=>e.stopPropagation(),onChange:e=>{const t=e.target;n(t.value)},autoFocus:!0,className:r.snippetsEditor__topWrapper_name,placeholder:"New snippet"}),m.length?i.createElement("div",{className:r.snippetsEditor__topWrapper_nameError},m):null,i.createElement("textarea",{onMouseDown:e=>e.stopPropagation(),onChange:e=>{const t=e.target;d(t.value)},className:r.snippetsEditor__topWrapper_content,placeholder:"Write a snippet of text that can be used again and again.",value:l}),u.length?i.createElement("div",{className:r.snippetsEditor__topWrapper_contentError},u):null),i.createElement("div",{className:r.snippetsEditor__bottomWrapper},i.createElement("div",{className:r.snippetsEditor__bottomWrapper_logo},i.createElement("svg",{viewBox:"0 0 22 22",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M10.97,0C4.912,0 0,4.91 0,10.968C0,17.026 4.912,21.938 10.97,21.938C17.03,21.938 21.94,17.026 21.94,10.968C21.94,4.91 17.03,0 10.97,0ZM17.133,16.713C17.133,17.169 16.748,17.529 16.276,17.443C15.916,17.379 15.696,17.041 15.696,16.677L15.696,15.97L15.821,15.188C14.601,16.595 12.827,17.401 10.965,17.394C7.281,17.394 4.315,14.344 4.528,10.612C4.713,7.402 7.308,4.746 10.514,4.532C12.978,4.366 15.166,5.609 16.384,7.454L16.38,7.454C16.572,7.864 16.484,8.24 16.163,8.464C16.038,8.552 15.889,8.599 15.736,8.599C15.494,8.599 15.267,8.48 15.128,8.282L15.128,8.274C14.246,7.044 12.708,6.007 10.956,6.007C7.593,6.007 5.012,9.377 6.368,12.912C6.965,14.468 8.38,15.582 10.028,15.84C12.051,16.158 13.902,15.462 14.968,13.898L14.302,14.015L13.152,14.015C12.788,14.015 12.45,13.795 12.385,13.435C12.3,12.965 12.66,12.58 13.115,12.58L17.133,12.58L17.133,16.713Z"}))),i.createElement("div",{className:r.snippetsEditor__bottomWrapper_text},"To use this snippet later, type"," ",i.createElement("span",{className:r.buttonTip},e.triggerSequence)," and search by name"),i.createElement("div",{className:r.snippetsEditor__bottomWrapper_buttons},i.createElement("div",{onClick:()=>e.dismiss(),className:r.snippetsEditor__bottomWrapper_cancelBtn},"Cancel"),i.createElement("div",{onClick:()=>C(t,l),className:r.snippetsEditor__bottomWrapper_saveBtn},"Save"))))}},46777:(e,t,n)=>{n.d(t,{q:()=>i});var s=n(27378);const i=e=>s.createElement("div",{onKeyDown:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation()},e.children)},37147:e=>{e.exports={autocorrectCard:"PpGBD",divider:"MhjgC",footerCaption:"_2eOqs",settingsButton:"_3iKhn",buttonRow:"oFvTm",button:"_3Gaqf",acceptButton:"_2CRGW",rejectButton:"mABfx",originalText:"_3ZnGK",listItem:"_2P3-d",buttonWrap:"_2mJIV",icon:"hcyh3",caption:"_1yGsG"}},80584:e=>{e.exports={snippetsEditor:"_1QGZn",snippetsEditor__topWrapper:"_1mxO5",snippetsEditor__topWrapper_name:"_21OqE",snippetsEditor__topWrapper_nameError:"_3WrA4",snippetsEditor__topWrapper_content:"_2Osmi",snippetsEditor__topWrapper_contentError:"_32mdE",snippetsEditor__bottomWrapper:"ans9X",snippetsEditor__bottomWrapper_logo:"c0O33",snippetsEditor__bottomWrapper_text:"_2uzuH",snippetsEditor__bottomWrapper_buttons:"_21hJF",snippetsEditor__bottomWrapper_cancelBtn:"hQBPX",snippetsEditor__bottomWrapper_saveBtn:"_3QPmq",snippetsCreateBtn:"_1P42Q",snippetsCreateBtn__logo:"_2XGoR",snippetsCreateBtn__textGroup:"_2QONg",snippetsCreateBtn__text:"_11-LY",snippetsCreateBtn__shortcut:"_26xGk",snippetsCreateBtn__tooltip:"_2cqo9",snippetsCard:"_3dxQw",snippetsCard__snippets:"pURh0",snippetsCard__snippet:"_1GpcE",snippetsCard__snippet_active:"_1qQiP","snippetsCard__snippet-logo":"_2T6IO","snippetsCard__snippet-logo-personal":"ix5X4","snippetsCard__snippet-logo-global":"qrnjA","snippetsCard__snippet-name":"Q8VGy","snippetsCard__snippet-name-match":"guBYZ","snippetsCard__snippet-content":"_2mZiD","snippetsCard__snippet-content-match":"IniHV",snippetsCard__footer:"_2dtaG","snippetsCard__footer-logo":"_3gH2M","snippetsCard__footer-shortcut":"_1w9po","snippetsCard__footer-hints":"_484sZ","snippetsCard__footer-menuButton":"_1R0o-","snippetsCard__footer-menuButton_active":"_1HAga","snippetsCard__footer-editShortcut":"_2rv26","snippetsCard__footer-menu":"_3mLM-","snippetsCard__footer-menuItem":"_39MWm","snippetsCard__footer-menuItem-text":"_2RRzt","snippetsCard__footer-menuItem-icon":"_31HNb","snippetsCard__footer-menuItem-textGroup":"_1zFr2",snippetsCard__empty:"_1AZ3A","snippetsCard__empty-pic":"_3w1r-","snippetsCard__empty-title":"_3o-c8","snippetsCard__empty-shortcut":"Js6HX",buttonTip:"ImChS",buttonTip__group:"_1-RD5"}}}]);