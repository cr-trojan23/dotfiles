(self.webpackChunk=self.webpackChunk||[]).push([[1010],{71284:(e,t,n)=>{n.d(t,{a:()=>i,A:()=>l});var i,r=n(27378),a=n(88056),o=n(95195),s=n(95574);!function(e){let t;!function(e){e.supportsSVGDominantBaseline="supportsSVGDominantBaseline",e.supportsSetGoalsLoader="supportsSetGoalsLoader",e.onlyTrustedEvents="onlyTrustedEvents"}(t=e.Flag||(e.Flag={})),e.Context=r.createContext(a.Y.invariantContent("PlatformEnvironment"));e.Mock=class{constructor(){this.has=()=>!1,this.actions={openUrl:()=>o.right(void 0),openPopup:()=>o.right(void 0)}}}}(i||(i={}));class l{constructor(){this.actions={openUrl:e=>s.tryCatchError((()=>{throw new Error("Not implemented")})),openPopup:e=>s.tryCatchError((()=>{throw new Error("Not implemented")}))}}has(e){throw new Error("Not implemented")}}},29847:(e,t,n)=>{n.d(t,{l5:()=>k,EJ:()=>E,T9:()=>N});var i=n(27378),r=n(71249),a=n(57050),o=n(40327),s=n(38983),l=n(5739),c=n(93508),u=n(77176),d=n(16118),p=n(32952),m=n(98403),h=n(44586),f=n(76974),g=n(24209),y=n(38062),v=n(50628),b=n(80900),C=n(17343),x=n(60797),w=n(69935),I=n(19751),S=n(5114);class k extends i.Component{constructor(){super(...arguments),this._state=this.props.state.pipe(c.O(void 0),u.U(((e,t)=>({state:e,key:t}))),d.G(),u.U((([e,t])=>{const n=this.props.stateToClassMapper(e.state,t.state);return{prev:{key:e.key,state:e.state,view:T(n.prev)},next:{key:t.key,state:t.state,view:T(n.next)}}}))),this._elements=s.h.create(A.empty),this._done=new p.xQ,this._subs=[]}componentDidMount(){const{children:e}=this.props;this._subs.push(this._state.pipe(u.U((({prev:t,next:n})=>{const i=e;return void 0===e?A.empty:[(0,o.pipe)(t.state,S.fromNullable,S.map((e=>i({state:e,view:t.view,type:"prev",done:()=>this._done.next("prev")}))),S.chain(S.fromNullable),S.map((e=>({key:t.key,entry:e})))),(0,o.pipe)(i({state:n.state,view:n.view,type:"next"}),S.fromNullable,S.map((e=>({key:n.key,entry:e}))))]}))).subscribe(m.wW(this._elements)),this._done.subscribe((e=>{"prev"===e&&this._elements.modify((([e,t])=>[S.none,t])),"next"===e&&this._elements.set(A.empty)})))}componentWillUnmount(){this._subs.forEach((e=>e.unsubscribe())),this._subs=[]}render(){const{children:e,className:t,onMount:n,onMouseDown:a}=this.props;return e?i.createElement(l.F.div,{className:t,mount:n,onMouseDown:a},this._elements.view(r.array.compact).view((e=>e.map((e=>i.createElement(i.Fragment,{key:e.key},e.entry)))))):null}}const E=e=>({start:e,end:e});var A;function T({start:e,end:t}){return h.y.create((n=>{n.next(e);const i=requestAnimationFrame((()=>requestAnimationFrame((()=>n.next(t)))));return()=>cancelAnimationFrame(i)}))}!function(e){e.empty=[S.none,S.none]}(A||(A={}));const N=e=>{const t=e.content.pipe(u.U((t=>({className:e.classes.rendered,el:t,onTransitionEnd:a.constVoid}))),u.U(S.some),c.O(S.none),d.G(),u.U((([t,n])=>(0,o.pipe)(t,S.fold((()=>S.map(f.of)(n)),(t=>(0,o.pipe)(n,S.map((n=>{const i=new p.xQ;return g.T(f.of({className:e.classes.removing,el:t.el,onTransitionEnd:()=>i.next()}),y.S3(i.pipe(v.P()),b.H(e.timeout)).pipe(C.h(n)))})))))))),x.oA,w.B(),I.d({refCount:!0,bufferSize:1}));return i.createElement(l.F.div,{className:t.pipe(u.U((e=>e.className))),onTransitionEnd:t.pipe(u.U((e=>e.onTransitionEnd)))},t.pipe(u.U((e=>e.el))))}},62310:(e,t,n)=>{n.d(t,{C:()=>i});var i,r=n(27378),a=n(12187),o=n(44060),s=n(63969),l=n(40219),c=n(21474);!function(e){e.Regular=e=>r.createElement("span",Object.assign({},(0,a.Sh)(h.badge,e.className)),e.children),e.New=({className:t})=>r.createElement(e.Regular,{className:t},"New"),e.NewWrapper=({children:t})=>r.createElement("div",null,r.createElement(e.New,null),t),e.Premium=({className:t})=>r.createElement(e.Regular,Object.assign({},(0,a.Sh)(h.premiumBadge,t)),r.createElement(c.JO.PaidLink,{className:h.premiumBadgeIcon,width:12}),"PREMIUM"),e.Business=({className:t})=>r.createElement(e.Regular,Object.assign({},(0,a.Sh)(t)),"BUSINESS")}(i||(i={}));const u={display:"inline-block",padding:`${s.u.rem(o.Zh.BadgeY)} ${s.u.rem(o.Zh.BadgeX)}`,height:s.u.rem(o.L3.Badge),borderRadius:s.u.rem(l.mA),background:o.Il.CoreGreen10,color:o.Il.CoreGreen70,verticalAlign:"middle",textAlign:"center",textTransform:o._5.Badge,letterSpacing:o.LK.Badge,fontWeight:o.U9.Badge,fontSize:s.u.rem(o.Bf.Badge),lineHeight:s.u.rem(o.L3.Badge)},d={marginRight:o.Zh.BadgeX,maxWidth:s.u.rem(o.L3.Badge),maxHeight:s.u.rem(o.L3.Badge),minWidth:s.u.rem(o.L3.Badge),minHeight:s.u.rem(o.L3.Badge),verticalAlign:"top"},p={background:o.Il.CoreYellow20,color:o.Il.CoreYellow80},m={fill:o.Il.CoreYellow80},h=s.u.stylesheet({badge:[u],badgeIcon:[d],premiumBadge:[u,p],premiumBadgeIcon:[d,m]})},24811:(e,t,n)=>{n.d(t,{B:()=>C,N:()=>x});var i=n(27378),r=n(5739),a=n(12187),o=n(38983),s=n(8125),l=n(44060),c=n(63969),u=n(24588),d=n(40219),p=n(2291),m=n(76974),h=n(2844),f=n(98403),g=n(77176),y=n(93508),v=n(66310),b=n(19751);function C({value:e,initValue:t=p.g.MIN,wrapperClass:n,progressClass:o,borderClass:s,isLoading:l=m.of(!1)}){const c=x(e,t);return i.createElement(r.F.div,Object.assign({},(0,a.Sh)(_.wrapper,n)),i.createElement(w,{width:c,progressClass:o,borderClass:s,isLoading:l}))}function x(e,t=p.g.MIN){const n=o.h.create(!1);return requestAnimationFrame((()=>requestAnimationFrame((()=>n.set(!0))))),h.aj(f.Dx(e),n,((e,n)=>n?e:t))}function w({width:e,progressClass:t,isLoading:n,borderClass:o}){const l=e.pipe(g.U((e=>`${e}%`))),c=e.pipe(g.U(p.g.prism.reverseGet),g.U((e=>e>0?`${e+.75}%`:0)),y.O(0)),u=n.pipe(v.w((e=>e?l:"0"))),d=e.pipe(g.U(p.g.isMin),b.d({bufferSize:1,refCount:!0}));return i.createElement(i.Fragment,null,i.createElement(r.F.div,Object.assign({},(0,a.Sh)(_.borderContainer,d.pipe(g.U((0,s.RN)(_.borderContainerZeroWidth,_.borderContainerWithMinWidth))),o),{style:{width:c}})),i.createElement(r.F.div,Object.assign({},(0,a.Sh)(t||_.defaultProgress,_.progressBar,d.pipe(g.U((0,s.RN)(_.progressBarZeroWidth,_.progressBarWithMinWidth)))),{style:{width:l}})),i.createElement(r.F.div,{className:_.loading,style:{width:u}}))}const I=c.u.keyframes({"0%":{backgroundPosition:"0 0"},"100%":{backgroundPosition:"20px 20px"}}),S={position:"relative",width:c.u.percent(100),height:c.u.rem(.25),borderRadius:c.u.rem(d.Jr),backgroundColor:u.xO},k={position:"relative",top:0,height:c.u.percent(100),borderRadius:c.u.rem(d.Jr),backgroundPosition:"center",transition:"width .8s ease-in-out 0s"},E={minWidth:c.u.px(4)},A={position:"absolute",backgroundColor:l.Il.CoreNeutral0},T={minWidth:c.u.px(6)},N={position:"absolute",minWidth:0,backgroundImage:u.b6,backgroundSize:"20px 20px",transition:"none",animation:`${I} 1s linear infinite`},O={backgroundImage:u.Xd},_=c.u.stylesheet({wrapper:[S,S],progressBar:[k],progressBarZeroWidth:[{minWidth:0}],progressBarWithMinWidth:[E],borderContainer:[k,A],borderContainerZeroWidth:[{minWidth:0}],borderContainerWithMinWidth:[T],loading:[k,N],defaultProgress:[O]})},77797:(e,t,n)=>{n.d(t,{Ys:()=>u});var i=n(27378),r=n(5739),a=n(12187),o=n(44060),s=n(63969),l=n(40219);const c=()=>i.createElement("svg",{className:f.svg2,viewBox:"0 0 12 9",width:"12",height:"9",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M1.386 4.115L4.561 7.29l5.81-5.81",stroke:"#FFF",strokeWidth:"2",fill:"none",fillRule:"evenodd",strokeLinecap:"round"})),u=({checked:e,className:t,children:n,name:r})=>i.createElement(d,{checked:e,name:r,className:t,checkedComponent:e=>i.createElement("div",{key:e?"checkbox1":"checkbox2",className:e?f.rectangleFilledBlue:f.rectangle},e&&i.createElement(c,null))},n),d=({checked:e,checkedComponent:t,className:n,children:o,name:s})=>i.createElement(r.F.label,Object.assign({},(0,a.Sh)(f.wrapper,n),{onClick:e=>e.stopPropagation()},s?{"data-name":`${s}-checkbox`}:{}),i.createElement(r.F.input,{type:"checkbox",checked:e,onChange:t=>e.modify((e=>!e)),className:f.inputCheckbox}),e.view(t),i.createElement("div",null,o)),p={display:"flex",marginRight:s.u.rem(.5),paddingTop:s.u.rem(.18),width:s.u.rem(1),height:s.u.rem(1),border:`2px solid ${o.Il.CoreNeutral30}`,borderRadius:s.u.rem(l.mA),backgroundColor:"transparent",alignItems:"center"},m={paddingTop:s.u.rem(.1),borderColor:o.Il.CoreBlue50,borderRadius:s.u.rem(l.mA),backgroundColor:o.Il.CoreBlue50},h={width:s.u.percent(100),height:s.u.percent(100)},f=s.u.stylesheet({wrapper:[{display:"flex",cursor:"default",alignItems:"center",userSelect:"none"}],rectangle:[p],rectangleFilledBlue:[p,m],inputCheckbox:[{margin:0,"-webkit-appearance":"none",appearance:"none"}],svg:[h],svg2:[{margin:"auto"}]})},95286:(e,t,n)=>{n.d(t,{L:()=>D});var i=n(27378),r=n(40327),a=n(38983),o=n(12187),s=n(5739),l=n(16118),c=n(66310),u=n(80900),d=n(17343),p=n(76974),m=n(95093),h=n(77176),f=n(28043),g=n(2834),y=n(38194),v=n(93508),b=n(598),C=n(2844),x=n(24713),w=n(50628),I=n(32952),S=n(18208),k=n(19962),E=n(5114),A=n(22232),T=n(8125),N=n(54338),O=n(71284),_=n(41488),j=n(29847),$=n(98403),P=n(47486);class F extends j.l5{}class D extends i.PureComponent{constructor(){super(...arguments),this._uuid=S.alphanumeric(12),this._initialState=!1,this._hovered=a.h.create(this._initialState),this._hidden=a.h.create(!this._initialState),this._listPosState=a.h.create({}),this._dropdownEl=null,this._subs=[],this._viewport=a.h.create(k.Rect.empty),this.hovered=this._hovered.pipe(l.G(),c.w((([e,t])=>t?u.H(this.props.showDelay).pipe(d.h(!0)):e?u.H(void 0===this.props.closeDelay?D.defaultProps.closeDelay:this.props.closeDelay).pipe(d.h(!1)):p.of(!1))),m.T(D._hoveredForce.pipe(h.U(E.exists((e=>e===this._uuid))))),f.x(),g.b((e=>e&&D._hoveredForce.next(E.some(this._uuid)))),g.b((e=>e&&this._hidden.set(!1))),y.B(),v.O(this._initialState)),this._handleClickForAppearanceHover=e=>{const t=e.target;if(k.isDisabled(t)||this.props.dontCloseOnClickInside)return;const n=!k.hasParentWithClassName(t,P.P.list);D._hoveredForce.next(n?E.some(this._uuid):E.none),this._hovered.set(n)},this._handleMouseEnterForAppearanceHover=()=>{this._hovered.set(!0)},this._handleClickForAppearanceClick=(e,t)=>{t&&!e.isTrusted||this._hovered.modify((e=>!e))},this._handleMouseEnterForAppearanceClick=e=>{const t=e.target;k.hasParentWithClassName(t,P.P.list)&&(D._hoveredForce.next(E.some(this._uuid)),this._hovered.set(!0))}}_getHAlign(e){switch(e){case"left":case"auto":return{left:"0"};case"right":return{right:"0"};case"center":return{right:"50%",marginRight:`-${(this._dropdownEl?this._dropdownEl.offsetWidth:0)/2}px`};default:return(0,A.vE)(e)}}_getVAlign(e){switch(e){case"top":return{bottom:"100%"};case"bottom":case"auto":return{top:"100%"};default:return(0,A.vE)(e)}}calcDropdownPosition(){const e=this.props.align,t=this.props.vAlign;this._listPosState.set(Object.assign(Object.assign({},this._getHAlign(e)),this._getVAlign(t)));const n="auto"===e,i="auto"===t;(n||i)&&requestAnimationFrame((()=>{if(this._dropdownEl){const r=this._viewport.get(),a=this._dropdownEl.getBoundingClientRect();this._listPosState.set(Object.assign(Object.assign({},this._getHAlign(n?r.right<a.right?"right":"left":e)),this._getVAlign(i?r.bottom<a.bottom?"top":"bottom":t)))}}))}componentDidMount(){this._subs.push(this.hovered.pipe(g.b((e=>{this.props.onVisibilityChange&&this.props.onVisibilityChange(e)})),b.c((0,r.pipe)(E.fromNullable(this.props.customPosition),E.fold((()=>p.of(E.none)),(({top:e,left:t})=>C.aj($.Dx(e),$.Dx(t)).pipe(h.U(E.some))))))).subscribe(E.fold((()=>this.calcDropdownPosition()),(([e,t])=>this._listPosState.set({top:e,left:t})))),this.context.pipe(x.j("rect")).subscribe($.wW(this._viewport))),this.props.forceHide&&this._subs.push(this._hidden.pipe(c.w($.wX(this.props.forceHide.pipe(w.P())))).subscribe((()=>this._hidden.set(!0))))}componentWillUnmount(){this._subs.forEach((e=>e.unsubscribe())),this._subs=[]}componentWillReciveProps(){this.calcDropdownPosition()}mapStateToClass(e,t){const n={start:"",end:""};return t?{prev:n,next:{start:P.P.transparent,end:""}}:{prev:{start:"",end:P.P.transparent},next:n}}_behaviour(e){return"mouseClick"===this.props.appearanceBehavior?{onClickCapture:t=>this._handleClickForAppearanceClick(t,e),onMouseEnter:this._handleMouseEnterForAppearanceClick,onMouseLeave:()=>this._hovered.set(this._initialState)}:{onClickCapture:this._handleClickForAppearanceHover,onMouseEnter:this._handleMouseEnterForAppearanceHover,onMouseLeave:()=>this._hovered.set(this._initialState)}}render(){const{label:e,theme:t={}}=this.props;return i.createElement(O.a.Context.Consumer,null,(n=>i.createElement(N.f.Context.Consumer,null,(r=>i.createElement(N.f.Context.Provider,{value:N.f.withValue(r,{hovered:this._hovered})},i.createElement("div",Object.assign({},(0,o.Sh)(P.P.wrapper,t.dropdownContainer),this._behaviour(n.has(O.a.Flag.onlyTrustedEvents))),e,i.createElement(F,{state:this.hovered,stateToClassMapper:this.mapStateToClass},(e=>e.state?i.createElement(s.F.div,null,this._hidden.view((n=>i.createElement(L,Object.assign({key:"list",name:this.props.name,onTransitionEnd:"prev"===e.type?()=>this._hidden.set(!0):T.ZT},(0,o.Sh)(t.dropdownList,e.view),{mount:e=>this._dropdownEl=e,style:this._listPosState,hidden:n}),this.props.children)))):null))))))))}}D.defaultProps={align:"auto",vAlign:"auto",showDelay:500,closeDelay:500,appearanceBehavior:"mouseHover"},D.Delimiter=()=>i.createElement("div",{className:P.P.delimiter}),D._hoveredForce=new I.xQ,D.contextType=_.l.Context;class L extends i.Component{constructor(){super(...arguments),this._elementState=N.f.emptyWithName(`${void 0!==this.context.name?`${this.context.name}/`:""}dropdown-${this.props.name}`)}render(){return i.createElement(N.f.Context.Provider,{value:this._elementState},i.createElement(s.F.div,Object.assign({},(0,o.Sh)(this.props.className,this.props.hidden?P.P.hidden:P.P.list),{style:this.props.style,mount:this.props.mount,role:"dropdown-list","data-name":"dropdown-"+this.props.name,onTransitionEnd:this.props.onTransitionEnd}),this.props.children))}}L.displayName="DropdownList",L.contextType=N.f.Context},47486:(e,t,n)=>{n.d(t,{P:()=>l});var i=n(44060),r=n(63969),a=n(40219);const o={position:"absolute",zIndex:a.VN,display:"flex",flexDirection:"column",margin:`${r.u.rem(.5)} 0`,padding:`${r.u.rem(.5)} 0`,minWidth:r.u.percent(100),borderRadius:r.u.rem(a.Jr),background:i.Il.CoreNeutral0,boxShadow:i.uc.Z200,opacity:1,transition:"opacity .2s"},s={margin:r.u.rem(.5),height:r.u.px(1),backgroundColor:i.Il.CoreNeutral20},l={wrapper:r.u.style({position:"relative"}),list:r.u.style(o),transparent:r.u.style({opacity:0}),hidden:r.u.style({display:"none"}),delimiter:r.u.style(s)}},29245:(e,t,n)=>{n.d(t,{dy:()=>c,In:()=>u});var i=n(27378),r=n(12187),a=n(34685),o=n(63969);const s=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;function l(e,t=d.emoji){return`<img alt="${e}" class="${t}" src="${function(e){return a.gK+function(e){return e.length<4?e.codePointAt(0).toString(16):e.codePointAt(0).toString(16)+"-"+e.codePointAt(2).toString(16)}(e)+".svg"}(e)}" onerror="this.replaceWith(this.alt)" draggable="false" />`}const c=({children:e,emojiClassName:t,className:n})=>{const r=i.useCallback((e=>{null!==e&&(e.innerHTML=e.innerHTML.replace(s,(e=>l(e,t))))}),[t]);return i.createElement("span",{ref:r,className:n},e)},u=({id:e,className:t})=>{const[n,o]=i.useState(!1),[s,l]=i.useState(""),[c,u]=i.useState("");return i.useEffect((()=>{o(!1),u(function(e){return a.gK+e+".svg"}(e)),l((e=>{try{return String.fromCodePoint(...e.map((e=>parseInt(e,16))))}catch(e){return""}})(e.split("-")))}),[e]),n?i.createElement("span",Object.assign({},(0,r.Sh)(t,d.emojiFromIDAlt)),s):i.createElement("img",{className:t,src:c,alt:s,onError:()=>o(!0)})},d=o.u.stylesheet({emoji:[{display:"inline",marginRight:".25em",width:"1em",verticalAlign:"sub",lineHeight:1,transform:"scale(1.25)",transformOrigin:"bottom",userSelect:"none"}],emojiFromIDAlt:[{display:"flex",alignItems:"center"}]})},5802:(e,t,n)=>{var i;n.d(t,{P:()=>i}),function(e){let t,n,i,r;!function(e){e.sparkles="sparkles",e.priority="priority"}(t=e.Icon||(e.Icon={})),function(e){e[e.lowest=0]="lowest",e[e.low=1]="low",e[e.average=2]="average",e[e.high=3]="high",e[e.highest=4]="highest"}(n=e.Priority||(e.Priority={})),function(e){e.top="top",e.bottomLeft="bottomLeft",e.bottomRight="bottomRight"}(i=e.Position||(e.Position={})),function(e){e.standard="standard",e.custom="custom"}(r=e.ViewType||(e.ViewType={})),e.DefaultTimeout="DefaultTimeout",e.TimeoutDisabled="TimeoutDisabled"}(i||(i={}))},50790:(e,t,n)=>{n.d(t,{DI:()=>k,SJ:()=>E});var i=n(27378),r=n(12187),a=n(22232),o=n(44060),s=n(63969),l=n(24588),c=n(40219),u=n(7046),d=n(21474),p=n(3656),m=n(5802);const h={position:"relative",width:s.u.percent(100)},f={position:"relative",margin:`0 0 ${s.u.rem(.5)}`},g={display:"flex",boxSizing:"border-box",padding:`${s.u.rem(1)} ${s.u.rem(2)} ${s.u.rem(1)} ${s.u.rem(.75)}`,width:s.u.percent(100),borderRadius:s.u.rem(c.fx),background:o.Il.BackgroundNotification,color:o.Il.CoreNeutral0,textAlign:"left",letterSpacing:0,alignItems:"flex-start"},y={width:s.u.percent(100)},v={display:"inline-block",width:s.u.percent(100)},b={margin:`${s.u.rem(-.5)} ${s.u.rem(.75)} ${s.u.rem(-.5)} 0`},C={position:"absolute",top:0,right:0,marginTop:s.u.rem(.5),marginRight:s.u.rem(.4),marginLeft:s.u.rem(.5)},x={stroke:l.FW},w={margin:`0 0 ${s.u.rem(.5)}`,color:o.Il.CoreNeutral0,wordBreak:"break-word",fontWeight:"bold",fontSize:s.u.rem(o.xv.BodySize),lineHeight:s.u.rem(1.25)},I={marginTop:s.u.rem(-.1),marginBottom:s.u.rem(-.25),color:o.Il.CoreNeutral0,fontSize:s.u.rem(o.xv.BodySize),lineHeight:s.u.rem(1.25)},S=s.u.prefixedStylesheet("notifications",{wrapper:[h],notification:[f],flexibleNotification:[f,{display:"flex",width:"auto"}],contentWrapper:[g],miniContentWrapper:[g,{position:"relative",width:"auto"}],fullWidthNotification:[f,g,y],content:[v],miniContent:[{flex:1}],alertIcon:[b],closeIconWrapper:[C],closeIcon:[x],header:[w],description:[I]});var k,E;!function(e){e.Wrapper=({notification:t,onClose:r,children:a,theme:o={}})=>{i.useEffect((()=>t.actions.next("shown")),[]);const s={wrapper:o.wrapper||n.wrapper,content:void 0!==o.content?Object.assign({},n.content,o.content):n.content};return i.createElement("div",{className:s.wrapper},i.createElement(e.Base,{metadata:t.metadata,onClose:r,theme:s.content},a))},e.Base=({metadata:n,onClose:r,theme:a,children:o})=>i.createElement("div",{className:a.wrapper},t(n,a.icon),i.createElement("div",{className:a.content},o),!function(e){return e.priority===m.P.Priority.high||e.priority===m.P.Priority.highest}(n)&&i.createElement(e.CloseButton,{onClick:r,className:a.close}));const t=(t,n)=>{switch(t.icon){case m.P.Icon.sparkles:return i.createElement(d.JO.Sparkles,{className:n});case void 0:case m.P.Icon.priority:return i.createElement(e.PriorityIcon,{priority:t.priority,className:n});default:return(0,a.vE)(t.icon)}};e.AdHoc=({title:t,children:a,className:o,onClose:s})=>i.createElement("div",Object.assign({},(0,r.Sh)(n.content.wrapper,o)),i.createElement("div",{className:n.content.content},i.createElement(e.TitledContent,{title:t},a)),i.createElement(e.CloseButton,{onClick:s,className:n.content.close})),e.PriorityIcon=({priority:e,className:t})=>{switch(e){case m.P.Priority.lowest:case m.P.Priority.low:return i.createElement(d.JO.NotificationInfo,{className:t});case m.P.Priority.average:return i.createElement(d.JO.NotificationWarning,{className:t});case m.P.Priority.high:case m.P.Priority.highest:return i.createElement(d.JO.NotificationError,{className:t});default:return(0,a.vE)(e)}},e.CloseButton=({onClick:e,className:t})=>i.createElement(u.zx,{name:"closeNotification",className:t,onClick:e},i.createElement(d.JO.Close,{className:S.closeIcon,width:12})),e.TitledContent=({title:t,children:n})=>n?i.createElement(i.Fragment,null,i.createElement(p.P1,{className:S.header},t),i.createElement(e.Content,null,n)):i.createElement(p.P1,{className:S.description},t),e.Content=({children:e})=>i.createElement(p.XY,{className:S.description},e);const n={wrapper:S.wrapper,content:{wrapper:S.fullWidthNotification,icon:S.alertIcon,content:S.content,close:S.closeIconWrapper}}}(k||(k={})),function(e){e.Wrapper=({notification:e,onClose:t,children:n})=>(i.useEffect((()=>e.actions.next("shown")),[]),i.createElement("div",{className:S.flexibleNotification},i.createElement(k.Base,{metadata:e.metadata,onClose:t,theme:{wrapper:S.miniContentWrapper,icon:S.alertIcon,content:S.miniContent,close:S.closeIconWrapper}},n)))}(E||(E={}))},63847:(e,t,n)=>{n.d(t,{P:()=>v});var i=n(27378),r=n(12187),a=n(22232),o=n(19962),s=n(44060),l=n(63969),c=n(24588),u=n(71284),d=n(21474);const p=2*Math.PI*32,m=36,h="#f1f2fa",f="#fff",g=(e,t,n)=>e<t?t:e>n?n:e,y=e=>{switch(e){case v.IconSize.pdf:return 110;case v.IconSize.normal:return 52;case v.IconSize.outcome:return 32;case v.IconSize.small:return 24;case v.IconSize.extraSmall:return 16;default:return(0,a.vE)(e)}};class v extends i.Component{render(){const{percentage:e,aimValue:t=100,colorType:n=v.ColorType.logan,fontSize:s=v.FontSize.normal,iconSize:l=v.IconSize.normal,description:c,theme:b=w}=this.props,C=[i.createElement("circle",{key:"circle",id:"circle",cx:m,cy:m,r:32,fill:"none"})],x=(e=>{switch(e){case v.FontSize.normal:return 32;case v.FontSize.small:return 24;default:return(0,a.vE)(e)}})(s),I=(e=>{switch(e){case v.IconSize.pdf:case v.IconSize.normal:case v.IconSize.outcome:return 5;case v.IconSize.small:return 3;case v.IconSize.extraSmall:return 10;default:return(0,a.vE)(e)}})(l),S=g(e,0,100),k=g(t,S,100),E=S*p/100,A=k*p/100,T=360*I/p,N=S?p-E-2*I:p;let O,_,j,$,P;const F=(e=>{switch(e){case v.ColorType.eggBlue:return{type:"gradient",value:{coordinates:{x1:"0%",y1:"50%",x2:"50%",y2:"50%"},start:"#0bc7c3",end:"#0fd5bf"},background:h,outline:f};case v.ColorType.dandelion:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"35%",y2:"100%"},start:"#ffde66",end:"#ffc148"},background:h,outline:f};case v.ColorType.radicalRed:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"50%",x2:"40%",y2:"100%"},start:"#ff4562",end:"#ff153e"},background:h,outline:f};case v.ColorType.lightVisteria:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"50%",y2:"100%"},start:"#e191e2",end:"#c770c8"},background:h,outline:f};case v.ColorType.royalBlue:return{type:"gradient",value:{coordinates:{x1:"17%",y1:"15%",x2:"50%",y2:"100%"},start:"#2a42ef",end:"#6391ff"},background:h,outline:f};case v.ColorType.logan:return{type:"plain",value:"#a6adc9",background:h,outline:f};case v.ColorType.electricViolet:return{type:"plain",value:"#913dcc",background:"#eed6ff"};case v.ColorType.crimson:return{type:"plain",value:"#ea1537",background:"#ffccd5"};case v.ColorType.blueRibbon:return{type:"plain",value:"#1a57ff",background:"#cdf"};case v.ColorType.green:return{type:"plain",value:"#15c39a",background:"#dcf6f6"};case v.ColorType.lightBlue:return{type:"plain",value:"#00bbcc",background:"#ccfbff"};case v.ColorType.orange:return{type:"plain",value:"#ffa600",background:"#fee8b4"};case v.ColorType.neoBlue:return{type:"plain",value:"#4A6EE0",background:"#DBEBFF"};case v.ColorType.white:return{type:"plain",value:"#fff",background:"#fff",backgroundOpacity:.2};default:return(0,a.vE)(e)}})(n);if("plain"===F.type)O=F.value,_=O,j=F.outline,$=F.background,P=void 0===F.backgroundOpacity?1:F.backgroundOpacity;else{const e=F.value;this._gradientId=this._gradientId||"pb-gradient-"+v._nextGradientId++,C.push(i.createElement("linearGradient",Object.assign({id:this._gradientId,key:this._gradientId,gradientUnits:"userSpaceOnUse"},e.coordinates),i.createElement("stop",{stopColor:e.start,offset:"0%"}),i.createElement("stop",{stopColor:e.end,offset:"100%"}))),O=`url(#${this._gradientId})`,_="#2b2d38",j=F.outline,$=F.background,P=void 0===F.backgroundOpacity?1:F.backgroundOpacity}return i.createElement(u.a.Context.Consumer,null,(e=>i.createElement(d.a1,Object.assign({},(0,r.Sh)(w.iconWrapper,b.radialProgressBar),{width:y(l),viewBox:"0 0 72 72"}),i.createElement("defs",null,C),i.createElement("g",null,i.createElement("use",{className:w.valueCircle,stroke:S>=94&&j?j:$,strokeOpacity:P,strokeWidth:I,strokeDasharray:p,strokeDashoffset:p-A,transform:"rotate(-90 36 36)",strokeLinecap:"round",xlinkHref:"#circle"}),j&&i.createElement("use",{className:w.valueCircle,stroke:j,strokeWidth:I,strokeDasharray:p,strokeDashoffset:N,transform:`rotate(${-90-T} 36 36)`,strokeLinecap:"round",xlinkHref:"#circle"}),i.createElement("use",{className:w.valueCircle,stroke:O,strokeDasharray:p,strokeDashoffset:p-E,strokeLinecap:"round",transform:"rotate(-90 36 36)",strokeWidth:I,xlinkHref:"#circle"}),i.createElement("text",Object.assign({className:b.radialProgressText,y:"38",x:"36",fill:_,fontSize:x,fontStyle:"normal",textAnchor:"middle"},o.svgVerticalAlignment(e.has(u.a.Flag.supportsSVGDominantBaseline))),S),c&&i.createElement("text",{className:b.radialProgressDescription,fill:_,x:"50%",y:"80%",fontStyle:"normal",textAnchor:"middle"},c)))))}}v._nextGradientId=0,function(e){let t,n,i;!function(e){e.eggBlue="eggBlue",e.dandelion="dandelion",e.radicalRed="radicalRed",e.lightVisteria="lightVisteria",e.royalBlue="royalBlue",e.logan="logan",e.electricViolet="electricViolet",e.crimson="crimson",e.blueRibbon="blueRibbon",e.green="green",e.lightBlue="lightBlue",e.orange="orange",e.white="white",e.neoBlue="neoBlue"}(t=e.ColorType||(e.ColorType={})),function(e){e.normal="normal",e.small="small"}(n=e.FontSize||(e.FontSize={})),function(e){e.normal="normal",e.small="small",e.extraSmall="extraSmall",e.outcome="outcome",e.pdf="pdf"}(i=e.IconSize||(e.IconSize={}))}(v||(v={}));const b={width:l.u.percent(100),height:l.u.percent(100),fontWeight:"bold",fill:s.Il.CoreNeutral90},C={fontSize:l.u.rem(2),fill:s.Il.CoreNeutral90},x={fontWeight:"normal",fontSize:l.u.px(11),fill:c.UE},w=l.u.stylesheet({radialProgressBar:[b],radialProgressText:[C],radialProgressDescription:[x],valueCircle:[{transition:"stroke-dashoffset .5s"}],iconWrapper:[{stroke:"none",fill:"none",$nest:{"&[data-hovered='true']":{stroke:"none",fill:"none"}}}]})},42329:(e,t,n)=>{n.d(t,{$:()=>p});var i=n(59312),r=n(27378),a=n(5739),o=n(12187),s=n(22232),l=n(44060),c=n(63969),u=n(24588),d=n(98403);function p(e){var{wrapperClassName:t,variation:n,isIdle:o,ref:s}=e,l=(0,i.__rest)(e,["wrapperClassName","variation","isIdle","ref"]);return r.createElement(a.F.span,{role:"spinner",className:t},d.ab(n,(e=>r.createElement(p.Svg,Object.assign({},l,{type:e,isIdle:o})))))}!function(e){e.getClassName=e=>t=>{switch(t){case"red":return e.red;case"green":return e.green;case"blue":return e.blue;case"white":return e.white;case"violet":return e.violet;case"yellow":return e.yellow;case"yellowPremium":return e.yellowPremium;case"orange":return e.orange;case"gray":return e.gray;case"cyan":return e.cyan;default:return(0,s.vE)(t)}},e.Svg=t=>{const{className:n,size:a=64,strokeWidth:l=2,type:c,name:u,isIdle:d}=t,p=(0,i.__rest)(t,["className","size","strokeWidth","type","name","isIdle"]),m=r.useRef(null),h=r.useRef(null);return r.useEffect((()=>((0,s.kG)(null!==m.current,"groupEl should be already created"),h.current=m.current.animate({transform:["rotate(0deg)","rotate(360deg)"]},{duration:2e3,easing:"linear",fill:"forwards",iterations:1/0}),()=>h.current.cancel())),[]),r.useEffect((()=>{(0,s.kG)(null!==h.current,"groupAnimation should be already created");const e=h.current;e.play&&(d?e.pause():"running"!==e.playState&&e.play())})),r.createElement("svg",Object.assign({"data-role":u},(0,o.Sh)(n),{viewBox:"25 25 50 50",width:a,height:a},p),r.createElement("g",{transform:"translate(50 50)"},r.createElement("g",{ref:m},r.createElement("circle",Object.assign({},(0,o.Sh)(E.path,d&&f,e.getClassName(E)(c)),{cx:"50",cy:"50",r:"20",fill:"none",transform:"translate(-50 -50)",strokeWidth:l,strokeMiterlimit:"10"})))))}}(p||(p={}));const m=200,h=c.u.keyframes({"0%":{strokeDasharray:`1px, ${c.u.px(m)}`,strokeDashoffset:c.u.px(1)},"50%":{strokeDasharray:`89px, ${c.u.px(m)}`,strokeDashoffset:c.u.px(-35)},"100%":{strokeDasharray:`89px, ${c.u.px(m)}`,strokeDashoffset:c.u.px(-124)}}),f="spinnerIdle",g={animation:`${h} 2s ease-in-out infinite`,strokeDasharray:`1px, ${c.u.px(m)}`,strokeDashoffset:c.u.px(1),strokeLinecap:"round",$nest:{[`&.${f}`]:{animationIterationCount:0}}},y={stroke:l.Il.CoreRed50},v={stroke:l.Il.CoreGreen50},b={stroke:l.Il.CoreBlue50},C={stroke:l.Il.CoreNeutral0},x={stroke:u.lh},w={stroke:u.AX},I={stroke:l.Il.CoreYellow60},S={stroke:u.FW},k={stroke:l.Il.CoreCyan50},E=c.u.stylesheet({path:[g],red:[y],green:[v],blue:[b],white:[C],violet:[x],yellow:[w],orange:[I],gray:[S],cyan:[k]})},79227:(e,t,n)=>{n.d(t,{J:()=>i,k:()=>v});var i,r=n(71249),a=n(95195),o=n(23330),s=n(35214),l=n(64015),c=n(57050),u=n(40327),d=n(84966),p=n(5114),m=n(95574),h=n(81670),f=n(81531),g=n(40018),y=n(66896);!function(e){e.getSubTypeFromLens=e=>y.R.isPriority(e)||y.R.isPriorityOutcomeId(e)?d.e3.SidebarPriority:d.e3.Sidebar}(i||(i={}));class v{constructor(e,t){this._alertsReader=e,this._ops=t,this._log=f.Monitoring.Logging.getLogger("AlertsServiceImpl"),this._findAlert=e=>(0,u.pipe)(e,this._alertsReader.getById,a.fromOption((()=>new Error(`alert ${e} not found in the repo`)))),this.undoBulk=(0,c.flow)(l.DZ((0,c.flow)(this._alertsReader.getById,p.filter(g.bZ.isBulkApplied))),(e=>this._ops.undoApplied(e,g.bZ.State.Applied.Method.Bulk)()),a.getOrElse((e=>{throw this._log.error("Could not undo bulk-applied alerts",e),e}))),this.getHighlightRanges=(0,c.flow)(this._findAlert,a.map((e=>e.getHighlightRanges()))),this.hasNewRangesForUpdate=(0,c.flow)(this._findAlert,a.map((e=>e.hasNewRangesForUpdate))),this.applyPendingRangesUpdate=(0,c.flow)(this._findAlert,a.map((e=>e.applyPendingRangesUpdate()))),this.getAppliedRanges=(0,c.flow)(this._alertsReader.getById,a.fromOption((()=>new Error("alert not found in the repo"))),a.filterOrElse(g.bZ.isApplicableAlert,(e=>new Error(`alert is not applicable: ${e.alertType}`))),a.map((e=>e.getAppliedRanges())))}apply(e,t){const{alternativeIndex:n,source:i}=t;return this._log.trace("apply",e),(0,u.pipe)(this._findAlert(e),a.chain(a.fromPredicate(g.bZ.isApplicableAlert,(()=>new Error("cannot apply not applicable alert")))),a.chain((e=>(0,u.pipe)(m.tryCatchError((()=>e.apply(t))),a.mapLeft((t=>(this._log.error("apply single alert error",{error:t,alert:e.toLiteAlert(),alternativeIndex:n,source:i}),t)))))))}applyBulk(e,t){this._log.trace("applyBulk",e),this.sendBatchFeedback(e,d.DI.BULK_ACCEPTED,t);const n=(0,u.pipe)(e,h.T.fromArray((e=>(0,u.pipe)(this._findAlert(e),a.mapLeft((t=>(0,c.tuple)(t,{id:e}))),a.chain(a.fromPredicate(g.bZ.isRegisteredApplicableAlert,(e=>(0,c.tuple)(new Error("cannot apply not applicable or non-registered alert"),e.toLiteAlert())))),a.chain(a.fromPredicate((e=>d.wQ.withTransformJson(e._raw)),(e=>(0,c.tuple)(new Error("Only alerts with transformJSON can be bulk applied"),e.toLiteAlert())))),a.mapLeft((([e,t])=>(this._log.error(e.message,t),e)))))));return(0,u.pipe)(n,h.T.flatMap(r.getMonoid(),(e=>(0,u.pipe)(this._ops._applyTransformJson({alerts:e.map((e=>({alert:e,alternative:g.bZ.getApplicableAlternative(e,0)}))),source:g.l$.api,method:g.bZ.State.Applied.Method.Bulk,feedbackSubtype:t}),o.g_((t=>()=>(this._log.error("applyBulk error",t),h.T.of([],e.map((e=>e.id))))),(()=>()=>h.T.of(e.map((e=>e.id))))))())))}confirmApplied(e){return this._log.trace("commitApplied",e),(0,u.pipe)(e,h.T.fromArray((0,c.flow)(this._findAlert,a.map(g.Ev.castApplied))),a.mapLeft((e=>new Error(`Error on trying to confirm applied alerts: ${e.rejected.join(",")}`))),a.chain((e=>this._ops._confirmApplied(e)())))}dismissBatch(e,t){return this._log.trace("dismissBatch",e),(0,u.pipe)(e.map((0,c.flow)(this._findAlert,a.map((e=>[e])))),(0,s.fold)(C),a.chain((e=>this._ops._dismissBatch(e,t)())))}applyFeedback(e,t,n){return this._log.trace("sendFeedback",{alertId:e,type:t.kind}),(0,u.pipe)(this._findAlert(e),a.chain((e=>this._ops._alertFeedback(e,t,n)())))}sendBatchFeedback(e,t,n){return this._log.trace("sendBatchFeedback",{alertIds:e,type:t}),(0,u.pipe)(e,h.T.fromArray(this._findAlert),h.T.tapFailure((e=>this._log.error("Cannot send batch feedback for alerts",e.rejected))),h.T.foldSuccess((e=>a.right(this._ops._alertBatchFeedback(e,t,n)()))))}takeReference(e,t){return this._log.trace("takeReference",{alertId:e.id,from:t}),(0,u.pipe)(this._findAlert(e.id),a.chain((e=>e.takeReference(t))))}changeMuteState(e,t){return this._log.trace("changeMuteState",e),(0,u.pipe)(e,h.T.fromArray((e=>this._findAlert(e.id))),h.T.flatMap(r.getMonoid(),(e=>(0,u.pipe)(this._ops._changeMuteState(e,t)(),a.mapLeft((e=>(this._log.error("Can not change mute state",e),e))),m.unsafeGet))))}changeGapValue(e,t){return(0,u.pipe)(this._findAlert(e),a.chain((e=>this._ops._changeGapValue(e,t)())))}changeSmartPhrasesFeedback(e,t){return(0,u.pipe)(this._findAlert(e),a.chain((e=>this._ops._changeSmartPhrasesFeedback(e,t)())))}rotateSmartPhrasesReplacements(e){return(0,u.pipe)(this._findAlert(e),a.chain((e=>this._ops._rotateSmartPhrasesReplacements(e)())))}discardSmartPhrasesReplacement(e,t){return(0,u.pipe)(this._findAlert(e),a.chain((e=>this._ops._discardSmartPhrasesReplacement(e,t)())))}changeTakeawayFeedback(e,t){return(0,u.pipe)(this._findAlert(e),a.chain((e=>this._ops._changeTakeawayFeedback(e,t)())))}changeSentenceLevelBrandTonesFeedback(e,t){return(0,u.pipe)(this._findAlert(e),a.chain((e=>this._ops._changeSentenceLevelBrandTonesFeedback(e,t)())))}shortenItSummaryNotFound(e){return(0,u.pipe)(this._findAlert(e),a.chain((e=>this._ops._shortenItSummaryNotFound(e)())))}sendShortenItSummaryRequest(e){return(0,u.pipe)(this._findAlert(e),a.chain((e=>this._ops._commitShortenItSummaryRequest(e)())))}dismissShortenItTransformGroup(e,t){return(0,u.pipe)(this._findAlert(e),a.chain((e=>this._ops._dismissShortenItTransformGroup(e,t)())))}changeToneAIToneAlternative(e,t){return(0,u.pipe)(this._findAlert(e),a.chain((e=>this._ops._changeToneAIToneAlternative(e,t)())))}}const b=r.getMonoid(),C=(0,a.getApplyMonoid)(b)},4390:(e,t,n)=>{n.d(t,{p:()=>i});var i,r=n(22690),a=n(57050),o=n(40327),s=n(64681),l=n(92843),c=n(93756),u=n(81670),d=n(19429),p=n(70996),m=n(7410),h=n(88570);!function(e){let t;!function(e){e.show=l.v.getShow(r._3,p.h.show),e.eq=l.v.getEq(p.h.Id.ord,p.h.ord),e.empty=()=>l.v.empty(),e.toRegistered=function(e){return l.v.fromMutation((t=>{(0,o.pipe)(e,l.v.forEach(((e,n)=>p.h.isRegistered(e)&&t.set(n,c.t$(e))),((e,n,i)=>{p.h.isRegistered(e)?p.h.isRegistered(n)?t.set(i,c.Hk(e,n)):t.set(i,c.t$(e)):p.h.isRegistered(n)&&t.set(i,c.F2(n))}),((e,n)=>p.h.isRegistered(e)&&t.set(n,c.F2(e)))))}))},e.filter=function(e){return l.v.filter(e,((t,n)=>e(t)&&e(n)),e)}}(t=e.Diff||(e.Diff={})),e.empty=m.v.iso.wrap(m.v.empty),e.eq=s.Eh(m.v.eqShow),e.get=function(e){return(0,a.flow)(m.v.iso.unwrap,m.v.get(e))},e.reduce=function(e,t){return(0,a.flow)(m.v.iso.unwrap,m.v.reduce(e,t))},e.diff=function(e,t){return m.v.diff(m.v.iso.unwrap(e),m.v.iso.unwrap(t))},e.isEmpty=function(e){return 0===m.v.iso.unwrap(e).entries.size},e.find=function(e){return(0,a.flow)(m.v.iso.unwrap,m.v.find(e))},e.size=function(){return(0,a.flow)(m.v.iso.unwrap,m.v.size)},e.from=function(e){return(0,o.pipe)(m.v.createDiff({added:e.reduce(((e,t)=>e.set(t.id,p.h.create(t))),new Map)}),u.T.recover(a.constVoid),h.r.applyDiff,d.UI((0,a.flow)(u.T.recover(a.constVoid),m.v.iso.wrap)))(m.v.empty)}}(i||(i={}))},7410:(e,t,n)=>{n.d(t,{v:()=>i});var i,r=n(71249),a=n(22690),o=n(40327),s=n(64681),l=n(92843),c=n(5114),u=n(22232),d=n(95574),p=n(43675),m=n(95195),h=n(93756),f=n(90329),g=n(73975),y=n(20976),v=n(70996);!function(e){function t(e,t){return n=>n.order.reduce(((e,i)=>((0,u.kG)(n.entries.has(i),"got corrupted state"),t(e,n.entries.get(i)))),e)}function n({added:e=new Map,updated:t=new Map,removed:n=new Map}){const i=new Map,r=l.v.fromMutation((r=>{n.forEach(((e,t)=>{r.set(t,h.t$(e))})),e.forEach(((e,t)=>{r.has(t)?i.set(t,`alert add overlaps with alert remove: toAdd(${v.h.show.show(e)} overlapWith(${h.ZN(v.h.show,v.h.show).show(r.get(t))}))`):r.set(t,h.F2(e))})),t.forEach((([e,t],n)=>{r.has(n)?i.set(n,`alert update overlaps with unexpected alert add/remove: toUpdate(${v.h.show.show(t)}) overlapWith(${h.ZN(v.h.show,v.h.show).show(r.get(n))}))`):r.set(n,h.Hk(e,t))}))}));return i.size>0?m.left({recovered:r,rejected:i}):m.right(r)}e.iso=s.k4(),e.empty={entries:new Map,order:[],latestChangeDiff:l.v.empty(),diffVersion:0},e.get=function(e){return t=>c.fromNullable(t.entries.get(e))},e.find=function(e){return t(c.none,((t,n)=>(0,o.pipe)(t,c.alt((()=>c.fromPredicate(e)(n))))))},e.reduce=t,e.size=e=>e.entries.size,e.diff=function(e,t){return 0===e.diffVersion?d.unsafeGet(n({added:t.entries})):e.diffVersion+1===t.diffVersion?t.latestChangeDiff:p.symmetricDiff(v.h.ord)(e.entries,t.entries)},e.applyDiff=function(e){return t=>{const n=p.leftToRight(p.Merger.createStrict(v.h.ordShow),t.entries,e);return(0,o.pipe)(n,m.bimap((n=>{const i=l.v.fromMutation((t=>{(0,o.pipe)(e,l.v.forEach(((e,i)=>!n.rejected.has(i)&&t.set(i,h.t$(e))),((e,i,r)=>!n.rejected.has(r)&&t.set(r,h.Hk(e,i))),((e,i)=>!n.rejected.has(i)&&t.set(i,h.F2(e)))))}));return{recovered:C(n.recovered,i,t.diffVersion),rejected:n.rejected}}),(n=>C(n,e,t.diffVersion))))}},e.applyDiffLoose=function(e){return t=>{const n=p.leftToRight(p.Merger.createLoose(v.h.ordShow),t.entries,e);return(0,o.pipe)(n,m.bimap((n=>({recovered:C(n.recovered,e,t.diffVersion),rejected:n.rejected})),(n=>C(n,e,t.diffVersion))))}},e.createDiff=n,e.toJSON=function(e){return{entries:Array.from(e.entries),order:e.order,latestChangeDiff:l.v.toJSON(e.latestChangeDiff),diffVersion:e.diffVersion}},e.diffEqShow=Object.assign(Object.assign({},l.v.getEq(v.h.Id.ord,v.h.ord)),l.v.getShow(v.h.Id.show,v.h.show));const i=Object.assign(Object.assign({},f.Eh(v.h.Id.ord,v.h.ord)),f.ZN(v.h.Id.show,v.h.show)),b=Object.assign(Object.assign({},r.getEq(v.h.Id.ord)),r.getShow(v.h.Id.show));function C(e,t,n){return{entries:e,order:(0,o.pipe)(e,f.VO(v.h.ord),r.map((e=>e.id))),latestChangeDiff:t,diffVersion:n+1}}e.contentEqShow=Object.assign(Object.assign({},g.getStructEq({entries:i,order:b,latestChangeDiff:y.eqEmpty,diffVersion:y.eqEmpty})),a.aM({entries:i,order:b,latestChangeDiff:e.diffEqShow,diffVersion:a.yt})),e.eqShow=Object.assign(Object.assign({},g.getStructEq({entries:i,order:b,latestChangeDiff:e.diffEqShow,diffVersion:g.eqNumber})),a.aM({entries:i,order:b,latestChangeDiff:e.diffEqShow,diffVersion:a.yt}))}(i||(i={}))},88570:(e,t,n)=>{n.d(t,{r:()=>i});var i,r=n(57050),a=n(95195),o=n(7410);!function(e){e.empty=o.v.empty,e.applyDiff=function(e){return(0,r.flow)(o.v.applyDiffLoose(e),a.mapLeft((e=>({recovered:e.recovered,rejected:e.rejected}))))},e.toCheckingResult=function(e){return o.v.iso.wrap(e)}}(i||(i={}))},87889:(e,t,n)=>{n.d(t,{k:()=>fe});var i=n(27378),r=n(64015),a=n(57050),o=n(5114),s=n(51838),l=n(63969);const c=e=>e.type===s.hC.alternative,u=e=>e.type===s.zx.ActionType.selectAlternative?o.some(e.alternativeIndex):o.none;function d(e){return t=>(0,a.pipe)(t,r.Ew((0,a.flow)(u,o.exists((t=>t===e)))),o.isSome)}const p=l.u.stylesheet({spacer:[{width:"100%"}]});var m=n(22232),h=n(71249),f=n(44060),g=n(40219),y=n(7046),v=n(73711),b=n(3656);const C={primary:e=>i.createElement(y.zx.Primary,Object.assign({},E(e),{className:l.u.joinClasses([k.primary,k.main])}),e.text),secondary:e=>i.createElement(y.zx.Tertiary,Object.assign({},E(e),{className:k.main}),e.text),toggle:e=>i.createElement(y.zx.Animated,Object.assign({},E(e),{styleType:b.ZT.Type.Button,className:l.u.joinClasses([v.LI,k.toggle,k.main])}),e.text)},x={height:l.u.rem(2),$nest:{'& i, & [role="icon"]':{margin:l.u.rem(.25)}}},w=(0,v.T)({default:{padding:`0 ${l.u.rem(.5)}`,borderRadius:l.u.rem(g.fx),whiteSpace:"normal",backgroundColor:f.Il.CoreNeutral0,color:f.Il.CoreBlue50,border:`1px solid ${f.Il.CoreNeutral20}`,transitionDuration:".2s",transitionProperty:"border-color, background-color",lineHeight:"calc(2px * var(--rem) - 2px)"},hovered:{backgroundColor:f.Il.CoreBlue1},disabled:{color:f.Il.CoreNeutral40,borderColor:f.Il.CoreNeutral10},clicked:{backgroundColor:f.Il.CoreBlue10},toggled:{backgroundColor:f.Il.CoreNeutral1,borderColor:f.Il.CoreBlue50}}),I={fill:f.Il.CoreNeutral0,stroke:f.Il.CoreNeutral0},S={$nest:{"& i":I,"&:not([data-disabled='true'])[data-hovered='true'] i":I}},k=l.u.stylesheet({main:[x],primary:[S],toggle:[w]});function E(e){return Object.assign({name:e.name,onClick:e.onClick,title:void 0!==e.tooltip&&e.state!==s.zx.State.disabled?(t=e.tooltip,i.createElement(i.Fragment,null,(0,a.pipe)(t.split("\n"),(e=>{const t=e.length;return 0===t?e:h.cons(e[0],e.slice(1,t).map(((e,t)=>i.createElement(i.Fragment,{key:t},i.createElement("br",null),e))))})))):void 0},function(e){switch(e){case s.zx.State.enabled:return{disabled:!1,active:!1};case s.zx.State.disabled:return{disabled:!0,active:!1};case s.zx.State.selected:return{disabled:!1,active:!0};default:return(0,m.vE)(e)}}(e.state));var t}var A=n(7514);const T=({size:e,format:t,textColor:n,backgroundColor:r,outlineColor:a,text:o})=>{const c=function(e,t){const n=`${e}-${t}`,i=F.get(n);if(void 0!==i)return i;{const i=l.u.style({color:f.Il[e],backgroundColor:t&&f.Il[t]});return F.put(n,i),i}}(n,r),[u,...d]=t,p=void 0!==u?P[u]:"span",m=d.map((e=>e===s.xv.Format.strikeoutDiagonal?function(e){const t=`sd-${e}`,n=F.get(t);if(void 0!==n)return n;{const n=l.u.style((e=>({backgroundImage:`linear-gradient(to top left,\n    rgba(0,0,0,0) 0%,\n    rgba(0,0,0,0) calc(50% - 0.5px),\n    ${f.Il[e]} 50%,\n    rgba(0,0,0,0) calc(50% + 0.5px),\n    rgba(0,0,0,0) 100%)`}))(e));return F.put(t,n),n}}(null!=a?a:n):$[e]));return void 0!==a&&m.push(function(e){const t=`ol-${e}`,n=F.get(t);if(void 0!==n)return n;{const n=l.u.style({borderColor:f.Il[e]});return F.put(t,n),n}}(a)),i.createElement(p,{className:l.u.joinClasses([c,j[e],...m]),children:o})},N={padding:`${l.u.rem(.15625)} 0`},O={letterSpacing:l.u.rem(f.xv.BodyLetterSpacing),fontSize:l.u.rem(f.xv.BodySize),lineHeight:l.u.rem(21/16)},_={letterSpacing:l.u.rem(f.xv.SmallLetterSpacing),fontSize:l.u.rem(f.xv.SmallSize),lineHeight:l.u.rem(.875)},j=l.u.stylesheet({[s.xv.Size.regular]:[N,O],[s.xv.Size.small]:[N,_]}),$=l.u.stylesheet({[s.xv.Format.bold]:[{fontWeight:"bolder"}],[s.xv.Format.italic]:[{fontStyle:"italic"}],[s.xv.Format.strikeoutHorizontal]:[{textDecoration:"line-through"}],[s.xv.Format.strikeoutDiagonal]:[],[s.xv.Format.outline]:[{padding:`${l.u.rem(1/16)} ${l.u.rem(3.5/16)} ${l.u.rem(1/16)} ${l.u.rem(3.5/16)}`,border:"1px solid",borderRadius:"2px"}]}),P={strikeoutHorizontal:"s",strikeoutDiagonal:"span",outline:"span",bold:"b",italic:"i"};const F=new A.z6(100);function D(e){return void 0===e?B.main:l.u.joinClasses([B.main,M(e)])}const L={padding:`${l.u.rem(2/16)} ${l.u.rem(.25)}`,minWidth:l.u.rem(1.125),borderRadius:l.u.rem(.75),display:"inline-flex",alignItems:"center",justifyContent:"center",$nest:{"& > *":{padding:0}}},B=l.u.stylesheet({main:[L]});function M(e){const t=`${e}`,n=R.get(t);if(void 0!==n)return n;{const n=l.u.style({backgroundColor:f.Il[e]});return R.put(t,n),n}}const R=new A.z6(100);var H=n(21474);const U={close:e=>i.createElement(H.JO.Close,{className:z(e)}),"arrow-right":e=>i.createElement(H.JO.Arrow,{direction:H.n4.right,className:z(e)}),"arrow-left":e=>i.createElement(H.JO.Arrow,{direction:H.n4.left,className:z(e)}),gear:e=>i.createElement(H.JO.Gear,{enforceStroke:!0,width:13,className:z(e)}),dictionary:e=>i.createElement(H.JO.Dict,{className:z(e)}),clarity:e=>i.createElement(H.JO.ClarityOutcome,{className:z(e)}),correctness:e=>i.createElement(H.JO.Correctness,{className:z(e)}),engagement:e=>i.createElement(H.JO.EngagementOutcome,{className:z(e)}),delivery:e=>i.createElement(H.JO.DeliveryOutcome,{className:z(e)}),diamond:e=>i.createElement(H.JO.Paid,{width:20,className:z(e)})},W={width:l.u.rem(1.5),height:l.u.rem(1.5),minWidth:l.u.rem(1.5),minHeight:l.u.rem(1.5),borderRadius:l.u.rem(1.5)},q=l.u.stylesheet({main:[W]});function z(e){return void 0===e.backgroundColor?q.main:l.u.joinClasses([q.main,V(e.backgroundColor)])}function V(e){const t=G.get(e);if(void 0!==t)return t;{const t=l.u.style({backgroundColor:f.Il[e]});return G.put(e,t),t}}const G=new A.z6(100),Y={width:l.u.rem(.85),height:l.u.rem(.85)},K={width:l.u.rem(1.5),height:l.u.rem(1.5),borderRadius:l.u.rem(1.5),display:"inline-flex",justifyContent:"center",alignItems:"center"},J=l.u.stylesheet({main:[{objectFit:"contain",alignSelf:"center",overflow:"hidden"}],defaultSize:[Y],wrapper:[K]});function X(e){return void 0===e?J.wrapper:l.u.joinClasses([J.wrapper,V(e)])}function Z(e){return void 0===e?l.u.joinClasses([J.main,J.defaultSize]):l.u.joinClasses([J.main,Q(e)])}function Q(e){const t=ee.get(e);if(void 0!==t)return t;{const t=l.u.style({width:l.u.rem(Number(e)),height:l.u.rem(Number(e))});return ee.put(e,t),t}}const ee=new A.z6(100);function te({spacing:e,innerSpacing:t,horizontalAlign:n,verticalAlign:i,fraction:r}){const a=[];return void 0!==e&&a.push(function({top:e,bottom:t,left:n,right:i}){const r=`${e}-${t}-${n}-${i}`,a=ie.get(r);if(void 0!==a)return a;{const a=l.u.style({$debugName:"outer-spacing",marginTop:l.u.rem(Number(e)),marginLeft:l.u.rem(Number(n)),marginRight:l.u.rem(Number(i)),marginBottom:l.u.rem(Number(t))});return ie.put(r,a),a}}(e)),void 0!==t&&a.push(function({vertical:e,horizontal:t}){const n=`${e}-${t}`,i=ie.get(n);if(void 0!==i)return i;{const i=l.u.style({$debugName:"inner-spacing",$nest:{"& > *:nth-last-child(n+2)":{marginRight:l.u.rem(Number(t)),marginTop:l.u.rem(Number(e))}}});return ie.put(n,i),i}}(t)),void 0!==n&&a.push(re[n]),void 0!==i&&a.push(ne.flexBlock,ae[i]),void 0!==r&&a.push(function(e){const t=`f-${e}`,n=ie.get(t);if(void 0!==n)return n;{const n=l.u.style({flex:e});return ie.put(t,n),n}}(r)),a.length>0?l.u.joinClasses(a):void 0}const ne=l.u.stylesheet({flexBlock:[{display:"flex",flexDirection:"row"}]});const ie=new A.z6(100),re=l.u.stylesheet({[s.Kq.left]:[{textAlign:"left"}],[s.Kq.center]:[{textAlign:"center"}],[s.Kq.right]:[{textAlign:"right"}]}),ae=l.u.stylesheet({[s.g$.top]:[{alignItems:"flex-start"}],[s.g$.middle]:[{alignItems:"center"}],[s.g$.bottom]:[{alignItems:"flex-end"}]}),oe=l.u.stylesheet({holder:[{display:"flex",flexDirection:"column"}]}),se={display:"flex",flexWrap:"wrap",alignItems:"inherit",maxWidth:"100%",$nest:{"& > *":{marginRight:l.u.rem(.5)}}},le=Object.assign(Object.assign({},se),{flexGrow:1}),ce=Object.assign(Object.assign({},se),{marginLeft:"auto",flexShrink:0}),ue={marginBottom:l.u.rem(.5)},de=l.u.stylesheet({spacer:[ue],row:[{display:"flex",flexDirection:"row",alignItems:"center"}],rowLeft:[le],rowRight:[ce]});function pe(e){return void 0===e?de.row:l.u.joinClasses([de.row,me(e)])}function me({top:e,bottom:t,left:n,right:i}){const r=`${e}-${t}-${n}-${i}`,a=he.get(r);if(void 0!==a)return a;{const a=l.u.style({marginTop:l.u.rem(Number(e)),marginLeft:l.u.rem(Number(n)),marginRight:l.u.rem(Number(i)),$nest:{'[role="row-content"] > *':{marginBottom:l.u.rem(Number(t))}}});return he.put(r,a),a}}const he=new A.z6(100),fe={button:C,alternativeChoice:({designSystem:e,content:t,activeIndex:n,notify:l})=>{const u=(0,a.pipe)(t,r.f2((0,a.flow)(o.fromPredicate(c),o.chainFirst((0,a.flow)((e=>e.label.actions),d(n),o.fromPredicate(a.identity))),o.map((e=>e.preview)))));return(0,a.pipe)(u,o.fold((()=>null),(r=>i.createElement(i.Fragment,null,e.block(Object.assign(Object.assign({},r),{parts:r.parts.map(((t,n)=>i.createElement(e.text,Object.assign({key:n},t))))})),i.createElement("div",{className:p.spacer}),t.map(((t,r)=>c(t)?i.createElement(e.button.toggle,{key:r,text:e.block(Object.assign(Object.assign({},t.label.label),{parts:t.label.label.parts.map(((t,n)=>t.type===s.hC.text?t.text:"known"===t.source.kind?i.createElement(e.icon[t.source.name],Object.assign({key:n},t)):null))})),name:t.label.name,state:d(n)(t.label.actions)?s.zx.State.selected:s.zx.State.enabled,tooltip:void 0,onClick:l(t.label)}):i.createElement(e.text,Object.assign({key:r},t))))))))},text:T,image:({name:e,url:t,size:n,backgroundColor:r})=>i.createElement("div",{role:"icon",className:X(r)},i.createElement("img",{src:t,className:Z(n),alt:e})),icon:U,count:({backgroundColor:e,value:t})=>i.createElement("div",{className:D(e)},i.createElement(T,{size:s.xv.Size.small,format:[s.xv.Format.bold],textColor:"CoreNeutral0",text:t})),block:e=>i.createElement("div",{role:"block-layout",className:te(e)},e.parts),row:({left:e,right:t,spacing:n})=>{const r=Array.isArray(e)&&0===e.length,a=Array.isArray(t)&&0===t.length;return r&&a?i.createElement("div",{role:"row-layout",className:void 0===n?de.spacer:me(n)}):i.createElement("div",{role:"row-layout",className:pe(n)},r?null:i.createElement("div",{role:"row-content",className:de.rowLeft},e),a?null:i.createElement("div",{role:"row-content",className:de.rowRight},t))},column:({children:e})=>i.createElement("div",{role:"column-layout",className:oe.holder},e)}},31820:(e,t,n)=>{n.d(t,{g:()=>i});var i,r=n(32821),a=n(35108),o=n(77176),s=n(2834),l=n(5114),c=n(57050),u=n(15646),d=n(60797),p=n(98403),m=n(76974),h=n(24209),f=n(85985),g=n(66310),y=n(17343);function v(e,t,n,i){return r.Z.composeUnion({Some:r.Z.composeKnot({value:r.Z.composeKnot({root:()=>e.pipe(o.U((e=>(0,c.pipe)(b(i)(e),l.map((t=>({item:e,key:n(e),className:t})))))),d.oA),shadeItem:t})}),None:()=>m.of(l.none)},(t=>h.T(e.pipe(o.U(b(i))),t.pipe(f.h((e=>"root"===e.action.action.key&&e.action.action.action.type===u.eI.Kind.completeTransitionTo)),g.w(p.b2.rafScheduler),y.h(l.none)))))}function b(e){return t=>(0,c.pipe)(t.visualState.from,l.chain((()=>e(t.visualState).shade)))}function C(e,t,n,i,a){return r.Z.composeKnot({root:()=>e.pipe(o.U((e=>{const{main:t,shade:n}=a(e.visualState);return{item:e,className:t,hasAnimation:l.isSome(t)||l.isSome(n)}}))),shade:v(e,n,i,a),item:t})}function x(e,t){return r.Z.composeKnot({root:()=>e.pipe(o.U((e=>e.visualState.transition.type))),staticItemChild:t})}!function(e){e.flow=function(e,t,n,i=(e=>e.id),s=a.CE.toOption(a.SA)){return r.Z.composeKnot({root:()=>e,animatedItem:r.Z.composeUnion({static:x(e,t),animating:C(e,t,n,i,s)},(()=>e.pipe(o.U((e=>({animatedItemKind:e.visualState.incomplete?"animating":"static"}))))))})},e.extend=function(e){return r.Z.extendActions(s.b((t=>{const n=t.action;if("animating"===n.key)if("root"===n.action.key)e(n.action.action);else if("shade"===n.action.key){const t=n.action.action.action.action;"root"===t.key&&e(t.action)}})))}}(i||(i={}))},54483:(e,t,n)=>{n.d(t,{G:()=>g});var i=n(27378),r=n(5739),a=n(32821),o=n(28043),s=n(77176),l=n(5114),c=n(15646),u=n(54338),d=n(85287);const p=a.UI.Grid.make((({slots:e})=>i.createElement(u.f.Context.Provider,{value:u.f.emptyWithName("card")},i.createElement(r.F.div,{role:"animation-wrapper",className:d.$4.animationWrapper},e.animatedItemBaseChild))));var m,h,f,g,y=n(22800);!function(e){e.make=function(e){return a.UI.Union.asOption(a.UI.Knot.make(t,{shadeItem:e}))};const t=a.UI.Grid.make((({slots:e,state:t,notify:n})=>i.createElement(r.F.Fragment,null,t.pipe(s.U((({item:a,key:o,className:s})=>i.createElement(r.F.div,{className:s,key:"shade"+t+o,onAnimationEnd:e=>{y.c.get(e.animationName)!==s&&d.bb.get(e.animationName)!==s||n({type:c.eI.Kind.completeTransitionTo,id:a.id,transitionId:a.visualState.transitionId})()}},e.shadeItem)))))))}(m||(m={})),function(e){e.make=function(e){return a.UI.Composite.make(p,a.UI.Knot.make(t,{shade:m.make(e),item:e}))};const t=a.UI.Grid.make((({state:e,slots:t,notify:n})=>i.createElement(r.F.Fragment,null,e.pipe(s.U((({item:e,className:a,hasAnimation:o})=>(o||requestAnimationFrame(n({type:c.eI.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId})),i.createElement(r.F.Fragment,null,t.shade,i.createElement(r.F.div,{className:l.toUndefined(a),key:"expanded"===e.visualState.transition.type?"focused":e.visualState.transition.type,onAnimationEnd:n({type:c.eI.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId}),onTransitionEnd:()=>{"presuccess"===e.visualState.transition.type&&n({type:c.eI.Kind.startTransitionTo,id:e.id,transition:{type:"success",clockwise:e.visualState.transition.clockwise}})()}},t.item)))))))))}(h||(h={})),function(e){e.make=function(e){return a.UI.Composite.make(p,a.UI.Knot.make(t,{staticItemChild:e}))};const t=a.UI.Grid.make((({state:e,slots:t})=>i.createElement(r.F.Fragment,null,e.pipe(s.U((e=>i.createElement(r.F.div,{key:e},t.staticItemChild)))))))}(f||(f={})),function(e){e.make=function(e){return a.UI.Knot.make(t,{animatedItem:a.UI.Union.make("animatedItemKind",{static:f.make(e),animating:h.make(e)})})};const t=a.UI.Grid.make((({state:e,slots:t})=>i.createElement(r.F.Fragment,null,e.pipe(o.x(((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type)),s.U((()=>i.createElement(r.F.Fragment,null,t.animatedItem)))))))}(g||(g={}))},7910:(e,t,n)=>{n.d(t,{sJ:()=>y});var i=n(57050),r=n(40327),a=n(5114),o=n(32821),s=n(34442),l=n(84313),c=n(48521),u=n(35416),d=n(25975),p=n(2844),m=n(77176),h=n(93508),f=n(28043),g=n(57091);function y(e){return(t,n,i,r,a,s)=>o.Z.composeKnot({content:o.Z.fromSideEffect((n=>{v(t)(n);const i=n.action.action;"item"===i.key&&e(i.action)}),C(n,a,s)),root:b(n,i,r)})}function v(e){return t=>{switch(t.action.action.action.kind){case s.H.ActionKind.changePosition:e.changePosition.next({id:t.key,height:t.action.action.action.height});break;case s.H.ActionKind.completePositionAnimation:e.completePositionAnimation.next(t.key)}}}const b=(e,t,n)=>o.Z.fromSideEffect((e=>{t.next(e.element)}),p.aj(n,e.view("cardsHeight")).pipe(m.U((([e,t])=>({disableUserActions:e,height:t}))),h.O({disableUserActions:!1,height:0}))),C=(e,t,n)=>{const o=e.view(d.v.Prism.items),p=e.pipe(m.U((e=>e.itemsOrd))),h=e.pipe(m.U((0,i.flow)(u.In.getActiveItem,a.map(l.X.getId)),f.x())),y=e.view(t.getActiveAlertsCount).view((e=>0===e));return o.pipe(g.a(h,y,p),m.U((([e,i,o,l])=>{const u=e.getAt(0),d=e.getAt(e.size-1);return e.filter((e=>e.positionState.visible||e.positionState.watched&&((e,t)=>!!(0,r.pipe)(t,a.exists((t=>t.id===e.id)))||(0,r.pipe)(t,a.exists((e=>e.positionState.isHeightValid))))(e,u))).map((e=>function(e){return(t,n,i,o)=>l=>{const u=(0,r.pipe)(t,a.exists((e=>e===l.id)));return{cell:{item:e.viewState(n,i)(l),root:{height:{value:l.positionState.height,watched:l.positionState.watched&&!e.isScheduledToDispose(l),isValid:l.positionState.isHeightValid},position:{top:l.positionState.absTop,animationInProgress:l.positionState.animationInProgress},layer:u||c.o.isAnimatable(l)&&l.visualState.incomplete&&!(0,r.pipe)(l.visualState.from,a.exists((e=>"focused"===e)))?s.H.Layer.front:s.H.Layer.back}},root:l.id,hashCode:l.hashCode.bind(l),equals:e=>l.equals(e.cell.item.view),compare:e=>o.compare(l,e.cell.item.view)}}}(t)(i,o,(0,r.pipe)(d,a.exists((t=>t.id===e.id))),l)(e)),n(l))})))}},49978:(e,t,n)=>{n.d(t,{Q:()=>i});var i,r=n(27378),a=n(5739),o=n(32821),s=n(91338),l=n(79589),c=n(22391),u=n(35108),d=n(40111),p=n(28043),m=n(77176);!function(e){e.Card=e=>o.UI.Node.make((({view:t})=>{const n=t("view");return r.createElement(a.F.Fragment,null,n.pipe(p.x(((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type)),m.U((i=>r.createElement(c.p.Provider,{card:n,cardVisibleViewportHeight:t("visibleViewportHeight")},(a=>r.createElement(l.b.Card,{mount:a,miniCard:r.createElement(d.A.Mini,{card:n,actions:e}),fullCard:r.createElement(d.A.Full,{card:n,actions:e}),successCard:r.createElement(s.A.Success,{cardData:i,isLastCard:t("isLastCard"),actions:e}),feedbackForm:r.createElement(s.A.FeedbackForm,{cardData:i,actions:e}),mutedCard:r.createElement(s.A.MutedAlert,{cardData:i,actions:e}),actions:e,card:i,transitionClassMapper:u.a})))))))}))}(i||(i={}))},52741:(e,t,n)=>{n.d(t,{p:()=>b});var i=n(27378),r=n(57050),a=n(5739),o=n(32821),s=n(91338),l=n(79589),c=n(22391),u=n(19025),d=n(28043),p=n(77176),m=n(44060),h=n(63969),f=n(40219);const g=({content:e})=>i.createElement("div",{className:v.container},e),y={borderRadius:h.u.rem(f.Jr),background:m.Il.CoreNeutral0,boxShadow:"0px 2px 8px 0px #1A213433, 0px 0px 0.5px 0px #000000B2"},v=h.u.stylesheet({container:[y]});var b;!function(e){e.Card=e=>o.UI.Node.make((({view:t})=>{const n=t("view");return i.createElement(a.F.Fragment,null,n.pipe(d.x(((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type)),p.U((r=>i.createElement(c.p.Provider,{card:n,cardVisibleViewportHeight:t("visibleViewportHeight")},(a=>i.createElement(l.b.Card,{mount:a,miniCard:i.createElement(s.A.Mini,{card:n,actions:e}),fullCard:i.createElement(s.A.Full,{card:n,actions:e}),successCard:i.createElement(s.A.Success,{cardData:r,isLastCard:t("isLastCard"),actions:e}),feedbackForm:i.createElement(s.A.FeedbackForm,{cardData:r,actions:e}),actions:e,card:r,mutedCard:i.createElement(s.A.MutedAlert,{cardData:r,actions:e})})))))))})),e.DenaliCardWrapper=o.UI.Grid.make((({slots:e,view:t})=>i.createElement(a.F.div,{className:(0,r.pipe)(t("layoutDensity"),p.U((e=>(0,u.f)(e).container)))},e.children))),e.LlamaCardWrapper=o.UI.Grid.make((({slots:e})=>i.createElement(a.F.Fragment,null,i.createElement(g,{content:e.children}))))}(b||(b={}))},84974:(e,t,n)=>{n.d(t,{z:()=>j});var i=n(27378),r=n(5739),a=n(32821),o=n(57050),s=n(5114),l=n(63969),c=n(30763),u=n(84313),d=n(15646),p=n(86718),m=n(4890),h=n(74754),f=n(66346),g=n(1883),y=n(32225),v=n(7046),b=n(21474),C=n(3656),x=n(28706),w=n(77176),I=n(30522),S=n(54126);const k=({item:e,layoutDensity:t})=>{const n=(0,o.pipe)(t,m.j.Density.matchOrDefault(m.j.Density.minimal)((()=>_.minimalDescription),(()=>_.description)));return(0,o.pipe)(e.cardMeta.details,s.fold((()=>null),(t=>i.createElement(f.G3,{key:"card-actions-details",visualState:e.visualState,className:_.more},i.createElement(C.XY,Object.assign({className:n},h.y.renderToHtml(t)))))))},E=({wordCount:e,checked:t})=>i.createElement(C.H3,{className:t?_.wordCountChecked:_.wordCountUnchecked},e,"",i.createElement(C.XY,{className:_.words},"words")),A=({item:e,layoutDensity:t,actions:n})=>{const r=p.f.isTextLengthCard(e.cardMeta)?e.cardMeta.wordCount:null;return i.createElement(i.Fragment,null,null!==r?i.createElement(E,{wordCount:r,checked:e.itemMeta.checked}):null,i.createElement(y.dk,{className:null!==r?_.descriptionWithHeader:void 0,description:e.cardMeta.explanation,actions:n,layoutDensity:t}))},T=({item:e,actions:t})=>(0,o.pipe)(e.cardMeta.details,s.fold((()=>null),(()=>i.createElement(N,{key:"card-actions-button",actions:t,item:e})))),N=({item:{id:e,visualState:t},actions:n,className:r})=>{const a=i.useContext(c.m.Context);return i.createElement(v.zx.Tertiary,{key:"toggle-more",name:(0,f.hC)(t,a),title:(0,f.hC)(t,a),className:r,onClick:x.hz((()=>{n.next({type:d.eI.Kind.startTransitionTo,id:e,transition:{type:u.X.isCardOpen(t)?"focused":"expanded",clockwise:!0}})}))},u.X.isCardOpen(t)?i.createElement(b.JO.Arrow,{key:"more",className:_.lessIcon}):i.createElement(b.JO.QuestionMark,{key:"expand"}),(0,f.hC)(t,a))},O=e=>a.UI.Knot.make((e=>a.UI.Grid.make((({state:t,slots:n})=>i.createElement(r.F.div,{className:_.expanded},t.pipe(w.U((t=>{return i.createElement(g.Z,{header:i.createElement(r.F.Fragment,null,n.header),visualState:t.visualState,onFocus:o.constVoid,theme:(a=t.renderOptions.layoutDensity,{wrapper:(0,o.pipe)(a,m.j.Density.matchOrDefault(m.j.Density.minimal)((()=>_.wrapper),(()=>{})))}),body:i.createElement(A,{item:t,actions:e,layoutDensity:t.renderOptions.layoutDensity}),mainActions:null,footer:i.createElement(k,{item:t,layoutDensity:t.renderOptions.layoutDensity}),subActions:i.createElement(T,{item:t,actions:e})});var a})))))))(e),{header:I.r}),_=l.u.stylesheet({wrapper:[S.kX],lessIcon:[S.A2],more:[y.IH],description:[y.LM],minimalDescription:[y.LM,y.Gq],descriptionWithHeader:[S.H4],wordCountChecked:[S.NR],wordCountUnchecked:[S.Lp],words:[S.ht],expanded:[S.TX]});var j,$=n(34190),P=n(3303),F=n(70100),D=n(79589),L=n(19751);!function(e){e.Card=e=>a.UI.Node.make((({view:t})=>{const n=t("view"),o=(0,$.cp)(n,e),s=(0,$.Hu)(n,e);return i.createElement(r.F.Fragment,null,n.pipe(L.$f(F.X.eq),w.U((t=>i.createElement(D.b.Card,{miniCard:a.UI.mount(P.m,o),fullCard:a.UI.mount(O(e),s),actions:e,card:t})))))}))}(j||(j={}))},98752:(e,t,n)=>{n.d(t,{fw:()=>i});var i,r=n(27378),a=n(57050),o=n(5739),s=n(5114),l=n(95195),c=n(8125),u=n(32821),d=n(81531),p=n(34190),m=n(30522),h=n(3303),f=n(84313),g=n(75316),y=n(47306),v=n(91338),b=n(79589),C=n(85287),x=n(22800),w=n(22391),I=n(35108),S=n(40111),k=n(21882),E=n(76720),A=n(28043),T=n(77176),N=n(85985);function O(e){return e.incomplete?(0,a.pipe)(e.from,s.filter((e=>"expanded"===e||"focused"===e)),s.filter((()=>"removed"===e.transition.type)),s.map((()=>({main:C.$4.focused2renderedMain,shade:e.transition.clockwise?C.$4.focused2renderedShadeClockwise:C.$4.focused2renderedShade}))),s.getOrElse((()=>(0,I.SA)(e)))):{}}function _(e){return e.incomplete?(0,a.pipe)(e.from,s.filter((e=>"expanded"===e||"focused"===e)),s.filter((()=>"removed"===e.transition.type)),s.map((()=>({main:x.S.focused2renderedBundleMain,shade:e.transition.clockwise?x.S.focused2renderedBundleShadeClockwise:x.S.focused2renderedBundleShade}))),s.getOrElse((()=>(0,I.a)(e)))):{}}!function(e){const t=e=>g.C.isTakeawayItem(e.card)?r.createElement(E.o.Full,{card:e.card,actions:e.actions,isChecklistItem:!0,isChecklistBundleItem:!!e.isBundle,cardHeader:e.cardHeader}):r.createElement(k.J,{card:e.card,actions:e.actions,isChecking:e.isChecking,transform:e.transform,isCheckingGlobal:e.isCheckingGlobal}),n=e=>(0,a.pipe)(e.card,g.C.match({super:(0,a.constant)(s.none),smartPhrases:(0,a.constant)(s.none),sentenceLevelBrandTones:(0,a.constant)(s.none),toneAI:(0,a.constant)(s.none),ethicalAI:(0,a.constant)(s.none),sdui:(0,a.constant)(s.none),takeaway:s.some,synfony:s.some,shortenIt:s.some,default:s.some,suggestedSnippet:(0,a.constant)(s.none)}),s.fromEither,s.chain(a.identity),s.fold((()=>(i("ChecklistBundleCard").error("rendering fallback for card",e.card),r.createElement(r.Fragment,null))),(n=>r.createElement(t,Object.assign({},e,{card:n,isBundle:!0})))));e.Card=e=>u.UI.Node.make((({view:s})=>{const c=s("view"),d=(0,p.cp)(c,e),g=(0,p.Mt)(c,e),C=e=>(i("ChecklistAlertCard").error("rendering fallback for card",e),null),{isChecking:x,isCheckingGlobal:I,transform:k}=f.X.useCardStates(c),E=n=>r.createElement(t,{card:n,actions:e,isChecking:x,isCheckingGlobal:I,transform:k,cardHeader:u.UI.mount(m.r,g),isBundle:!1});return r.createElement(o.F.Fragment,null,c.pipe(A.x(((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type&&e.viewKind===t.viewKind)),T.U((t=>r.createElement(w.p.Provider,{card:c,cardVisibleViewportHeight:s("visibleViewportHeight")},(o=>r.createElement(b.b.Card,{mount:o,miniCard:u.UI.mount(h.m,d),fullCard:y.J.isBundle(t)?r.createElement(S.A.Full,{card:c.pipe(N.h(y.J.isBundle)),actions:e,renderCard:n}):(0,a.pipe)(t,f.X.match({super:C,smartPhrases:C,sentenceLevelBrandTones:C,toneAI:C,ethicalAI:C,sdui:C,synfony:E,shortenIt:E,takeaway:E,suggestedSnippet:C,default:E}),l.getOrElse((e=>(i("ChecklistAlertCard").error("Got an unexpected card type",e),r.createElement(r.Fragment,null))))),feedbackForm:r.createElement(v.A.FeedbackForm,{cardData:t,actions:e}),mutedCard:r.createElement(v.A.MutedAlert,{cardData:t,actions:e}),actions:e,card:t,transitionClassMapper:"bundle"===t.viewKind?_:O,removedCard:u.UI.mount(h.m,d)})))))))}));const i=(0,c.HP)(d.Monitoring.Logging.getLogger)}(i||(i={}))},34190:(e,t,n)=>{n.d(t,{Hu:()=>s,cp:()=>l,Mt:()=>u});var i=n(57050),r=n(32821),a=n(24713),o=n(77176);const s=(e,t)=>r.Z.composeKnot({root:r.Z.fromSideEffect(i.constVoid,e),header:u(e,t)}),l=(e,t)=>r.Z.composeKnot({root:r.Z.fromSideEffect((e=>t.next(e)),e.pipe(a.j("id"))),header:c(e)}),c=e=>r.Z.composeKnot({title:r.Z.fromSideEffect(i.constVoid,e.pipe(o.U((e=>Object.assign(Object.assign({},e.itemMeta),{isMinimized:!0}))))),label:r.Z.fromSideEffect(i.constVoid,e)}),u=(e,t)=>r.Z.composeKnot({title:r.Z.fromSideEffect(i.constVoid,e.pipe(a.j("itemMeta"),o.U((e=>Object.assign(Object.assign({},e),{isMinimized:!1}))))),controls:r.Z.fromSideEffect((e=>t.next(e)),e.pipe(o.U((e=>e.id))))})},30522:(e,t,n)=>{n.d(t,{y:()=>C,r:()=>x});var i=n(27378),r=n(57050),a=n(5739),o=n(77176),s=n(5114),l=n(32821),c=n(63969),u=n(15215),d=n(39210),p=n(7046),m=n(21474),h=n(3656),f=n(54126);const g=({checked:e})=>i.createElement(a.F.Fragment,null,e.pipe(o.U((e=>e?i.createElement(m.JO.ValidationOk,{width:16}):i.createElement(m.JO.ValidationWarning,{width:16}))))),y=l.UI.Node.make((({state:e})=>i.createElement(i.Fragment,null,i.createElement(g,{checked:e.pipe(o.U((({miniChecked:e,checked:t})=>(0,r.pipe)(e,s.getOrElse((()=>t))))))}),i.createElement(a.F.div,{className:w.titleContainer},e.pipe(o.U((e=>e.isMinimized?i.createElement(h.XY,{className:w.title},(0,r.pipe)(e.miniTitle,s.getOrElse((()=>e.title)))):i.createElement(h.H4,{className:w.title},e.title)))))))),v=l.UI.Node.make((({state:e})=>i.createElement(a.F.Fragment,null,e.pipe(o.U((e=>(0,r.pipe)(e.itemMeta.miniLabel,s.fold((()=>(0,r.pipe)(u.d.getAlertsCount(e),s.fold(r.constNull,(e=>i.createElement(h.x4,{className:w.counter,"data-name":"checklist-item/count"},e))))),(t=>i.createElement(h.x4,{className:(0,r.pipe)(e.itemMeta.miniChecked,s.getOrElse((()=>e.itemMeta.checked)))?w.labelChecked:w.labelUnchecked},t)))))))))),b=({left:e,right:t,showActivateButton:n})=>i.createElement(a.F.div,{className:w.headerContainer},e,i.createElement(a.F.div,{className:f.Sc},t),n?i.createElement("div",{className:f.Tu},i.createElement(m.JO.Arrow,{className:w.activeTopIcon}),i.createElement(m.JO.Arrow,{className:w.activeBottomIcon})):null),C=l.UI.Knot.make(l.UI.Grid.make((({slots:e})=>i.createElement(b,{left:e.title,right:e.label,showActivateButton:!0}))),{title:y,label:v}),x=l.UI.Knot.make(l.UI.Grid.make((({slots:e})=>i.createElement(b,{left:e.title,right:e.controls,showActivateButton:!1}))),{title:y,controls:l.UI.Node.make((({notify:e,state:t})=>i.createElement(a.F.Fragment,null,t.pipe(o.U((t=>i.createElement(p.zx.Ghost,{name:"collapse",onClick:e({type:d.C.Type.collapseButtonClick,id:t})},i.createElement(m.JO.Arrow,{direction:m.n4.up}))))))))}),w=c.u.stylesheet({headerContainer:[f.lZ],titleContainer:[f.XE],title:[f.Cx],labelChecked:[f.i0],labelUnchecked:[f.D],counter:[f.e],activeTopIcon:[f.Lf],activeBottomIcon:[f.rx]})},3303:(e,t,n)=>{n.d(t,{m:()=>d});var i=n(27378),r=n(5739),a=n(32821),o=n(63969),s=n(15646),l=n(77176),c=n(30522),u=n(54126);const d=a.UI.Knot.make(a.UI.Grid.make((({slots:e,notify:t,state:n})=>i.createElement(r.F.div,{className:p.mini,onClick:n.pipe(l.U((e=>t({type:s.lY.Type.miniItemClick,id:e}))))},e.header))),{header:c.y}),p=o.u.stylesheet({mini:[u.oH]})},54126:(e,t,n)=>{n.d(t,{TX:()=>s,kX:()=>l,A2:()=>c,NR:()=>u,Lp:()=>d,ht:()=>p,H4:()=>m,lZ:()=>h,Sc:()=>g,XE:()=>y,Cx:()=>v,i0:()=>b,D:()=>C,e:()=>x,Tu:()=>I,Lf:()=>S,rx:()=>k,oH:()=>E});var i=n(44060),r=n(63969),a=n(40219);const o={display:"flex",boxSizing:"border-box",borderRadius:r.u.rem(a.Jr),boxShadow:i.uc.Z100,userSelect:"none",transform:"translateY(0)",background:i.Il.CoreNeutral0,overflow:"hidden"},s=Object.assign(Object.assign({},o),{flexDirection:"column"}),l={padding:`0 ${r.u.rem(.5)} ${r.u.rem(.5)} ${r.u.rem(1)}`},c={transform:"rotate(180deg)"},u={color:i.Il.CoreGreen60},d={color:i.Il.CoreRed50},p={display:"inline-block"},m={marginTop:r.u.rem(.5)},h={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",height:r.u.rem(2.5),width:r.u.percent(100),padding:`0 ${r.u.rem(.5)} 0 0`,boxSizing:"border-box",position:"relative"},f="checklistMiniRight",g=r.u.joinClasses([f,r.u.style({display:"flex",alignItems:"center",flexShrink:0,flexGrow:1,alignSelf:"stretch",justifyContent:"flex-end"})]),y={minWidth:0},v={fontSize:r.u.rem(i.xv.BodySize),whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",marginRight:r.u.rem(.5)},b={color:i.Il.CoreGreen70},C={color:i.Il.CoreRed50},x={color:i.Il.CoreNeutral40,display:"flex",alignItems:"center",justifyContent:"center",width:r.u.rem(1)},w="checklistMiniActivateBtn",I=r.u.joinClasses([w,r.u.style({position:"absolute",right:r.u.rem(.5),width:r.u.rem(1),transform:`translate(${r.u.rem(-.5)})`,opacity:0})]),S={display:"flex",margin:`${r.u.rem(.05)} 0 ${r.u.rem(-1.25)}`,transform:"rotate(180deg)"},k={display:"flex",height:"auto"},E=Object.assign(Object.assign({},o),{cursor:"pointer",$nest:{"&:hover":{background:i.Il.CoreNeutral0,boxShadow:"0 1px 12px 0 rgba(129, 137, 169, .2)",transitionDuration:r.u.seconds(.2)},[`&:hover .${w}`]:{opacity:1},"&:hover .checklistMiniRight":{opacity:0}}})},34442:(e,t,n)=>{n.d(t,{H:()=>A});var i=n(27378),r=n(5739),a=n(12187),o=n(19962),s=n(32821),l=n(63969),c=n(40219),u=n(16782),d=n(41398),p=n(66310),m=n(24209),h=n(49708),f=n(85985),g=n(17343),y=n(76974),v=n(13444),b=n(50628),C=n(40151),x=n(2834),w=n(85089),I=n(28043),S=n(85255),k=n(77176),E=n(93508);var A;!function(e){let t,n;!function(e){e.front="front",e.back="back"}(t=e.Layer||(e.Layer={})),function(e){e.completePositionAnimation="completePositionAnimation",e.changePosition="changePosition"}(n=e.ActionKind||(e.ActionKind={})),e.Cell=s.UI.Grid.make((({slots:e,state:s,notify:l})=>{const c=new u.t,A=s.pipe(d.M(c),p.w((([e,t])=>e.position.animationInProgress?m.T(h.R(t,"transitionend").pipe(f.h((e=>e.target===t&&"transform"===e.propertyName)),g.h(void 0)),y.of(void 0).pipe(v.g(200))).pipe(b.P()):C.E)),x.b(l({kind:n.completePositionAnimation}))),T=s.pipe(d.M(c),p.w((([e,t])=>e.height.watched?w.YC(t).pipe(f.h((t=>e.height.value!==t.height||!e.height.isValid||t.height>0))):C.E)),I.x(),x.b((({height:e})=>l({kind:n.changePosition,height:e})())));S.P.useSubscriptionTo(m.T(A,T));const N=s.pipe(k.U((e=>e.position.top)),k.U((e=>o.CSS.translateY(e))),I.x()),_=s.pipe(k.U((e=>e.layer===t.front?1:0)),I.x()),j=s.pipe(k.U((({position:e})=>e)),I.x(((e,t)=>e.top===t.top)),k.U((({animationInProgress:e})=>e?O.animate:void 0)),E.O(void 0));return i.createElement(r.F.div,Object.assign({},(0,a.Sh)(O.item,j),{style:{transform:N,zIndex:_},mount:e=>{null!==e&&c.next(e)}}),e.item)}))}(A||(A={}));const T={position:"absolute",boxSizing:"border-box",width:l.u.percent(100),contain:"layout"},N={transition:`transform ${l.u.seconds(c.v4/1e3)} linear`},O=l.u.stylesheet({item:[T],animate:[N]})},95983:(e,t,n)=>{n.d(t,{vM:()=>p,aW:()=>i});var i,r=n(71249),a=n(57050),o=n(40327),s=n(22232),l=n(83078),c=n(5114),u=n(95195),d=n(89943);function p(e,t){return t.reduce(((t,n)=>{const i="function"==typeof e?e(n):n[e];let r=t.get(i);return r||(r=[],t.set(i,r)),r.push(n),t}),new Map)}!function(e){e.URI="ImmutableSortedMap",e.create=function(t,n,i){const r=Array.isArray(t)?new Map(t.map((e=>[n(e),e]))):t,a=e.orderKeys(r,i);return r.forEach((e=>(0,s.kG)(h(e),"init value should implement IEquals",(()=>JSON.stringify(e))))),new m(r,a,i,n)},e.empty=function(e,t){return new m(new Map,[],t,e)},e.diff=function(e,t){const n=e.clear();return e.reduce((({added:e,preserved:n,removed:i,changed:r},a,o)=>{const s=e.has(o)?e.remove(o):e;if(t.has(o)){const e=a.equals(l.unsafeGet(t.get(o)).value);return{removed:i,added:s,preserved:e?n.add(a):n,changed:e?r:r.add(a)}}return{removed:i.add(a),added:s,preserved:n,changed:r}}),{removed:n,added:t,preserved:n,changed:n})},e.unsafeGet=function(e,t){return l.unsafeGet(t.get(e)).value},e.unsafeGetBy=function(e){return t=>l.unsafeGet(t.get(e)).value},e.unsafeGetAt=function(e,t){return l.unsafeGet(t.getAt(e))},e.unsafeGetAtBy=function(e){return t=>l.unsafeGet(t.getAt(e))},e.nonEmpty=function(e){return e.size>0},e.lowerBound=function(e,t){let n=-1,i=e.size;for(;n+1!==i;){const r=n+(i-n>>1);t(l.unsafeGet(e.getAt(r)))?n=r:i=r}return n+1},e.createKeySorter=function(e,t){return(n,i)=>t(e(n),e(i))},e.orderKeys=function(t,n){return Array.from(t.keys()).sort(e.createKeySorter((e=>t.get(e)),n))},e.takeByKey=function(e,t,n){const i=(0,o.pipe)(n,r.findIndex((t=>t===e))),a=c.fromNullable(t.get(e));return(0,s.kG)(c.isNone(i)&&c.isNone(a)||c.isSome(i)&&c.isSome(a),"unsynced hash&order"),l.map2(((e,t)=>({index:e,value:t})))(i,a)},e.getFoldableWithIndex=function(){return{URI:e.URI,_E:void 0,reduce:(e,t,n)=>e.reduce(n,t),foldMap:e=>(t,n)=>t.reduce(((t,i)=>e.concat(t,n(i))),e.empty),reduceRight:(e,t,n)=>e.reduce(((e,t)=>n(t,e)),t),reduceWithIndex:(e,t,n)=>e.reduce(((e,t,i)=>n(i,e,t)),t),reduceRightWithIndex:(e,t,n)=>e.reduce(((e,t,i)=>n(i,t,e)),t),foldMapWithIndex:e=>(t,n)=>t.reduce(((t,i,r)=>e.concat(t,n(r,i))),e.empty)}}}(i||(i={}));class m{constructor(e,t,n,i){this._hash=e,this._order=t,this._comp=n,this._getKey=i,(0,s.kG)(e.size===t.length,"every hash entry should has order")}get(e){return i.takeByKey(e,this._hash,this._order)}getIndex(e){return c.fromPredicate((e=>e>-1))(this._order.indexOf(e))}getAt(e){return c.fromNullable(this._hash.get(this._order[e]))}has(e){return this._hash.has(e)}find(e,t=0){if(t<0)return c.none;for(let n=t;n<this._order.length;n++){const t=this._order[n],i=this._hash.get(t);if(e(i))return c.some({index:n,value:i})}return c.none}findFrom(e,t){return this.find(e,t)}findRight(e,t){if(t&&t>=this._order.length)return c.none;for(let n=t||this._order.length-1;n>=0;n--){const t=this._order[n],i=this._hash.get(t);if(e(i))return c.some({index:n,value:i})}return c.none}findRightFrom(e,t){return this.findRight(e,t)}map(e,t=this._comp){const n=new Map;this._order.forEach(((t,i)=>{const r=this._hash.get(t),a=e(r,t,i);(0,s.kG)(h(a),"transformed value should implement IEquals",(()=>JSON.stringify(a))),n.set(t,a)}));const r=i.orderKeys(n,t);return new m(n,r,t,this._getKey)}mapTo(e){return this._order.map(((t,n)=>e(this._hash.get(t),t,n)))}filter(e){const t=new Map,n=this._order.filter((n=>{const i=this._hash.get(n),r=e(i,n);return r&&t.set(n,i),r}));return new m(t,n,this._comp,this._getKey)}reduce(e,t){return this._order.reduce(((t,n,i)=>e(t,this._hash.get(n),n,i)),t)}modifyWith(e,t){const n=new Map(this._hash),r=this._order.slice(),a=(e,a)=>{const o=i.takeByKey(a,n,r),l=t(a,e,o);(0,s.kG)(h(l),"modified value should implement IEquals",(()=>JSON.stringify(l))),n.set(a,l),c.isNone(o)&&r.push(a)};return e instanceof Array?e.forEach((([e,t])=>a(t,e))):e.forEach(a),r.sort(i.createKeySorter((e=>n.get(e)),this._comp)),new m(n,r,this._comp,this._getKey)}patchWith(e,t){const n=new Map(this._hash),r=this._order.slice(),u=(e,u)=>{const d=i.takeByKey(u,n,r),p=t(u,e,d);(0,s.kG)(l.forAll(h)(p),"patched value should implement IEquals",(()=>JSON.stringify(p))),(0,o.pipe)(p,c.fold((()=>{(0,o.pipe)(d,c.fold(a.constVoid,(({index:e})=>{n.delete(u),r.splice(e,1)})))}),(e=>{n.set(u,e),c.isNone(d)&&r.push(u)})))};return e instanceof Array?e.forEach((([e,t])=>u(t,e))):e.forEach(u),r.sort(i.createKeySorter((e=>n.get(e)),this._comp)),new m(n,r,this._comp,this._getKey)}add(e){const t=new Map(this._hash),n=this._order.slice();return(Array.isArray(e)?e:[e]).forEach((e=>{const i=this._getKey(e);(0,s.kG)(h(e),"added value should implement IEquals",(()=>JSON.stringify(e))),t.set(i,e),-1===n.indexOf(i)&&n.push(i)})),n.sort(i.createKeySorter((e=>t.get(e)),this._comp)),new m(t,n,this._comp,this._getKey)}update(e,t){return(0,o.pipe)(this.get(e),c.fold((()=>u.left(`Provided key ${e} not found in the map`)),(({value:n})=>{const r=new Map(this._hash),a=this._order.slice();return r.set(e,t(n)),a.sort(i.createKeySorter((e=>r.get(e)),this._comp)),u.right(new m(r,a,this._comp,this._getKey))})))}remove(e){(0,s.kG)(this.has(e),`can not remove unknown key: ${e}`);const t=new Map(this._hash);t.delete(e);const n=d.omit(e,this._order);return new m(t,n,this._comp,this._getKey)}clear(){return new m(new Map,[],this._comp,this._getKey)}hashCode(){let e=7;return this._hash.forEach((t=>e+=t.hashCode())),e}equals(e){return this.hashCode()===e.hashCode()&&this.size===e.size&&this.values().every(((t,n)=>t.equals(l.unsafeGet(e.getAt(n)))))}values(){return this._order.map((e=>this._hash.get(e)))}keys(){return this._order}get size(){return this._order.length}}function h(e){return!(!e||"function"!=typeof e.equals||"function"!=typeof e.hashCode)}},5920:(e,t,n)=>{n.d(t,{l:()=>i});var i,r=n(40327),a=n(5114);!function(e){e.update=function(e,t,n){return e.update(t,n)},e.filter=function(e,t){return e.filter(t)},e.get=function(e,t,n){return(0,r.pipe)(e.get(t),a.filter((e=>n(e.value))))},e.find=function(e,t){return e.find(t)}}(i||(i={}))},84313:(e,t,n)=>{n.d(t,{X:()=>k});var i,r=n(35214),a=n(57050),o=n(40327),s=n(22232),l=n(8125),c=n(5114),u=n(95195),d=n(73975),p=n(45701),m=n(81531),h=n(40018),f=n(98637),g=n(19751),y=n(77176),v=n(28043),b=n(85985),C=n(36156),x=n(17594),w=n(55567),I=n(75316),S=n(4890);!function(e){function t(e){return"cardDSL"in e&&"prevCardDSL"in e&&"transitions"in e}let n;e.isSDUIItem=t,function(e){e.getPojoUpdates=()=>({setSDUIState:(e,t,n)=>i=>Object.assign(Object.assign({},i),{cardDSL:e,prevCardDSL:t,transitions:n})}),e.getSelect=e=>(n,i)=>r=>(0,a.pipe)(n,c.filter(t),c.map((t=>e(r.cardDSL,t.cardDSL,i)(r))),c.getOrElse((()=>r)))}(n=e.Capabilities||(e.Capabilities={}))}(i||(i={}));class k{constructor(e,t,n,i,r,a,s,l,u,d,p,m,h,f,g,y,v,b){this.id=e,this.alerts=t,this.activeAlertIndex=n,this.activeHighlightIndex=i,this.positionState=r,this.visualState=a,this.meta=s,this.lensId=l,this.renderOptions=u,this.muteCategory=d,this.order=p,this.initialAlertId=m,this.removedAlertsIds=h,this.cachedTransform=f,this.userInput=g,this.synfonySelection=y,this.prevCardDSL=v,this.transitions=b,this.kind=k.Kind,this.activeAlert=I.C.getActiveAlert(this),this.cardDSL=this.activeAlert.cardDSL,this.transform=(0,o.pipe)(this.cachedTransform,c.map((e=>e.labels)))}get activeAlertRemoved(){return I.C.activeAlertRemoved(this)}get scheduledToDispose(){return I.C.willBeDisposed(this,this.removedAlertsIds)}hashCode(){return k.hashCode(this)}equals(e){return k.eq.equals(this,e)}toJSON(){return Object.assign(Object.assign({},this),{renderOptions:S.j.toJSON(this.renderOptions)})}}!function(e){let t,n;function S(e){return e.activeAlert.alertType===h.bZ.Type.Synfony}function k(e){return e.activeAlert.type===x.$.Type.default}function E(e){return c.isSome(e.activeAlert.cardDSL)}e.Kind="AlertCard",e.isPriority=e=>x.$.isPriority(e.activeAlert),e.updateAlerts=(t,n,i,r)=>a=>new e(a.id,t,i,r,a.positionState,a.visualState,a.meta,a.lensId,a.renderOptions,a.muteCategory,a.order,a.initialAlertId,n,a.cachedTransform,a.userInput,a.synfonySelection,a.prevCardDSL,a.transitions),e.updateUserInput=t=>n=>new e(n.id,n.alerts,n.activeAlertIndex,n.activeHighlightIndex,n.positionState,n.visualState,n.meta,n.lensId,n.renderOptions,n.muteCategory,n.order,n.initialAlertId,n.removedAlertsIds,n.cachedTransform,t,n.synfonySelection,n.prevCardDSL,n.transitions),e.changeVisualState=t=>n=>new e(n.id,n.alerts,n.activeAlertIndex,n.activeHighlightIndex,n.positionState,t,n.meta,n.lensId,n.renderOptions,n.muteCategory,n.order,n.initialAlertId,n.removedAlertsIds,n.cachedTransform,n.userInput,n.synfonySelection,n.prevCardDSL,n.transitions),e.changePosition=t=>n=>new e(n.id,n.alerts,n.activeAlertIndex,n.activeHighlightIndex,t,n.visualState,n.meta,n.lensId,n.renderOptions,n.muteCategory,n.order,n.initialAlertId,n.removedAlertsIds,n.cachedTransform,n.userInput,n.synfonySelection,n.prevCardDSL,n.transitions),e.changeMeta=t=>n=>new e(n.id,n.alerts,n.activeAlertIndex,n.activeHighlightIndex,n.positionState,n.visualState,t,n.lensId,n.renderOptions,n.muteCategory,n.order,n.initialAlertId,n.removedAlertsIds,n.cachedTransform,n.userInput,n.synfonySelection,n.prevCardDSL,n.transitions),e.changeTransform=t=>n=>new e(n.id,n.alerts,n.activeAlertIndex,n.activeHighlightIndex,n.positionState,n.visualState,n.meta,n.lensId,n.renderOptions,n.muteCategory,n.order,n.initialAlertId,n.removedAlertsIds,t,n.userInput,n.synfonySelection,n.prevCardDSL,n.transitions),e.changeSynfonySelection=t=>n=>new e(n.id,n.alerts,n.activeAlertIndex,n.activeHighlightIndex,n.positionState,n.visualState,n.meta,n.lensId,n.renderOptions,n.muteCategory,n.order,n.initialAlertId,n.removedAlertsIds,n.cachedTransform,n.userInput,t,n.prevCardDSL,n.transitions),e.changeSDUIContent=(t,n)=>i=>new e(i.id,i.alerts,i.activeAlertIndex,i.activeHighlightIndex,i.positionState,i.visualState,i.meta,i.lensId,i.renderOptions,i.muteCategory,i.order,i.initialAlertId,i.removedAlertsIds,i.cachedTransform,i.userInput,i.synfonySelection,t,n),e.canHydrate=e=>!(e.meta.checking!==w.n.CheckingState.Idle||I.C.activeAlertRemoved(e)),e.getId=function(e){return e.id},function(t){t.getRemoveAlerts=(e,t)=>(n,i)=>r=>{const s=new Set(n.map((e=>e.id)));return I.C.hasAnyOfAlerts(s)(r)?e.remove(r,[r.activeAlert],(0,o.pipe)(i,c.map((e=>t.compare(r,e)>0)),c.getOrElse(a.constTrue))):r},t.getChangePosition=function(e){return{changePosition:t=>n=>e.changePosition(n,t)}},t.getAnimatable=function(t){return{completeTransition:n=>i=>(0,o.pipe)(t.completeTransition(i,n),I.C.isSDUIAlertsItem(i)?e.changeSDUIContent(c.none,[]):a.identity),transitionTo:e=>n=>t.transitionTo(n,e),changeVisualState:e=>n=>t.changeVisualState(n,e)}},t.getRemove=function(e){return{remove:(t,n)=>i=>t(i)?e.remove(i,[i.activeAlert],n(i)):i}},t.getUpdateWithAlert=function(e){return{updateWithAlerts:t=>n=>e.updateWith(n,t)}},t.sduiSelect=i.Capabilities.getSelect(((t,n,i)=>e.changeSDUIContent(n,i))),t.getSelect=function(e){return{select:(n,i,r)=>a=>(0,o.pipe)(e.selectFirstAlert(a,n,i),t.sduiSelect(n,r)),selectByAlert:(n,i,r,a)=>s=>(0,o.pipe)(e.select(s,i,n,r),t.sduiSelect(n,a)),unselect:(t,n)=>i=>e.unselect(i,t,n)}},t.getCloneable=function(){return{clone:t=>new e(t.id,t.alerts,t.activeAlertIndex,t.activeHighlightIndex,t.positionState,t.visualState,t.meta,t.lensId,t.renderOptions,t.muteCategory,t.order,t.initialAlertId,t.removedAlertsIds,t.cachedTransform,t.userInput,t.synfonySelection,t.prevCardDSL,t.transitions)}}}(t=e.Capabilities||(e.Capabilities={})),function(e){e.default="default",e.super="super",e.takeaway="takeaway"}(n=e.Type||(e.Type={})),(0,s.L0)(null),e.isSynfonyView=S,e.isDefaultView=k,e.isSDUIView=E,e.match=function(e){return t=>{if(E(t))return u.right(e.sdui(t));if(function(e){return e.activeAlert.type===x.$.Type.super}(t))return u.right(e.super(t));if(function(e){return e.activeAlert.type===x.$.Type.smartPhrases}(t))return u.right(e.smartPhrases(t));if(function(e){return e.activeAlert.type===x.$.Type.takeaway}(t))return u.right(e.takeaway(t));if(function(e){return e.activeAlert.type===x.$.Type.sentenceLevelBrandTones}(t))return u.right(e.sentenceLevelBrandTones(t));if(S(t))return u.right(e.synfony(t));if(function(e){return e.activeAlert.type===x.$.Type.shortenIt}(t))return u.right(e.shortenIt(t));if(function(e){return e.activeAlert.type===x.$.Type.toneAI}(t))return u.right(e.toneAI(t));if(function(e){return e.activeAlert.type===x.$.Type.ethicalAI}(t))return u.right(e.ethicalAI(t));if(function(e){return e.activeAlert.type===x.$.Type.suggestedSnippet}(t))return u.right(e.suggestedSnippet(t));if(k(t))return u.right(e.default(t));const n={lensId:t.activeAlert.lensId,lensType:t.activeAlert.lensType};return u.left(new Error(`Cannot render unknown card type with alert: [${JSON.stringify(n,null,2)}]`))}},e.eq=I.C.eq,e.hashCode=e=>(0,C.NO)({itemHashCode:I.C.hashCode(e),synfonySelection:(0,o.pipe)(e.synfonySelection,c.getOrElse((()=>[])),(e=>e.join(",")))});const A=p.getMonoid();let T;e.ord=(0,r.fold)(A)([(0,o.pipe)(p.ordNumber,p.contramap((e=>e.order))),(0,o.pipe)(p.ordString,p.contramap((e=>e.initialAlertId)))]),e.isCardOpen=function(e){return"expanded"===e.transition.type||(0,o.pipe)(e.from,c.exists((t=>"expanded"===t&&"rendered"===e.transition.type)))},e.isCardPresuccess=function(e){return"presuccess"===e.transition.type},function(e){e.eq=d.fromEquals(((e,t)=>e.type===t.type&&e.clockwise===t.clockwise))}(T=e.Transition||(e.Transition={})),e.hasTransform=function(e){return c.isSome(e.transform)},e.hasFullSentenceTransform=function(e){return h.eT.isFullSentence(e.activeAlert.extraProperties.cardType)&&(0,o.pipe)(e.transform,c.exists(f.b$.isFullSentence))},e.hasOneGapTransform=function(e){return(0,o.pipe)(e.transform,c.exists(f.b$.isOneGap))},e.hasSynfonyTransform=function(e){return h.eT.isSynfony(e.activeAlert.extraProperties.cardType)},e.isSmartPhrases=function(e){return x.$.isSmartPhrases(e.activeAlert)},e.isTakeaway=function(e){return x.$.isTakeaway(e.activeAlert)},e.isSimple=function(e){return h.eT.isSimple(e.activeAlert.extraProperties.cardType)},e.isEligibleForDismissSurvey=function(e){return e.activeAlert.dismissSurvey},e.isEligibleForAcceptSurvey=function(e){return e.activeAlert.acceptSurvey},e.miniTitle=function(e,t){return x.$.isTakeaway(e.activeAlert)&&c.isNone(e.activeAlert.takeawayFeedback)?t.card.takeaway.defaultTitle:x.$.isToneAI(e.activeAlert)?t.card.toneAI.toneAlternative:e.activeAlert.miniCardTitle},e.useCardStates=e=>({isChecking:e.pipe(y.U((e=>e.meta.checking===w.n.CheckingState.Checking)),v.x(),g.d({bufferSize:1,refCount:!0})),isCheckingGlobal:e.pipe(y.U((e=>e.meta.checking===w.n.CheckingState.Full)),v.x(),g.d({bufferSize:1,refCount:!0})),transform:e.pipe(y.U((({transform:e})=>e)),b.h(c.isSome),g.$f(c.getEq(f.b$.eq)))}),e.foldCard=u.getOrElse((e=>(N("CardComponent").error("Got an unexpected card type",e),null)));const N=(0,l.HP)(m.Monitoring.Logging.getLogger)}(k||(k={}))},55567:(e,t,n)=>{n.d(t,{n:()=>i});var i,r=n(2291),a=n(36156);!function(e){let t;!function(e){e.Idle="idle",e.Checking="checking",e.Full="full"}(t=e.CheckingState||(e.CheckingState={}));class n{constructor(e,t,n,i,r){this.percentile=e,this.explanation=t,this.checking=n,this.ranges=i,this.showMuteQuotedAdvice=r}equals(e){return this.hashCode()===e.hashCode()}hashCode(){return(0,a.NO)({percentile:r.g.prism.reverseGet(this.percentile),explanation:this.explanation,checking:this.checking,ranges:this.ranges.map((e=>e.meta.id)).join(),showMuteQuotedAdvice:this.showMuteQuotedAdvice})}}e.Impl=n,e.empty=(e="",i=r.g.MIN,a=t.Idle,o=[])=>new n(i,e,a,o,!1),e.create=({explanation:e="",percentile:i=r.g.MIN,checking:a=t.Idle,ranges:o=[]})=>new n(i,e,a,o,!1)}(i||(i={}))},91549:(e,t,n)=>{n.d(t,{R:()=>i});var i,r=n(57050),a=n(40327),o=n(45701),s=n(5114),l=n(22232),c=n(73975),u=n(40018),d=n(17594),p=n(84313),m=n(55567),h=n(20594),f=n(75316),g=n(48521);!function(e){let t;e.Kind="AlertsBundle",e.getId=function(e){return e.id},e.bundleTitle=function(e){return e.bundleInfo.title},e.ord=(0,a.pipe)(o.ordNumber,o.contramap((0,r.flow)((e=>e.activeAlert.bundleInfo),s.fold((()=>Number.MAX_SAFE_INTEGER),(e=>e.rank))))),e.isExtendableWithAlerts=e=>{switch(e.visualState.transition.type){case"added":case"expanded":case"focused":case"hidden":case"rendered":return!0;case"feedback_form":case"removed":case"presuccess":case"success":case"muted":return!1;default:return(0,l.vE)(e.visualState.transition.type)}},e.getAlertOutcomeBundle=e=>(0,a.pipe)(e.bundleInfo,s.fold((()=>({id:"other",title:"Other"})),(e=>({id:e.title.toLowerCase().split(" ").join("_"),title:e.title})))),e.eq={equals:(e,t)=>f.C.eq.equals(e,t)&&s.getEq(c.eqString).equals(e.lensId,t.lensId)},function(t){const i=t=>(n,i)=>Object.assign({id:n,kind:e.Kind,bundleInfo:t,activeAlert:f.C.getAlertByIndex(i.activeAlertIndex,i.alerts),transform:(0,a.pipe)(i.cachedTransform,s.map((e=>e.labels))),equals(t){return e.eq.equals(this,t)},hashCode(){return f.C.hashCode(this)}},i);t.create=function(t,r,o,c){const p=v.getAnimatable(t).changeVisualState,m=e=>h.Mq.getCreate(i(e),r,p,c,o),y=n(o);return{create:e=>(t,n,i,r,a,l,c)=>m(a)(t,n,i,r,h.Mq.getApplicableCardMeta(n[i],l,o),e,s.some(l),c),createAdded:e=>(t,n,i,r)=>{const a=g.o.VisualState.initial({type:"added",clockwise:!0},!0);return m(n)(t,i,0,0,h.Mq.getApplicableCardMeta(i[0],a,o),e,s.some(a),r)},createFocused:e=>(t,n,i,r,a)=>{const l=g.o.VisualState.initial({type:"focused",clockwise:!0},!0);return m(n)(t,i,r,0,h.Mq.getApplicableCardMeta(i[r],l,o),e,s.some(l),a)},createRendered:e=>(t,n,i,r)=>{const a=g.o.VisualState.initial({type:"rendered",clockwise:!0},!1);return m(n)(t,i,0,0,h.Mq.getApplicableCardMeta(i[0],a,o),e,s.some(a),r)},updateWith:(n,i)=>r=>{(0,l.kG)(n.every((e=>u.bZ.isRegistered(e))),"cannot add non registered alerts");const o=new Set(n.map((e=>e.id))),s=new Set(r.removedAlertsIds);o.forEach((e=>{s.delete(e)}));const c=r.alerts.filter((e=>!o.has(e.id))).concat(n.map(d.$.fromModel)).sort(i.compare);return(0,a.pipe)(r,y(c,s,f.C.getIndexByAlert(r.activeAlert.id,c)),e.getCardHydrator(t))}}}}(t=e.ItemFactory||(e.ItemFactory={}));const n=e=>(t,n,i)=>r=>{const a=f.C.getAlertByIndex(i,t),o=d.$.isApplicableAlert(a)?h.Mq.getApplicableCardMeta(a,r.visualState,e):m.n.empty(void 0);return Object.assign(Object.assign({},r),{alerts:t,activeAlert:a,meta:o,removedAlertsIds:n,activeAlertIndex:i})};e.changePosition=e=>t=>Object.assign(Object.assign({},t),{positionState:e}),e.updateVisualState=e=>t=>Object.assign(Object.assign({},t),{visualState:e}),e.getCardHydrator=e=>h.Mq.getCardHydrator((e=>e.cachedTransform),p.X.canHydrate,i,e),e.changeUserInput=e=>t=>Object.assign(Object.assign({},t),{userInput:e});const i=e=>t=>Object.assign(Object.assign({},t),{cachedTransform:e,transform:(0,a.pipe)(e,s.map((e=>e.labels)))}),y=e=>t=>Object.assign(Object.assign({},t),{meta:e});let v;e.unselect=h.Mq.getUnselectItem(e.updateVisualState,e.changePosition),e.getSelectByAlert=(t,i,r)=>h.Mq.getSelectByAlert(n(i),e.changeUserInput,e.updateVisualState,e.changePosition,y,r,t,i),e.getSelect=(t,n,i)=>h.Mq.getSelectFirstAlert(e.getSelectByAlert(t,n,i)),function(t){function i(t){const n=h.Mq.getChangeVisualState(e.updateVisualState,e.getCardHydrator(t));return{completeTransition:e=>t=>n(g.o.VisualState.complete(t.visualState,e))(t),transitionTo:h.Mq.getTransitionTo(n,e.changePosition),changeVisualState:n}}t.getAnimatable=i,t.getRemove=(e,t)=>h.Mq.getRemove(n(e),i(t).transitionTo),t.getUpdatableWithAlertsCapability=(t,n)=>a=>(0,r.flow)(t.updateWith(a,u.h$.ord),(t=>e.isExtendableWithAlerts(t)?t:i(n).transitionTo({type:"added",clockwise:!0})(t))),t.getRemoveAlertsCapability=(n,i,o,l)=>(c,u)=>{const d=e.getSelectByAlert(n,i,e.getCardHydrator(o)),p=h.Mq.getSelectNextAlert(h.Mq.getCardSelections(n),d);return e=>{const n=new Set(c.map((e=>e.id)));if(!f.C.hasAnyOfAlerts(n)(e))return e;const d=t.getRemove(i,o)(c,(0,a.pipe)(u,s.map((t=>l.compare(e,t)>0)),s.getOrElse(r.constTrue)))(e);return(0,a.pipe)(u,s.exists((t=>t.id===e.id)))?p(l)(d):d}}}(v=e.Capabilities||(e.Capabilities={}))}(i||(i={}))},20594:(e,t,n)=>{n.d(t,{Ls:()=>I,IG:()=>i,Mq:()=>E});var i,r=n(57050),a=n(40327),o=n(51996),s=n(5114),l=n(22232),c=n(83078),u=n(95195),d=n(89943),p=n(81531),m=n(40018),h=n(66896),f=n(2291),g=n(17594),y=n(84313),v=n(55567),b=n(48521),C=n(75316),x=n(16892),w=n(4890);function I(e,t,n,i,r){const a=E.getCardSelections(t),o=E.getCardHydrator((e=>e.cachedTransform),y.X.canHydrate,y.X.changeTransform,e),c=E.getChangeVisualState(y.X.changeVisualState,o),u=E.getSelectByAlert(y.X.updateAlerts,y.X.updateUserInput,c,y.X.changePosition,y.X.changeMeta,o,t,n),d=E.getUnselectItem(c,y.X.changePosition),p=E.getTransitionTo(c,y.X.changePosition),h=E.getRemove(y.X.updateAlerts,p);const f=E.getCreate(k,r,c,i,n);const C=E.getSelectFirstAlert(u);return Object.assign(Object.assign({shouldAnimateAlertApply:n.shouldAnimateAlertApply,create:f,createFromAlert:e=>t=>f(t.id,[t],0,0,v.n.empty(m.bZ.isApplicableAlert(t)?t.explanation:void 0),e,s.none),createFocused:function(e){const t=b.o.VisualState.initial({type:"focused",clockwise:!0},!0);return(i,r,a)=>f(i,[r],0,a,E.getApplicableCardMeta(r,t,n),e,s.some(t))},createRendered:function(e){const t=b.o.VisualState.initial({type:"rendered",clockwise:!0},!1);return(i,r)=>f(i,[r],0,0,E.getApplicableCardMeta(r,t,n),e,s.some(t))},createAdded:function(e){const t=b.o.VisualState.initial({type:"added",clockwise:!0},!0);return(i,r)=>f(i,[r],0,0,E.getApplicableCardMeta(r,t,n),e,s.some(t))}},a),{select:(e,t,n,i)=>u(t,n,i)(e),selectFirstAlert:(e,t,n)=>C(t,n)(e),selectNextAlert:(e,t)=>E.getSelectNextAlert(a,u)(t)(e),unselect:(e,t,n)=>d(t,n)(e),remove:(e,t,n)=>h(t,n)(e),updateWith(e,t){(0,l.kG)(1===t.length,"AlertCard can only handle update with a single alert");const i=t[0];(0,l.kG)(void 0!==e.alerts.find((e=>e.id===i.id)),"can not receive updates for unknown alert",(()=>i.toString()));const r=function(e,t){const i=E.getApplicableCardMeta(t,e.visualState,n);return new y.X(e.id,e.alerts.map((e=>e.id===t.id?g.$.fromModel(t):e)),e.activeAlertIndex,E.getAHI(e,i),e.positionState,e.visualState,i,e.lensId,e.renderOptions,e.muteCategory,e.order,e.initialAlertId,e.removedAlertsIds,e.cachedTransform,e.userInput,e.synfonySelection,e.prevCardDSL,e.transitions)}(e,i);switch(i.state.type){case m.bZ.State.Type.REGISTERED:{const e="focused"===r.visualState.transition.type||"expanded"===r.visualState.transition.type?o(r):r;return"success"===r.visualState.transition.type||"presuccess"===r.visualState.transition.type?p({type:"focused",clockwise:r.visualState.transition.clockwise})(e):e}case m.bZ.State.Type.REMOVED:return"focused"!==r.visualState.transition.type&&"expanded"!==r.visualState.transition.type||!r.alerts.every((e=>m.bZ.isCapiDone(e)&&e.allowUpdate&&m.bZ.isRated(r.activeAlert)))?h(t,!0)(r):p({type:"presuccess",clockwise:r.visualState.transition.clockwise})(r);case m.bZ.State.Type.APPLIED:case m.bZ.State.Type.BEING_APPLIED:return h(t,!0)(r);default:return(0,l.vE)(i.state)}},changePosition:(e,t)=>y.X.changePosition(t)(e),changeVisualState:(e,t)=>c(t)(e),transitionTo:(e,t)=>p(t)(e),completeTransition:(e,t)=>c(b.o.VisualState.complete(e.visualState,t))(e),hideMuteQuotedAdvice:e=>new y.X(e.id,e.alerts,e.activeAlertIndex,e.activeHighlightIndex,e.positionState,e.visualState,new v.n.Impl(e.meta.percentile,e.meta.explanation,e.meta.checking,e.meta.ranges,!1),e.lensId,e.renderOptions,e.muteCategory,e.order,e.initialAlertId,e.removedAlertsIds,e.cachedTransform,e.userInput,e.synfonySelection,e.prevCardDSL,e.transitions),updateUserInput:(e,t)=>y.X.updateUserInput(t)(e),updateSynfonySelection:(e,t)=>y.X.changeSynfonySelection(t)(e),updateSmartPhrasesAlert:(e,t)=>new y.X(e.id,e.alerts.map(((n,i)=>i===e.activeAlertIndex&&g.$.isSmartPhrases(n)?g.$.updateSmartPhrasesAlert(n,t):n)),e.activeAlertIndex,e.activeHighlightIndex,e.positionState,e.visualState,e.meta,e.lensId,e.renderOptions,e.muteCategory,e.order,e.initialAlertId,e.removedAlertsIds,e.cachedTransform,e.userInput,e.synfonySelection,e.prevCardDSL,e.transitions)})}function S(e){return m.bZ.isOneGap(e)&&""!==e.gapValue?s.some(e.gapValue):s.none}!function(e){let t;e.toCardRenderOptions=function(e,n,i){const r=new Set;return(h.R.isMainLens(n)||e.features.has(t.showCardLabelInOutcomes)&&n!==h.R.SpecialId.Plagiarism)&&r.add(w.j.Features.showLabel),e.features.has(t.enableMuteQuotedAdvice)&&r.add(w.j.Features.enableMuteQuotedAdvice),e.features.has(t.showAnonymousUserFooters)&&r.add(w.j.Features.showAnonymousUserFooters),e.features.has(t.showPremiumTrialFooters)&&r.add(w.j.Features.showPremiumTrialFooters),e.features.has(t.showPremiumTrialFooters)&&r.add(w.j.Features.showPremiumTrialFooters),e.features.has(t.showNewPremiumCardLabels)&&r.add(w.j.Features.showNewPremiumCardLabels),e.features.has(t.showPersistentPremiumCardLabels)&&r.add(w.j.Features.showPersistentPremiumCardLabels),e.features.has(t.showPremiumOnboarding)&&r.add(w.j.Features.showPremiumOnboarding),{features:r,layoutDensity:e.cardLayoutDensityMode,isNew:i,isPremiumOnboarding:e.isPremiumOnboarding}},function(e){e.showCardLabelInOutcomes="showCardLabelInOutcomes",e.enableMuteQuotedAdvice="enableMuteQuotedAdvice",e.showAnonymousUserFooters="showAnonymousUserFooters",e.showPremiumTrialFooters="showPremiumTrialFooters",e.showNewPremiumCardLabels="showNewPremiumCardLabels",e.showPersistentPremiumCardLabels="showPersistentPremiumCardLabels",e.showPremiumOnboarding="showPremiumOnboarding"}(t=e.Features||(e.Features={})),e.Default={features:new Set([t.showCardLabelInOutcomes]),cardLayoutDensityMode:w.j.Density.cozy,shouldAnimateAlertApply:m.bZ.isAccepted}}(i||(i={}));const k=(e,t)=>new y.X(e,t.alerts,t.activeAlertIndex,t.activeHighlightIndex,t.positionState,t.visualState,t.meta,t.lensId,t.renderOptions,t.muteCategory,t.order,t.initialAlertId,t.removedAlertsIds,t.cachedTransform,t.userInput,t.synfonySelection,s.none,[]);var E;!function(e){function t(e,t,n){let r;r=m.bZ.getCheckingState(e)===m.bZ.CheckingState.CHECKING?"focused"===t.transition.type||"expanded"===t.transition.type?v.n.CheckingState.Checking:v.n.CheckingState.Full:v.n.CheckingState.Idle;const a=n.features.has(i.Features.enableMuteQuotedAdvice)&&e.extraProperties.isInQuotes;return new v.n.Impl(f.g.fromRatio(e.progress),e.explanation,r,e.getHighlightRanges(),a)}e.getApplicableCardMeta=t,e.getRemove=(e,t)=>(n,i=!0)=>r=>{const o=new Set(n.map((e=>e.id))),s=new Set(r.removedAlertsIds);o.has(r.activeAlert.id)&&s.add(r.activeAlert.id);const{remainingAlerts:l,activeAlertIndex:c}=r.alerts.reduce(((e,t,n)=>!o.has(t.id)||b.o.isFocused(r)&&t.id===r.activeAlert.id?{remainingAlerts:e.remainingAlerts.concat([t]),activeAlertIndex:e.activeAlertIndex}:{remainingAlerts:e.remainingAlerts,activeAlertIndex:e.activeAlertIndex+(n<r.activeAlertIndex||n===r.activeAlertIndex&&n===r.alerts.length-1&&n>0?-1:0)}),{remainingAlerts:[],activeAlertIndex:r.activeAlertIndex}),u=(0,a.pipe)(r,C.C.willBeDisposed(r,o)?e(r.alerts,o,r.activeAlertIndex,r.activeHighlightIndex):e(l,s,c,0));return C.C.willBeDisposed(u,u.removedAlertsIds)?t({type:"removed",clockwise:i})(u):u},e.getTransitionTo=(e,t)=>n=>i=>{const r=b.o.VisualState.to(i.visualState,n);return(0,a.pipe)(i,e(r),(e=>n.type===i.visualState.transition.type||"expanded"!==n.type&&"focused"!==n.type?e:t(x.s.PositionState.invalidateHeight(i.positionState))(e)))};const n=e=>t=>{const n=t.alerts;return s.fromNullable(n.slice(t.activeAlertIndex+1).find(e))};e.getPrevAlert=e=>t=>{const n=t.alerts;return s.fromNullable(n.slice(0,t.activeAlertIndex).reverse().find(e))},e.getAnyRegisteredAlert=e=>t=>{const n=t.alerts;return(0,a.pipe)(n.filter((t=>e.isRegistered(t.id))),(e=>e[e.length-1]),s.fromNullable)},e.getCardSelections=t=>{const i=(e=>t=>e.isRegistered(t.id))(t);return{nextAlert:n(i),prevAlert:e.getPrevAlert(i),anyRegisteredAlert:e.getAnyRegisteredAlert(t)}},e.getSelectByAlert=(n,i,r,o,u,d,p,h)=>({alert:f,highlightIndex:g},y,b)=>x=>{(0,l.kG)(!x.removedAlertsIds.has(f.id),"Cannot select removed alert");const w=p.getById(f.id);(0,l.kG)(s.isSome(w),"Cannot select not registered alert");const I=c.unsafeGet(w),k=x.alerts.filter((e=>!x.removedAlertsIds.has(e.id))),E=S(I),A=C.C.getIndexByAlert(f.id,k),T=e.getSelectItem(r,o)(y,b);return(0,a.pipe)(x,T,n(k,x.removedAlertsIds,A,g),i(E),(e=>{return u((n=e.visualState,m.bZ.isApplicableAlert(I)?t(I,n,h):v.n.empty(void 0)))(e);var n}),d)},e.getSelectItem=(e,t)=>(n,i)=>o=>{const l=(0,a.pipe)(n,s.map((e=>i.compare(o,e)>0)),s.getOrElse(r.constTrue)),c=(0,a.pipe)(n,s.exists((e=>e.id===o.id))),u=c?o.positionState:x.s.PositionState.invalidateHeight(o.positionState),d=c&&y.X.isCardOpen(o.visualState)?"expanded":"focused",p=(0,a.pipe)(n,s.fold((()=>b.o.VisualState.initial({type:d,clockwise:l})),(e=>b.o.VisualState.to(o.visualState,{type:d,clockwise:l}))));return(0,a.pipe)(o,t(u),e(p))},e.getSelectNextAlert=(e,t)=>n=>i=>C.C.activeAlertRemoved(i)&&!C.C.willBeDisposed(i,i.removedAlertsIds)?(0,a.pipe)(e.nextAlert(i),c.orElse(e.prevAlert(i)),s.map((e=>t({alert:e,highlightIndex:0},s.none,n)(i))),s.getOrElse((()=>i))):i,e.getSelectFirstAlert=e=>(t,n)=>i=>{const r=i.alerts.filter((e=>!i.removedAlertsIds.has(e.id)));(0,l.kG)(r.length>0,"Selectable card must have at least one not removed alert");const a=r[0];return e({alert:a,highlightIndex:0},t,n)(i)},e.getUnselectItem=(e,t)=>(n,i)=>o=>{const l=(0,a.pipe)(n,s.map((e=>i.compare(o,e)>0)),s.getOrElse(r.constTrue)),c=(0,a.pipe)(n,s.exists((e=>e.id===o.id)))?o.positionState:x.s.PositionState.invalidateHeight(o.positionState);return(0,a.pipe)(o,t(c),C.C.willBeDisposed(o,o.removedAlertsIds)||b.o.isHidden(o)?r.identity:e(b.o.VisualState.to(o.visualState,{type:"rendered",clockwise:l})))},e.getCardHydrator=(e,t,n,i)=>r=>{const o=r.activeAlert.type===g.$.Type.super||r.activeAlert.type===g.$.Type.plagiarism||r.activeAlert.type===g.$.Type.premium||r.activeAlert.type===g.$.Type.takeaway||r.activeAlert.type===g.$.Type.sentenceLevelBrandTones||m.eT.isSimple(r.activeAlert.extraProperties.cardType)?s.none:function(e,t,n){const r=p.Monitoring.Logging.getLogger("CardFactory");return(0,a.pipe)(t,s.filter((t=>!n||(0,a.pipe)(e,s.exists((e=>t.id===e.id&&t.rev===e.revision))))),s.alt((()=>(0,a.pipe)(e,s.chain((e=>(0,a.pipe)(i(e),u.fold((n=>(r.error("Could not hydrate transform",n,{alertId:e.id}),t)),(t=>s.some({id:e.id,rev:e.revision,labels:t}))))))))))}(r.activeAlert.getTransform(),e(r),t(r));return n(o)(r)},e.getChangeVisualState=(e,t)=>n=>i=>{const r=e(n)(i);return"focused"===n.transition.type||"expanded"===n.transition.type?t(r):r},e.getCreate=(e,t,n,r,o)=>(c,u,d,p,h,f,y,w=m.h$.ord)=>{const I=C.C.getAlertByIndex(d,u),k=S(I),E=[...u].sort(w.compare),A=E.map(g.$.fromModel),T=A[0];(0,l.kG)(!!T,"The card must contain at least 1 alert");const N=(0,a.pipe)(t,s.chain((e=>e.getAlertMuteCategory(u[0].id)))),O=e(c,{alerts:A,alertModels:E,activeAlertIndex:C.C.getIndexByAlert(I.id,A),activeHighlightIndex:p,positionState:x.s.PositionState.empty,visualState:b.o.VisualState.initial({type:"rendered",clockwise:!0}),meta:new v.n.Impl(h.percentile,h.explanation,h.checking,h.ranges,o.features.has(i.Features.enableMuteQuotedAdvice)&&g.$.isInQuotes(T)),lensId:s.some(f),renderOptions:i.toCardRenderOptions(o,f,r(T)),muteCategory:N,order:T.getHighlightRanges()[0].end,initialAlertId:T.id,removedAlertsIds:new Set,cachedTransform:s.none,userInput:k,synfonySelection:s.none});return(0,a.pipe)(y,s.fold((()=>O),(e=>n(e)(O))))},e.getAHI=function(e,t){if((0,l.kG)(t.ranges.length>0,`Incorrect card meta: rangeIds empty. Card ID ${e.id}, activeAlert: ${e.activeAlert.toString()}`),0===e.activeHighlightIndex||e.meta.ranges.length===t.ranges.length)return e.activeHighlightIndex;{const n=e.meta.ranges[e.activeHighlightIndex];return(0,l.kG)(void 0!==n,"AHI not found in rangeIds"),(0,a.pipe)(s.some(t.ranges.findIndex((e=>e.meta.id===n.meta.id))),s.filter((e=>-1!==e)),s.alt((()=>d.findNotLower(t.ranges,n,o.SV.ordEnd))),s.getOrElse((()=>t.ranges.length-1)))}},e.snapshot=e=>({cardId:e.id,vs:{incomplete:e.visualState.incomplete,tr:e.visualState.transition},as:(0,a.pipe)(e.alerts&&e.alerts.map((e=>e.id))),aai:e.activeAlertIndex,ahi:e.activeHighlightIndex})}(E||(E={}))},34383:(e,t,n)=>{n.d(t,{D:()=>i,T:()=>r});var i,r,a=n(17889),o=n(40327),s=n(43675),l=n(45701),c=n(73975),u=n(5114),d=n(40018),p=n(86718);!function(e){e.empty=()=>new Map,e.diff=function(e,t){return s.symmetricDiff(r.eq)(e,t)}}(i||(i={})),function(e){let t,n,i;e.ordAlert=l.fromCompare(((e,t)=>d.bZ.isTakeaway(e)&&d.bZ.isTakeaway(t)?d.h$.ord.compare(e,t):d.bZ.isTakeaway(e)?-1:d.bZ.isTakeaway(t)?1:d.h$.ord.compare(e,t))),function(e){e.create=function(e){return e}}(t=e.Id||(e.Id={})),function(e){e.eq=c.getStructEq({title:c.eqString,miniTitle:u.getEq(c.eqString),miniLabel:u.getEq(c.eqString),alertIds:a.Eh(c.eqString)})}(n=e.AlertsView||(e.AlertsView={})),function(e){e.eq=c.getStructEq({title:c.eqString,miniTitle:u.getEq(c.eqString),miniLabel:u.getEq(c.eqString),checked:c.eqBoolean,card:p.f.eq})}(i=e.EmptyView||(e.EmptyView={})),e.eq=c.getStructEq({id:c.eqString,rank:c.eqNumber,suggestionsView:u.getEq(n.eq),successView:u.getEq(n.eq),emptyView:i.eq}),e.hasAlerts=function(e){return u.isSome(e.suggestionsView)||u.isSome(e.successView)},e.removeAlerts=function(e,t){return Object.assign(Object.assign({},e),{suggestionsView:(0,o.pipe)(e.suggestionsView,u.chain((e=>(0,o.pipe)(a.nI(e.alertIds.filter((e=>!t.has(e)))),u.map((t=>Object.assign(Object.assign({},e),{alertIds:t}))))))),successView:(0,o.pipe)(e.successView,u.chain((e=>(0,o.pipe)(a.nI(e.alertIds.filter((e=>!t.has(e)))),u.map((t=>Object.assign(Object.assign({},e),{alertIds:t})))))))})}}(r||(r={}))},86775:(e,t,n)=>{n.d(t,{G:()=>i});var i,r=n(17889),a=n(57050),o=n(40327),s=n(5114),l=n(71249),c=n(83078),u=n(95195),d=n(92843),p=n(40018),m=n(75316),h=n(16892),f=n(48521),g=n(15215),y=n(70100),v=n(35416),b=n(25975),C=n(95983),x=n(93508),w=n(16118),I=n(77176),S=n(85985),k=n(34383);!function(e){function t(e,t){return`${e}_${t}`}function n(e,t,n){return g.d.isChecklistItemEmpty(t)?y.X.changePositionState(n)(t):e.changePositionState(n)(t)}function i(e,n,i,r){const a=t(n,i.id),o={rank:i.rank,checked:i.emptyView.checked,title:i.emptyView.title,miniTitle:i.emptyView.miniTitle,miniLabel:i.emptyView.miniLabel,miniChecked:s.none};return r?e.createFocusedDefault(n,a,o,i.emptyView.card):e.createRenderedDefault(n,a,o,i.emptyView.card)}function E(e,n,i,a,u,d){return(0,o.pipe)(a.suggestionsView,s.chain((c=>(0,o.pipe)(c.alertIds.map(n),l.compact,r.nI,s.map((n=>function(e,n,i,r,a,l,c){const u=t(n,i),d={id:u,title:r.title};return(0,o.pipe)(l,s.map((e=>a.findIndex((t=>t.id===e)))),s.filter((e=>e>-1)),s.fold((()=>c?e.createFocusedBundle(n,u,r,d,a,s.none):e.createRenderedBundle(n,u,r,d,a)),(t=>e.createFocusedBundle(n,u,r,d,a,s.some(t)))))}(e,i,a.id,{rank:a.rank,checked:!1,miniChecked:s.none,title:c.title,miniTitle:c.miniTitle,miniLabel:c.miniLabel},n,u,d)))))),s.alt((()=>(0,o.pipe)(a.successView,s.chain((r=>{const p=(0,o.pipe)(u,s.filter((e=>r.alertIds.includes(e))),s.chain(n));return(0,o.pipe)(p,c.orElse((0,o.pipe)(r.alertIds.map(n),l.compact,l.head)),s.map((n=>function(e,n,i,r,a,l){const c=t(n,i);return(0,o.pipe)(l,s.filter((e=>e===a.id)),s.fold((()=>e.createRenderedSingle(n,c,r,a)),(t=>e.createFocusedSingle(n,c,r,a))))}(e,i,a.id,{rank:a.rank,checked:!0,miniChecked:s.none,title:r.title,miniTitle:r.miniTitle,miniLabel:r.miniLabel},n,d?s.some(n.id):u))))}))))))}function A(e,t,n){return e.updateMeta(Object.assign(Object.assign({},t.itemMeta),{miniChecked:s.some(n.emptyView.checked),miniTitle:(0,o.pipe)(n.emptyView.miniTitle,c.orElse(s.some(n.emptyView.title))),miniLabel:n.emptyView.miniLabel}))(t)}function T(e,t,n,i,r,l,c){if(r.every((e=>!m.C.hasAlert(e.id)(n)))||m.C.willBeDisposed(n,n.removedAlertsIds))return n;const u=k.T.removeAlerts(i,new Set(r.map((e=>e.id)).concat(Array.from(n.removedAlertsIds)))),d=m.C.willBeDisposed(n,new Set(r.map((e=>e.id)))),h=d&&!k.T.hasAlerts(u),f=(0,o.pipe)(l,s.exists((e=>e.id===n.id)));if(!d||h){const t=(0,o.pipe)(h?A(e,n,i):n,e.removeAlerts(r,(0,o.pipe)(l,s.map((e=>c.itemsOrd.compare(n,e)>0)),s.getOrElse(a.constTrue))));return!!r.find((e=>e.id===n.activeAlert.id))?e.selectNextAlert(c.itemsOrd)(t):t}return(0,o.pipe)(E(e,(0,a.flow)(t.getRegistered,s.filter(p.bZ.isApplicableAlert)),c.id,i,(0,o.pipe)(l,s.filter((e=>e.id===n.id)),s.map((e=>e.activeAlert.id))),f),s.map((t=>f?t:e.changePositionState(n.positionState)(t))),s.getOrElse((()=>n)))}e.create=function(e,t,n,r,l,c){const u=C.aW.create(Array.from(t.values()).map((t=>(0,o.pipe)(E(e,(0,a.flow)(n.getRegistered,s.filter(p.bZ.isApplicableAlert)),r,t,s.none,!1),s.getOrElse((()=>i(e,r,t,!1)))))),(e=>e.id),g.d.ord.compare);return{id:r,type:v.Nm.lensview,kind:v._L.persistent,meta:l,withPriorityList:!1,cardIndex:s.none,items:u,itemsOrd:g.d.ord,animation:v.wj.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return b.v.lensHash.hashCode(this)},equals(e){return b.v.getEq(c).equals(this,e)}}};const N=(e,n,i)=>r=>a=>{if(0===r.length)return a;const s=v.In.getActiveItem(a),l=n.reduce(((n,l)=>(0,o.pipe)(n.update(t(a.id,l.id),(t=>g.d.isChecklistItemWithAlerts(t)?T(e,i,t,l,r,s,a):t)),u.getOrElse((()=>n)))),a.items);return Object.assign(Object.assign({},a),{items:l,animation:v.wj.force})};function O(e,t,r,l,c,u,d){if(g.d.isChecklistItemWithAlerts(r)&&m.C.willBeDisposed(r,r.removedAlertsIds))return r;const p=(0,o.pipe)(c,s.exists((e=>e.id===r.id)));return(0,o.pipe)(E(e,d,t.id,l,u,p),s.alt((()=>p&&g.d.isChecklistItemWithAlerts(r)?s.none:s.some(i(e,t.id,l,p)))),s.map((t=>n(e,t,p?h.s.PositionState.invalidateHeight(r.positionState):r.positionState))),s.map((t=>{return function(e,t,n){return g.d.isChecklistItemEmpty(t)?y.X.changeVisualState(n)(t):e.changeVisualState(n)(t)}(e,t,(n=r,i=t,g.d.isChecklistItemEmpty(n)&&g.d.isChecklistItemEmpty(i)||g.d.isChecklistItemWithAlerts(n)&&g.d.isChecklistItemWithAlerts(i)&&n.viewKind===i.viewKind||!p?r.visualState:f.o.VisualState.initial({type:"focused",clockwise:!0},!0)));var n,i})),s.getOrElse((()=>g.d.isChecklistItemWithAlerts(r)?e.removeAlerts(r.alerts,(0,o.pipe)(c,s.map((e=>t.itemsOrd.compare(r,e)>0)),s.getOrElse(a.constTrue)))(A(e,r,l)):r)))}e.getAlertsHandler=function(e,n,i,r){return(s,c)=>d=>{const h=b.v.ApplyDiff.applyWithFilter(c,b.v.ApplyDiff.apply);return(0,o.pipe)(d,h(s,(()=>a.identity),((e,n,i,r)=>a=>s=>{if(0===a.length)return s;const{left:c,right:d}=(0,o.pipe)(a,b.v.filterAlertInLens(s,r),l.partition(p.bZ.isRegistered)),h=N(e,n,i)(c)(s),f=n.reduce(((n,i)=>(0,o.pipe)(n.update(t(s.id,i.id),(t=>g.d.isChecklistItemWithAlerts(t)?e.updateWith(d.filter((e=>m.C.hasAlert(e.id)(t))))(t):t)),u.getOrElse((()=>n)))),h.items);return Object.assign(Object.assign({},h),{items:f,animation:v.wj.force})})(e,Array.from(n.get().values()),i,r),N(e,Array.from(n.get().values()),i)))}},e.getChecklistHandlerSideEffect=(e,n,r,l,c)=>{const m=n.pipe(x.O(k.D.empty()),w.G(),I.U((([e,t])=>({entries:t,latestChangeDiff:k.D.diff(e,t)}))),S.h((e=>!d.v.isEmpty(e.latestChangeDiff))),I.U((n=>c=>{const m=c.currentLens,h=v.In.getActiveItem(m),f=(0,o.pipe)(l(m),s.map((e=>e.activeAlert.id))),y=(0,a.flow)(r.getRegistered,s.filter(p.bZ.isApplicableAlert)),b=(0,o.pipe)(n.latestChangeDiff,d.v.reduce(m.items,((e,n,i)=>e.has(t(m.id,i))?e.remove(t(m.id,i)):e),((n,i,r)=>(0,o.pipe)(n.update(t(m.id,r.id),(t=>g.d.isChecklistItem(t)?O(e,m,t,r,h,f,y):t)),u.getOrElse((()=>n)))),((t,n)=>(0,o.pipe)(E(e,y,m.id,n,f,!1),s.getOrElse((()=>i(e,m.id,n,!1))),(e=>t.add(e))))));return v.nL.Prism.getLens().modify((e=>Object.assign(Object.assign({},e),{items:b,cardIndex:(0,o.pipe)(h,s.chain((e=>b.get(e.id))),s.map((e=>e.index))),animation:v.wj.force})),c)})));return{id:"checklistHandlerSideEffect",when:c,what:v.nL.Effect.Applicator.create(m)}},e.getHasAlertsQuery=function(e,t,n){return b.v.WithBundles.getHasAlerts(e,t,n)},e.getItemReleaser=(e,r,l,c)=>({removeItemById:u=>d=>{const m=(0,o.pipe)(d.items.get(u),s.map((e=>e.value)),s.chain(s.fromPredicate(g.d.isChecklistItemWithAlerts)));if(s.isNone(m))return c?c.removeItemById(u)(d):d;const y=v.In.getActiveItem(d),b=(0,o.pipe)(y,s.exists((e=>e.id===u))),C=(0,a.flow)(l.getRegistered,s.filter(p.bZ.isApplicableAlert)),x=(0,o.pipe)(m,s.fold((()=>d.items),(l=>(0,o.pipe)(d.items.remove(u),(c=>(0,o.pipe)(s.fromNullable(Array.from(r.get().values()).find((e=>t(d.id,e.id)===l.id))),s.map((t=>c.add((0,a.unsafeCoerce)((0,o.pipe)(E(e,C,d.id,t,s.none,b),s.map((t=>b?e.changeVisualState(f.o.VisualState.initial({type:"focused",clockwise:!0},!0))(t):t)),s.getOrElse((()=>i(e,d.id,t,!1))),(t=>n(e,t,b?h.s.PositionState.invalidateHeight(l.positionState):l.positionState))))))),s.getOrElse((()=>c)))))))),w=(0,o.pipe)(y,s.exists((e=>e.id===u&&(0,o.pipe)(x.get(u),s.fold(a.constTrue,(({value:e})=>g.d.isChecklistItemEmpty(e)))))));return Object.assign(Object.assign({},d),{cardIndex:w?s.none:d.cardIndex,animation:b?v.wj.force:v.wj.proceed,items:x})}}),e.getRemoveAlert=(e,n,i)=>({removeAlertFromItem:(r,a)=>l=>{const c=new Set(r.map((e=>e.id)));return(0,o.pipe)(s.fromPredicate(g.d.isChecklistItemWithAlerts)(l),s.filter(m.C.hasAnyOfAlerts(c)),s.chain((e=>s.fromNullable(Array.from(n.get().values()).find((n=>t(a.id,n.id)===e.id))))),s.map((t=>T(e,i,l,t,r,v.In.getActiveItem(a),a))),s.getOrElse((()=>l)))}})}(i||(i={}))},48521:(e,t,n)=>{n.d(t,{o:()=>i});var i,r=n(40966);!function(e){function t(e){return"visualState"in e}let n;e.Transition=r.u,e.VisualState=r.t,e.eq={equals:(n,i)=>!t(n)||t(i)&&e.VisualState.eq.equals(n.visualState,i.visualState)},e.isAnimatable=t,e.isFocused=e=>{switch(e.visualState.transition.type){case"expanded":case"focused":case"presuccess":case"success":case"feedback_form":return!0;default:return!1}},e.isHidden=e=>"hidden"===e.visualState.transition.type,function(e){e.getPojoUpdates=()=>({setPosition:e=>t=>Object.assign(Object.assign({},t),{positionState:e}),setVisualState:e=>t=>Object.assign(Object.assign({},t),{visualState:e})})}(n=e.Capabilities||(e.Capabilities={}))}(i||(i={}))},86718:(e,t,n)=>{n.d(t,{t:()=>i,f:()=>r});var i,r,a=n(22690),o=n(73975),s=n(5114),l=n(45701),c=n(22232),u=n(36156);!function(e){e.eq=o.getStructEq({rank:o.eqNumber,checked:o.eqBoolean,title:o.eqString,miniTitle:s.getEq(o.eqString),miniChecked:s.getEq(o.eqBoolean),miniLabel:s.getEq(o.eqString)}),e.hash=e=>(0,u.NO)({rank:e.rank,title:e.title,miniTitle:m.show(e.miniTitle),miniChecked:f.show(e.miniChecked),miniLabel:p.show(e.miniLabel),checked:e.checked}),e.ord=l.contramap((e=>e.rank))(l.ordNumber)}(i||(i={})),function(e){let t;!function(e){e.simple="simple",e.textLength="textLength"}(t=e.Kind||(e.Kind={})),e.eqSimple=o.getStructEq({explanation:o.eqString,details:s.getEq(o.eqString)}),e.eqTextLength=o.getStructEq({explanation:o.eqString,details:s.getEq(o.eqString),wordCount:o.eqNumber}),e.hashSimple=e=>(0,u.NO)({kind:e.kind,explanation:e.explanation,details:h.show(e.details)}),e.hashTextLength=e=>(0,u.NO)({kind:e.kind,explanation:e.explanation,details:h.show(e.details),wordCount:e.wordCount}),e.isTextLengthCard=function(t){return t.kind===e.Kind.textLength},e.eq=o.fromEquals(((t,n)=>{switch(t.kind){case e.Kind.simple:return n.kind===e.Kind.simple&&e.eqSimple.equals(t,n);case e.Kind.textLength:return n.kind===e.Kind.textLength&&e.eqTextLength.equals(t,n);default:(0,c.vE)(t)}})),e.hash=t=>{switch(t.kind){case e.Kind.simple:return e.hashSimple(t);case e.Kind.textLength:return e.hashTextLength(t);default:(0,c.vE)(t)}}}(r||(r={}));const d=s.getShow(a._3),p=d,m=d,h=d,f=s.getShow(a.R)},70100:(e,t,n)=>{n.d(t,{X:()=>i});var i,r=n(40327),a=n(73975),o=n(5114),s=n(83078),l=n(69345),c=n(40966),u=n(36156),d=n(48521),p=n(86718);!function(e){function t(t,n,i,r,a,o){return{kind:e.kind,id:t,itemMeta:n,cardMeta:i,positionState:r,visualState:a,renderOptions:o,equals(t){return e.eq.equals(this,t)},hashCode(){return e.hash(this)}}}e.kind="ChecklistItemEmpty",e.eq=a.fromEquals(((e,t)=>e.id===t.id&&p.f.eq.equals(e.cardMeta,t.cardMeta)&&p.t.eq.equals(e.itemMeta,t.itemMeta)&&l.Z.eq.equals(e.positionState,t.positionState)&&c.t.eq.equals(e.visualState,t.visualState))),e.hash=e=>(0,u.NO)({id:e.id,checklistItemMeta:p.t.hash(e.itemMeta),card:p.f.hash(e.cardMeta)}),e.create=t,e.updateMeta=e=>n=>t(n.id,e,n.cardMeta,n.positionState,n.visualState,n.renderOptions),e.updateCardMeta=e=>n=>t(n.id,n.itemMeta,e,n.positionState,n.visualState,n.renderOptions),e.changeVisualState=e=>n=>t(n.id,n.itemMeta,n.cardMeta,n.positionState,e,n.renderOptions),e.changePositionState=e=>n=>t(n.id,n.itemMeta,n.cardMeta,e,n.visualState,n.renderOptions),e.completeTransition=e=>n=>t(n.id,n.itemMeta,n.cardMeta,n.positionState,c.t.complete(n.visualState,e),n.renderOptions),e.transitionTo=e=>n=>t(n.id,n.itemMeta,n.cardMeta,n.positionState,c.t.to(n.visualState,e),n.renderOptions),e.select=e=>n=>(0,r.pipe)(e,o.filter((e=>e.id===n.id)),s.orElse((0,r.pipe)(n,o.fromPredicate((e=>"focused"===e.visualState.transition.type)))),o.fold((()=>{const i=l.Z.invalidateHeight(n.positionState),a={type:"focused",clockwise:!0},s=(0,r.pipe)(e,o.fold((()=>c.t.initial(a)),(()=>c.t.to(n.visualState,a))));return t(n.id,n.itemMeta,n.cardMeta,i,s,n.renderOptions)}),(()=>n))),e.unselect=e=>n=>(0,r.pipe)(e,o.filter((e=>e.id===n.id)),s.orElse((0,r.pipe)(n,o.fromPredicate((e=>"rendered"===e.visualState.transition.type)))),o.fold((()=>{const e=l.Z.invalidateHeight(n.positionState),i=d.o.isHidden(n)?n.visualState:c.t.to(n.visualState,{type:"rendered",clockwise:!0});return t(n.id,n.itemMeta,n.cardMeta,e,i,n.renderOptions)}),(()=>n)))}(i||(i={}))},47306:(e,t,n)=>{n.d(t,{J:()=>i});var i,r=n(40327),a=n(73975),o=n(22232),s=n(5114),l=n(84313),c=n(36156),u=n(86718);!function(e){e.kind="ChecklistItemWithAlerts",e.eq=a.fromEquals(((e,t)=>l.X.eq.equals(e,t)&&u.t.eq.equals(e.itemMeta,t.itemMeta)&&e.viewKind===t.viewKind)),e.isBundle=function(e){return"bundle"===e.viewKind},e.isSingle=function(e){return"single"===e.viewKind},e.create=function(t,n,i,a,d,p,m,h,f,g,y,v,b,C,x,w,I,S){const k=a[d];return(0,o.kG)(!!k,"Active alert index should point to an alert"),{kind:e.kind,id:t,viewKind:n,itemMeta:i,alerts:a,activeAlertIndex:d,activeHighlightIndex:p,positionState:m,visualState:h,meta:f,lensId:g,renderOptions:y,muteCategory:v,order:b,initialAlertId:C,removedAlertsIds:x,cachedTransform:w,userInput:I,synfonySelection:S,activeAlert:k,transform:(0,r.pipe)(w,s.map((e=>e.labels))),activeAlertRemoved:x.has(k.id),cardDSL:s.none,prevCardDSL:s.none,transitions:[],hashCode(){return(0,c.NO)({alertCard:l.X.hashCode(this),itemMeta:u.t.hash(i),viewKind:n})},equals(t){return e.eq.equals(this,t)}}}}(i||(i={}))},15215:(e,t,n)=>{n.d(t,{d:()=>i});var i,r=n(40327),a=n(45701),o=n(73975),s=n(5114),l=n(86718),c=n(70100),u=n(47306);!function(e){function t(e){return e.kind===c.X.kind}function n(e){return e.kind===u.J.kind}e.ord=a.contramap((e=>e.itemMeta))(l.t.ord),e.eq=o.fromEquals(((e,i)=>t(e)&&t(i)?c.X.eq.equals(e,i):!(!n(e)||!n(i))&&u.J.eq.equals(e,i))),e.isChecklistItemEmpty=t,e.isChecklistItemWithAlerts=n,e.isChecklistItem=function(e){return t(e)||n(e)},e.getAlertsCount=function(e){return(0,r.pipe)(e,s.fromPredicate(n),s.map((e=>e.alerts.length)))}}(i||(i={}))},16892:(e,t,n)=>{n.d(t,{s:()=>i});var i,r=n(73975),a=n(69345);!function(e){let t;e.PositionState=a.Z,e.eqById=r.fromEquals(((e,t)=>e.id===t.id)),e.getEqById=()=>r.fromEquals(((e,t)=>e.id===t.id)),e.positionStateEq={equals:(t,n)=>e.PositionState.eq.equals(t.positionState,n.positionState)},e.verticalPositionEq={equals:(t,n)=>e.PositionState.verticalEq.equals(t.positionState,n.positionState)},function(e){e.getPojoCloneable=()=>({clone:e=>Object.assign({},e)})}(t=e.Capabilities||(e.Capabilities={}))}(i||(i={}))},4557:(e,t,n)=>{n.d(t,{B:()=>i});var i,r=n(5114),a=n(95195);!function(e){e.NAME_LENGTH_LIMIT=30,e.CONTENT_LENGTH_LIMIT=1e3;e.validate=(t,n,i)=>{const o=((t,n)=>0===t.trim().length?r.some(n.nameEmpty):t.length>e.NAME_LENGTH_LIMIT?r.some(n.nameTooLong):r.none)(t,i),s=((t,n)=>0===t.trim().length?r.some(n.textEmpty):t.length>e.CONTENT_LENGTH_LIMIT?r.some(n.textTooLong):r.none)(n,i);return r.isNone(o)&&r.isNone(s)?a.right(void 0):a.left({nameError:o,contentError:s})}}(i||(i={}))},93265:(e,t,n)=>{n.d(t,{v:()=>i});var i,r=n(17771),a=n(57050),o=n(40327),s=n(20817),l=n(71249),c=n(5114),u=n(95195),d=n(83078),p=n(55415),m=n(92843),h=n(73975),f=n(22232),g=n(89943),y=n(40018),v=n(66896),b=n(4390),C=n(36156),x=n(5920),w=n(48521),I=n(16892),S=n(35416);!function(e){let t,n,i,k;e.filterAlertInLens=(e,t)=>l.filter((n=>y.bZ.isNotRemoved(n)||c.isSome(e.items.find((e=>t.hasAlert(n.id)(e)))))),e.createWithInitialAlerts=(e,t,n,i,r)=>(s,l,u,d)=>{const p=(0,o.pipe)(d,c.fold((()=>a.identity),(e=>r.selectItemByAlert(e,[])))),m=e.create(s,l),h=u.filter(n.alertVisibleInSidebar(s)),f=t(s);if(S.vj.hasItems(m)){const e=b.p.empty,t=b.p.from(h),n=b.p.diff(e,t);return(0,o.pipe)(m,f(n,i),r.changeItemsVisualState(w.o.VisualState.initial({type:"rendered",clockwise:!0},!1)),p,(e=>Object.assign(Object.assign({},e),{animation:S.wj.skip})))}return m},function(e){e.setVisibleItems=e=>t=>Object.assign(Object.assign({},t),{cardIndex:(0,o.pipe)(S.In.getActiveItem(t),c.chain((t=>(0,o.pipe)(e.get(t.id),c.map((e=>e.index)))))),items:e}),e.getActiveItemIndex=e=>(0,a.flow)(S.In.getActiveItem,c.chain((t=>e.get(t.id))),c.map((e=>e.index))),e.hideItem=function(e,t){return w.o.isAnimatable(e)&&"removed"!==e.visualState.transition.type&&"hidden"!==e.visualState.transition.type?t.transitionTo({type:"hidden",clockwise:!1})(e):e},e.calculateCardsHeight=e=>(0,o.pipe)(e.getAt(e.size-1),c.map((e=>e.positionState.absTop+e.positionState.height)),c.getOrElse((()=>0)));e.getItemsPositionsUpdateTransformer=t=>({state:n,metadata:i})=>{if(!S.nL.hasCards(n))return u.left({state:n,metadata:i});const r=S.nL.Prism.getLens();return u.left({state:r.modify(e.updateItemsPositions(t),n),metadata:i})},e.getSingleItemFeedPositionsUpdateTransformer=e=>({state:t,metadata:n})=>{if(!S.nL.hasCards(t))return u.left({state:t,metadata:n});const i=S.nL.Prism.getLens();return u.left({state:i.modify((t=>{const n=t.items.map(((n,i,r)=>{const a=d.contains(r)(t.cardIndex),o=e.isScheduledToDispose(n)||n.positionState.isHeightValid,s=a?{absTop:n.positionState.absTop,height:n.positionState.height,animationInProgress:t.animation(n,r),visible:!0,isHeightValid:o,watched:!0}:Object.assign(Object.assign({},n.positionState),{visible:!1,watched:!1,isHeightValid:!1});return I.s.PositionState.eq.equals(n.positionState,s)?n:e.changePosition(s)(n)}));return Object.assign(Object.assign({},t),{items:n})}),t),metadata:n})},e.getRemoveDisposedItemsTransformer=e=>({state:t,metadata:n})=>{if(!S.nL.hasCards(t))return u.left({state:t,metadata:n});const i=S.nL.Prism.getLens();return u.left({state:i.modify((t=>{const n=S.In.getActiveItem(t),i=t.items.filter((t=>!e.isScheduledToDispose(t)||(0,o.pipe)(n,c.exists((e=>e.id===t.id)))));return Object.assign(Object.assign({},t),{items:i})}),t),metadata:n})};const t=e=>t=>(0,o.pipe)(t.items.find((e=>t=>n=>n.positionState.watched&&!e.isHidden(n)&&(0,o.pipe)(t,d.forAll((e=>e.id!==n.id))))(e)(S.In.getActiveItem(t))),c.map((({value:t,index:n})=>({index:n,value:(0,o.pipe)(t,c.fromPredicate((t=>t.positionState.isHeightValid&&!e.isScheduledToDispose(t))))}))));e.updateItemsPositions=n=>i=>{const r=S.In.getActiveItem(i),a=t(n)(i),s=(0,o.pipe)(a,c.chain(p.pick("value")),c.map((e=>e.positionState.height)));let l=0;const u=(0,o.pipe)(r,d.forAll((e=>e.positionState.isHeightValid))),m=(0,o.pipe)(a,c.map(p.pick("index")),c.getOrElse((()=>{return e=i.cardIndex,(0,o.pipe)(e,c.map((e=>0===e?1:0)),c.getOrElse((()=>0)));var e}))),h=i.items.map(((e,t,r)=>{const a=d.contains(r)(i.cardIndex),p=a||r===m,h=n.isScheduledToDispose(e)||(a?e.positionState.isHeightValid:c.isSome(s)),f=n.isScheduledToDispose(e)?n.useReferenceHeightOnRemove(e)?(0,o.pipe)(s,c.getOrElse((()=>e.positionState.height))):0:a?e.positionState.height:(0,o.pipe)(s,c.getOrElse((()=>e.positionState.height))),g={absTop:a||u?l:e.positionState.absTop,height:f,animationInProgress:i.animation(e,r),visible:e.positionState.visible,isHeightValid:h,watched:p};return l+=f,I.s.PositionState.eq.equals(e.positionState,g)?e:n.changePosition(g)(e)})),f=e.calculateCardsHeight(h),g=(0,o.pipe)(r,d.forAll((e=>e.positionState.isHeightValid)))&&(0,o.pipe)(h.getAt(m),d.forAll((e=>e.positionState.isHeightValid)));return Object.assign(Object.assign({},i),{items:h,cardsHeight:f,isCardsHeightValid:g})}}(t=e.Items||(e.Items={})),function(e){e.apply=(e,t,n,i)=>r=>(0,o.pipe)(e,m.v.reduce(r,((e,{alert:t})=>i([t])(e)),((e,t,{alert:i})=>n([i])(e)),((e,{alert:n})=>t([n])(e)))),e.applyWithFilter=(e,t)=>(n,i,r,o)=>{const s=(0,a.flow)(l.partition(e),(e=>(0,a.flow)(o(e.left),r(e.right))));return t(n,(t=>i(t.filter(e))),s,o)}}(n=e.ApplyDiff||(e.ApplyDiff={})),function(e){e.items=s.Ri.create((e=>e.items),((e,n)=>t.setVisibleItems(e)(n))),e.getFeedItems=()=>s.Ri.create((e=>e.items),((e,n)=>t.setVisibleItems(e)(n)))}(i=e.Prism||(e.Prism={})),e.getEq=e=>h.fromEquals(((t,n)=>{if(t.kind===S._L.abstract||n.kind===S._L.abstract)return t.id===n.id;{const i=t,r=n;return t.id===n.id&&c.getEq(e).equals(S.In.getActiveItem(i),S.In.getActiveItem(r))&&i.meta.equals(n.meta)&&i.items.equals(r.items)}})),e.lensHash={hashCode:e=>{if(e.kind===S._L.abstract)return(0,C.AC)(e.id);{const n=e;let i=7;return i=31*i+(0,C.AC)(e.id),i=31*i+(t=S.In.getActiveItem(n),(0,o.pipe)(t,c.fold((()=>2433880),(e=>null==e?9735524:e.hashCode()<<2)))),31*i+e.meta.count}var t}},function(e){e.getAlertReleaser=e=>({release:t=>n=>{const i=n.items.map(e.removeAlertFromItem([t],n)),r=(0,o.pipe)(n.cardIndex,c.chain((t=>(0,o.pipe)(i.findRightFrom(e.isScheduledToDispose,t),c.map((e=>e.index))))),c.isSome)?S.wj.skip:S.wj.force;return Object.assign(Object.assign({},n),{animation:r,items:i})}}),e.getUnselectable=(e,t)=>({unselectItem:()=>n=>{const i=(0,o.pipe)(n,e,c.map((e=>n.items.add((0,o.pipe)(e,t.unselect(c.none,n.itemsOrd))))),c.getOrElse((()=>n.items)));return Object.assign(Object.assign({},n),{items:i,animation:S.wj.force,cardIndex:c.none})}}),e.getHasChecksFeed=()=>({willShowChecksFeed:e=>e.type!==S.Nm.advanced}),e.getSelectableByAlert=(e,t)=>({selectItemByAlert:(n,i)=>r=>{if(!t.willShowChecksFeed(r))return r;const a=e(r),s=r.items.find(t.isSelectableByAlert(n));(0,f.kG)(c.isSome(s),"Can not find card for provided alert. Unknown card or it is already disposed.",(()=>n.alert.toString()));const{value:l,index:u}=d.unsafeGet(s),p=(0,o.pipe)(a,c.map((e=>r.items.add((0,o.pipe)(e,t.unselect(c.some(l),r.itemsOrd))))),c.getOrElse((()=>r.items))).add((0,o.pipe)(l,t.selectByAlert(a,n,r.itemsOrd,i)));return Object.assign(Object.assign({},r),{items:p,animation:S.wj.force,cardIndex:c.some(u)})}}),e.getSelectableById=(e,t)=>({selectItemById:(n,i)=>r=>{const a=e(r),s=r.items.get(n),{value:l,index:u}=d.unsafeGet(s),p=(0,o.pipe)(a,c.map((e=>r.items.add((0,o.pipe)(e,t.unselect(c.some(l),r.itemsOrd))))),c.getOrElse((()=>r.items))).add((0,o.pipe)(l,t.select(a,r.itemsOrd,i)));return Object.assign(Object.assign({},r),{items:p,animation:S.wj.force,cardIndex:c.some(u)})}}),e.getItemReleaser=()=>({removeItemById:t=>n=>e.setVisibleItems(n.items.remove(t))(n)}),e.getMetaUpdatable=function(){return{updateMeta:e=>t=>Object.assign(Object.assign({},t),{meta:v.R.WithAlerts.setMeta(e)(t.meta)})}},e.getAnimatable=function(e,t){return{changeItemsVisualState:e=>n=>t.willShowChecksFeed(n)?Object.assign(Object.assign({},n),{items:n.items.map(t.changeVisualState(e))}):n,finishApplyAnimation:n=>i=>{(0,f.kG)(n.every(e.shouldAnimateAlertApply),"Tried to finish animation on non-animated state");const r=i.id,a=e=>{const i=e.items.map(t.removeAlertFromItem(n,e));return Object.assign(Object.assign({},e),{items:i})};if(v.R.isOutcomeId(r))return a(i);switch(r){case v.R.SpecialId.Priority:case v.R.SpecialId.AllAlerts:case v.R.SpecialId.PredictionTakeaways:case v.R.SpecialId.PredictionEmogenie:case v.R.SpecialId.RealTimeProofit:return a(i);case v.R.SpecialId.Premium:throw new Error("It's not possible to animate premium alerts");case v.R.SpecialId.Plagiarism:return(0,f.kG)(n.every(y.bZ.isPlagiarism),"tried to finish animation on non plagiarism alert in plagiarism lens"),a(i);default:return(0,f.vE)(r)}}}},e.getVerifiable=function(e){return{shouldVerify:t=>(0,o.pipe)(S.In.getActiveItem(t),c.exists((t=>e.isScheduledToDispose(t))))||c.isNone(t.items.find((t=>!e.isScheduledToDispose(t))))}},e.getHasAlerts=function(e,t,n){const i=e=>e.id===v.R.SpecialId.Premium||e.id===v.R.SpecialId.Plagiarism?e.meta.count:(0,o.pipe)(S.In.getActiveItem(e),c.chain(t.hasActiveAlert),c.exists(y.bZ.isCapiDone))&&1===e.items.size?0:e.meta.count;return{getVisibleAlertsCount:i,getActiveAlertsCount:i,findFirstAlert:e=>(0,o.pipe)(e.items.filter(n(e)).find((e=>c.isSome(t.hasActiveAlert(e)))),c.map((({value:e})=>({alert:e.activeAlert,highlightIndex:e.activeHighlightIndex})))),findNextAlert:t=>((0,f.kG)(c.isSome(S.In.getActiveItem(t))===c.isSome(t.cardIndex),"Lens is in wrong state"),(0,o.pipe)((0,r.g)(c.option)(S.In.getActiveItem(t),t.cardIndex),c.chain((([i,r])=>(0,o.pipe)(e.nextAlert(i),c.alt((()=>e.prevAlert(i))),c.alt((()=>(0,o.pipe)(g.lookAround(t.items.values(),r,n(t)),c.map((e=>e.value.activeAlert)))))))),d.orElse((0,o.pipe)(x.l.find(t.items,n(t)),c.map((({value:e})=>e.activeAlert)))),c.map((e=>({alert:e,highlightIndex:0})))))}},e.setVisibleItems=e=>t=>Object.assign(Object.assign({},t),{cardIndex:(0,o.pipe)(S.In.getActiveItem(t),c.chain((t=>(0,o.pipe)(e.get(t.id),c.map((e=>e.index)))))),items:e})}(k=e.Capabilities||(e.Capabilities={}))}(i||(i={}))},25975:(e,t,n)=>{n.d(t,{v:()=>H});var i,r=n(93265),a=n(66896),o=n(35416);!function(e){let t;e.create=function(e,n){return t||(t={id:a.R.SpecialId.Closed,kind:o._L.abstract,type:o.Nm.closed,meta:a.R.createStaticLens({id:a.R.SpecialId.Closed,title:"Closed"},a.R.Meta.group.empty,e),hashCode(){return r.v.lensHash.hashCode(this)},equals(e){return r.v.getEq(n).equals(this,e)}}),t}}(i||(i={}));var s,l=n(57050),c=n(5114),u=n(36156);!function(e){e.create=()=>({id:a.R.SpecialId.DraftAI,type:o.Nm.draftAI,kind:o._L.abstract,meta:a.R.createStaticLens({id:a.R.SpecialId.DraftAI,title:"Draft AI"},a.R.Meta.group.empty,l.constFalse),transitionSource:c.none,hashCode(){return(0,u.AC)(this.id)},equals(e){return this.id===e.id}}),e.createFromTransitionSource=t=>Object.assign(Object.assign({},e.create()),{transitionSource:c.some(t)})}(s||(s={}));var d,p,m=n(73975),h=n(40327),f=n(22232),g=n(83078),y=n(89943),v=n(95195),b=n(40018),C=n(95983),x=n(17594);!function(e){function t(e){return C.vM("cardId",e)}e.create=function(e,t,n){(0,f.kG)(e.id===a.R.SpecialId.Plagiarism,"Cannot create plagiarism lens vm on non-plagiarism lens",e.id);const i=C.aW.empty((e=>e.id),n.compare),s=c.none;return{id:a.R.SpecialId.Plagiarism,kind:o._L.persistent,type:o.Nm.plagiarism,meta:e,cardIndex:s,items:i,itemsOrd:n,animation:o.wj.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.v.lensHash.hashCode(this)},equals(e){return r.v.getEq(t).equals(this,e)}}},e.updateCardsWithLensMeta=function(e){return t=>t.id===a.R.SpecialId.Plagiarism?Object.assign(Object.assign({},t),{items:t.items.map((t=>x.$.isPlagiarism(t.activeAlert)?e.changePlagiarismMetaWithAlerts(t,t.alerts.filter(x.$.isPlagiarism)):t))}):t},e.add=e=>n=>i=>{const r=t(n),a=Array.from(r.entries()).reduce(((t,[n,i])=>(0,h.pipe)(t.update(n,(t=>e.addPlagiarismAlerts(t,i))),v.fold((()=>t.add(e.createAdded(n,i))),l.identity))),i.items),s=(0,h.pipe)(o.In.getActiveItem(i),c.map((({id:e})=>g.unsafeGet(a.get(e)).index))),u=c.getEq(m.eqNumber).equals(s,i.cardIndex)?o.wj.force:o.wj.skip;return Object.assign(Object.assign({},i),{cardIndex:s,items:a,animation:u})},e.remove=e=>n=>i=>{const r=t(n),a=o.In.getActiveItem(i),s=Array.from(r.entries()).reduce(((t,[n,r])=>(0,h.pipe)(t.update(n,(t=>{const n=(0,h.pipe)(e.remove(t,r,(0,h.pipe)(a,c.map((e=>i.itemsOrd.compare(t,e)>0)),c.getOrElse(l.constTrue))),(t=>e.changePlagiarismMetaWithAlerts(t,t.alerts.filter(x.$.isPlagiarism))));return(0,h.pipe)(a,c.exists((e=>e.id===n.id)))?e.selectNextAlert(n,i.itemsOrd):n})),v.fold((()=>t),l.identity))),i.items);return Object.assign(Object.assign({},i),{items:s,animation:o.wj.force})},e.update=t=>n=>i=>e.updateWithAlerts(t)(n.filter((0,l.not)(t.shouldAnimateAlertApply)))(i),e.updateWithAlerts=n=>i=>r=>{const[a,s]=y.partition(i,b.bZ.isRegistered),u=t(a),d=Array.from(u.entries()).reduce(((e,[t,i])=>(0,h.pipe)(e.update(t,(e=>n.changePlagiarismMetaWithAlerts(e,e.alerts.filter(x.$.isPlagiarism)))),v.fold((()=>e.add(n.createAdded(t,i))),l.identity))),e.remove(n)(s)(r).items),p=(0,h.pipe)(o.In.getActiveItem(r),c.map((({id:e})=>(0,h.pipe)(d.get(e),c.map((({index:e})=>e)),c.getOrElse((()=>0))))));return Object.assign(Object.assign({},r),{cardIndex:p,items:d,animation:o.wj.proceed})},e.getAlertsHandler=function(t){return n=>r.v.ApplyDiff.apply(n,e.add(t),e.update(t),e.remove(t))}}(d||(d={})),function(e){e.create=function(e,t,n){const i=C.aW.empty((e=>e.id),n.compare);return{id:a.R.SpecialId.Premium,kind:o._L.active,type:o.Nm.advanced,meta:e,items:i,itemsOrd:n,cardIndex:c.none,animation:o.wj.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.v.lensHash.hashCode(this)},equals(e){return r.v.getEq(t).equals(this,e)}}},e.getAlertsHandler=function(t,n){return i=>r.v.ApplyDiff.apply(i,e.add(t),e.update(t,n),e.remove(n))},e.add=e=>t=>n=>{const i=t.map(e.createFromAlert(n.id)),a=n.items.add(i),s=r.v.Items.getActiveItemIndex(a)(n);return Object.assign(Object.assign({},n),{cardIndex:s,items:a,animation:o.wj.proceed})},e.remove=e=>t=>n=>{const i=new Set(t.map((e=>e.id))),a=n.items.filter((0,l.flow)(e.hasActiveAlert,c.exists((e=>i.has(e.id))))).reduce(((e,t)=>e.remove(t.id)),n.items),o=r.v.Items.getActiveItemIndex(a)(n);return Object.assign(Object.assign({},n),{cardIndex:o,items:a})},e.update=(t,n)=>i=>r=>{const[a,o]=y.partition(i,b.bZ.isRegistered);return(0,l.pipe)(r,e.remove(n)(o),e.add(t)(a))}}(p||(p={}));var w,I=n(17771),S=n(71249),k=n(8125),E=n(5920),A=n(91549);!function(e){const t=b.h$.ord;function n(e){return e.id}function i(e){const t=e.map((e=>[A.R.getAlertOutcomeBundle(e),e]));return C.vM((([e,t])=>n(e)),t)}e.getCardId=n,e.initCardsHash=function(e,n,r,a,o){(0,f.kG)((0,h.pipe)(r,g.forAll((({alertIndex:e})=>void 0!==n[e]))),"Can not find alert for provided alertIndex");const s=i(n),l=(0,h.pipe)(r,c.map((({alertIndex:e})=>((0,f.kG)(void 0!==n[e],"Can not find alert for provided alertIndex"),n[e]))));let u=c.none;const d=C.aW.empty(A.R.getId,o.compare),p=Array.from(s.entries()).reduce(((n,[i,r])=>{const o=r.map((([e,t])=>t)),s=r[0][0];return(0,h.pipe)(l,c.map((e=>o.indexOf(e))),c.filter((e=>e>-1)),c.fold((()=>n.add(a.createRendered(e)(i,s,o,t))),(r=>{const l=a.createFocused(e)(i,s,o,r,t);return u=c.some(i),n.add(l)})))}),d);return{cardIndex:(0,h.pipe)(u,c.chain((e=>(0,h.pipe)(p.get(e),c.map((e=>e.index)))))),cards:p}},e.create=function(e,t,n,i){const a=C.aW.empty(A.R.getId,i.compare),s=c.none;return{id:e,type:o.Nm.lensview,kind:o._L.persistent,meta:t,withPriorityList:!1,cardIndex:s,items:a,itemsOrd:i,animation:o.wj.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.v.lensHash.hashCode(this)},equals(e){return r.v.getEq(n).equals(this,e)}}},e.add=(e,n)=>a=>s=>{if(0===a.length)return s;const u=i(a),d=Array.from(u.entries()).reduce(((i,[r,a])=>{const o=a.map((([e,t])=>t)),c=a[0][0];return(0,h.pipe)(i.update(r,(e=>n.updateWithAlerts(o)(e))),v.fold((()=>i.add(e.createAdded(s.id)(r,c,o,t))),l.identity))}),s.items),p=(0,h.pipe)(s,r.v.Items.getActiveItemIndex(d)),f=c.getEq(m.eqNumber).equals(p,s.cardIndex)?o.wj.force:o.wj.skip;return Object.assign(Object.assign({},s),{cardIndex:p,items:d,animation:f})},e.remove=e=>t=>n=>{const a=i(t),s=Array.from(a.entries()).reduce(((t,[i,r])=>(0,h.pipe)(t.update(i,(t=>e.removeAlertFromItem(r.map((([e,t])=>t)),n)(t))),v.fold((()=>t),l.identity))),n.items),c=(0,h.pipe)(n,r.v.Items.getActiveItemIndex(s));return Object.assign(Object.assign({},n),{cardIndex:c,items:s,animation:o.wj.force})},e.update=(t,n,i)=>r=>a=>e.updateWithAlerts(t,i)(r.filter((0,k.ff)(n.shouldAnimateAlertApply)))(a),e.updateWithAlerts=(n,a)=>s=>c=>{if(0===s.length)return c;const{left:u,right:d}=(0,h.pipe)(s,r.v.filterAlertInLens(c,a),S.partition(b.bZ.isRegistered)),p=i(d),m=Array.from(p.entries()).reduce(((e,[i,r])=>{const o=r.map((([e,t])=>t)),s=r[0][0];return(0,h.pipe)(e.update(i,(e=>a.updateWithAlerts(o)(e))),v.fold((()=>e.add(n.createAdded(c.id)(i,s,o,t))),l.identity))}),e.remove(a)(u)(c).items),f=(0,h.pipe)(c,r.v.Items.getActiveItemIndex(m));return Object.assign(Object.assign({},c),{cardIndex:f,items:m,animation:o.wj.proceed})},e.getAlertsHandler=function(t,n,i){return(a,o)=>s=>{const l=r.v.ApplyDiff.applyWithFilter(o,r.v.ApplyDiff.apply);return(0,h.pipe)(s,l(a,e.add(t,i),e.update(t,n,i),e.remove(i)))}},e.getHasAlerts=function(e,t,n){const i=r.v.Capabilities.getHasAlerts(e,t,n);return Object.assign(Object.assign({},i),{findNextAlert:t=>(0,h.pipe)((0,I.g)(c.option)(o.In.getActiveItem(t),t.cardIndex),c.chain((([i,r])=>(0,h.pipe)(e.nextAlert(i),c.alt((()=>e.prevAlert(i))),c.alt((()=>(0,h.pipe)(y.findIndexFrom(t.items.values(),r+1,n(t)),c.alt((()=>y.findIndexFrom(t.items.values(),0,n(t)))),c.chain((e=>c.fromNullable(e.value.alerts))),c.map((e=>e[0])))))))),g.orElse((0,h.pipe)(E.l.find(t.items,n(t)),c.chain((({value:e})=>c.fromNullable(e.alerts))),c.map((e=>e[0])))),c.map((e=>({alert:e,highlightIndex:0}))))})}}(w||(w={}));var T=n(35214),N=n(45701),O=n(84313),_=n(48521),j=n(16892),$=n(69345),P=n(4890);const F=m.fromEquals(((e,t)=>e.id===t.id&&e.visibilityState===t.visibilityState&&$.Z.eq.equals(e.positionState,t.positionState))),D=e=>(0,u.NO)({itemId:e.id,visibilityState:e.visibilityState,positionState:(0,u.NO)(e.positionState)});var L,B,M,R,H;!function(e){e.id="PriorityToggleHintId",e.Kind="PriorityToggleHint",e.create=(e,n)=>new t(e,n,P.j.defaultOptions),e.hidden="hidden",e.visible="visible",e.isVisible=t=>t.visibilityState===e.visible,e.changePosition=(t,n)=>e.create(t.visibilityState,n),e.isPriorityToggleHint=t=>t.id===e.id,e.transitionTo=(t,n)=>t.visibilityState!==n?e.create(n,t.positionState):t,e.clone=t=>e.create(t.visibilityState,t.positionState);class t{constructor(t,n,i){this.visibilityState=t,this.positionState=n,this.renderOptions=i,this.kind=e.Kind,this.scheduledToDispose=!1,this.id=e.id}equals(e){return F.equals(this,e)}hashCode(){return D(this)}}}(L||(L={})),function(e){e.id="PriorityToggleId",e.Kind="PriorityToggle",e.isCollapsed=e=>"collapsed"===e.visibilityState,e.isExpanded=e=>"expanded"===e.visibilityState,e.isHidden=e=>"hidden"===e.visibilityState,e.create=(e,n)=>new t(e,n,P.j.defaultOptions),e.changePosition=(t,n)=>e.create(t.visibilityState,n),e.transitionTo=(t,n)=>t.visibilityState!==n?e.create(n,t.positionState):t,e.clone=t=>e.create(t.visibilityState,t.positionState),e.isPriorityToggle=t=>t.id===e.id,e.isPriorityItem=(0,k.Kg)(e.isPriorityToggle,L.isPriorityToggleHint);class t{constructor(t,n,i){this.visibilityState=t,this.positionState=n,this.renderOptions=i,this.kind=e.Kind,this.scheduledToDispose=!1,this.id=e.id}equals(e){return F.equals(this,e)}hashCode(){return D(this)}}}(B||(B={})),function(e){let t;function n(e,t){return`${e.id}_${t.id}`}e.isInSuccess=function(e,t=l.constTrue){return n=>0===n.meta.count&&(0===n.items.filter(t).size||c.isNone(n.items.filter(t).find((t=>!e.isScheduledToDispose(t)))))},function(t){function n(t){return n=>o.nL.hasSuccess(n)&&o.nL.hasItems(n)&&e.isInSuccess(t)(n.currentLens)}t.isInSuccess=n,t.isInGlobalSuccess=e=>t=>(o.nL.is(a.R.SpecialId.AllAlerts)(t)||o.nL.is(a.R.SpecialId.Priority)(t))&&n(e)(t)}(t=e.State||(e.State={})),e.getCardId=n,e.create=function(e,t,n,i){const a=C.aW.empty(O.X.getId,i.compare),s=c.none;return{id:e,type:o.Nm.lensview,kind:o._L.persistent,withPriorityList:!1,meta:t,cardIndex:s,items:a,itemsOrd:i,animation:o.wj.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.v.lensHash.hashCode(this)},equals(e){return r.v.getEq(n).equals(this,e)}}},e.add=(e,t,i)=>a=>s=>{const l=a.map((a=>{const o=t.createAdded(s.id)(n(s.meta,a),a);return e(s,a)?o:r.v.Items.hideItem(o,i)})),u=s.items.add(l),d=r.v.Items.getActiveItemIndex(u)(s),p=c.getEq(m.eqNumber).equals(d,s.cardIndex)?o.wj.force:o.wj.skip;return Object.assign(Object.assign({},s),{cardIndex:d,items:u,animation:p})},e.remove=e=>t=>n=>{const i=new Set(t.map((e=>e.id))),a=n.items.map(e.remove((0,l.flow)(e.hasActiveAlert,c.fold(l.constFalse,(e=>i.has(e.id)))),(e=>(0,h.pipe)(o.In.getActiveItem(n),c.map((t=>n.itemsOrd.compare(e,t)>0)),c.getOrElse(l.constTrue))))),s=(0,h.pipe)(n.cardIndex,c.chain((t=>(0,h.pipe)(a.findRightFrom((t=>e.isScheduledToDispose(t)),t),c.map((e=>e.index))))),c.isSome)?o.wj.skip:o.wj.force,u=(0,h.pipe)(n,r.v.Items.getActiveItemIndex(a));return Object.assign(Object.assign({},n),{cardIndex:u,items:a,animation:s})},e.update=(t,n,i)=>r=>a=>e.updateWithAlerts(n,t,i)(r.filter((0,k.ff)(n.shouldAnimateAlertApply)))(a),e.updateWithAlerts=(e,t,i)=>a=>s=>{if(0===a.length)return s;const c=(0,h.pipe)(a,r.v.filterAlertInLens(s,i),S.map((e=>[n(s.meta,e),e])),S.reduce(s.items,((n,[a,o])=>(0,h.pipe)(n.update(a,i.updateWithAlerts([o])),v.fold((()=>{const l=e.createAdded(s.id)(a,o);return n.add(t(s,o)?l:r.v.Items.hideItem(l,i))}),l.identity))))),u=r.v.Items.getActiveItemIndex(c)(s);return Object.assign(Object.assign({},s),{cardIndex:u,items:c,animation:o.wj.proceed})},e.getAlertHandler=function(t,n,i=l.constTrue){return(a,o)=>{const s=r.v.ApplyDiff.applyWithFilter(o,r.v.ApplyDiff.apply);return r=>(0,h.pipe)(r,s(a,e.add(i,t,n),e.update(i,t,n),e.remove(n)))}}}(M||(M={})),function(e){function t(e,t){return(0,h.pipe)(o.In.getActiveItem(e),c.chain(t.hasActiveAlert),c.map((e=>!x.$.isPriority(e))),c.getOrElse((()=>!1)))}function n(e){return(0,h.pipe)(e.items.get(B.id),c.map((({value:e})=>B.isPriorityToggle(e)&&B.isExpanded(e))),c.getOrElse((()=>!1)))}function i(e,t,n){return 0!==e.meta.count&&0===e.meta.priorityCount&&0===e.items.filter((0,k.W9)(t,(e=>!n.isScheduledToDispose(e)))).size}let s;function l(e,t){return r=>o.nL.hasSuccess(r)&&M.isInSuccess(t)(r.currentLens)||o.nL.isWithPriorityList(r)&&(M.isInSuccess(t,(0,k.ff)(B.isPriorityItem))(r.currentLens)||i(r.currentLens,e,t)&&!n(r.currentLens))}e.ord=(0,T.fold)(N.getMonoid())([(0,h.pipe)(N.ordBoolean,N.contramap(L.isPriorityToggleHint)),(0,h.pipe)(N.ordBoolean,N.contramap(B.isPriorityToggle)),O.X.ord]),e.create=function(e,t,n,i){const a=C.aW.empty(O.X.getId,i.compare),s=c.none;return{id:e,type:o.Nm.lensview,kind:o._L.persistent,itemsOrd:i,meta:t,cardIndex:s,items:a,animation:o.wj.skip,withPriorityList:!0,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.v.lensHash.hashCode(this)},equals(e){return r.v.getEq(n).equals(this,e)}}},e.getHasPriorityToggle=function(e){return{toggleNonPriorityList:i=>r=>{const a=n(r);if("collapsed"===i&&!a||"expanded"===i&&a)return r;const s=t(r,e),l=d(r.items,!a,!a&&s,e);return Object.assign(Object.assign({},r),{items:l,cardIndex:s&&a?c.none:r.cardIndex,animation:o.wj.proceed})}}},e.focusedCardIsNonPriority=t,e.isNonPriorityListOpened=n,e.onlyNonPriorityAlertsLeft=i,e.nonPriorityAlertsVisible=function(e){return!o.nL.isWithPriorityList(e)||n(e.currentLens)},function(e){e.fromLensState=e=>t=>e.currentLens.id!==t||o.nL.isWithPriorityList(e)&&!n(e.currentLens)?o.FS.priorityAlertsOnly:o.FS.allAlerts}(s=e.LensViewMode||(e.LensViewMode={})),e.isInSuccess=l,e.isInGlobalSuccess=function(e,t){return n=>(o.nL.is(a.R.SpecialId.AllAlerts)(n)||o.nL.is(a.R.SpecialId.Priority)(n))&&l(e,t)(n)},e.getSyncVisibleCardsHandler=function(e){return i=>{if(!a.R.isWithSuccessId(i.id))return i;let s=u(i.items);const l=t(i,e);s=d(s,n(i)||l,l,e);const c=r.v.Items.getActiveItemIndex(s)(i);return Object.assign(Object.assign({},i),{cardIndex:c,items:s,animation:o.wj.proceed})}};function u(e){return e.has(B.id)||0===e.size?e:e=(e=e.add(B.create("expanded",j.s.PositionState.empty))).add(L.create("visible",j.s.PositionState.empty))}function d(e,t,n,i){const a=(e=>Object.assign(Object.assign({},e),{transitionTo:t=>n=>_.o.isAnimatable(n)&&n.visualState.transition.type!==t.type?e.transitionTo(t)(n):n}))(i),o=0===e.filter((e=>!i.isScheduledToDispose(e)&&(0,h.pipe)(i.hasActiveAlert(e),c.exists((0,k.ff)(x.$.isPriority))))).size;return e.map((e=>(0,h.pipe)(i.hasActiveAlert(e),c.fold((()=>B.isPriorityItem(e)?o?B.isPriorityToggle(e)?B.transitionTo(e,"hidden"):L.transitionTo(e,"hidden"):B.isPriorityToggle(e)?t||n?B.transitionTo(e,"expanded"):B.transitionTo(e,"collapsed"):t||n?L.transitionTo(e,"visible"):L.transitionTo(e,"hidden"):e),(n=>t||x.$.isPriority(n)?_.o.isAnimatable(e)&&_.o.isHidden(e)?a.transitionTo({type:"rendered",clockwise:!0})(e):e:r.v.Items.hideItem(e,i))))))}e.isAlertVisible=function(e,t){return"priority"===t.view||n(e)},e.ensureExpandCardIsPresent=u,e.syncVisibleCards=d,e.getHasAlerts=function(e,t,i){return Object.assign(Object.assign({},r.v.Capabilities.getHasAlerts(e,t,i)),{getVisibleAlertsCount:e=>(0,h.pipe)(o.In.getActiveItem(e),c.chain(t.hasActiveAlert),c.exists(b.bZ.isCapiDone))&&1===e.items.size?0:n(e)?e.meta.count:e.meta.priorityCount})}}(R||(R={})),function(e){e.Prism=r.v.Prism,e.Items=r.v.Items,e.Capabilities=r.v.Capabilities,e.ApplyDiff=r.v.ApplyDiff,e.filterAlertInLens=r.v.filterAlertInLens,e.lensHash=r.v.lensHash,e.getEq=r.v.getEq,e.Closed=i,e.DraftAI=s,e.Plagiarism=d,e.Premium=p,e.WithBundles=w,e.WithPriority=R,e.WithSuccess=M}(H||(H={}))},85287:(e,t,n)=>{n.d(t,{Dn:()=>o,AP:()=>l,rD:()=>w,IY:()=>E,$4:()=>D,bb:()=>L});var i=n(63969),r=n(40219),a=n(50224);const o="linear",s=i.u.keyframes({"0%":{opacity:0},"100%":{opacity:1}}),l=i.u.keyframes({from:{opacity:1,transform:"scaleY(1)"},to:{opacity:0,transform:"scaleY(.5)"}}),c=i.u.keyframes({from:{opacity:1,transform:"translateY(0) scaleY(1)"},to:{opacity:0,transform:"translateY(-75%) scaleY(.5)"}}),u=i.u.keyframes({"0%":{opacity:0,transform:"scaleY(0)"},"100%":{opacity:1,transform:"scaleY(1)"}}),d=i.u.keyframes({"0%":{opacity:0,transform:"scaleY(.2) translateY(-50%)"},"80%":{opacity:1,transform:"scaleY(.8) translateY(0%)"},"100%":{opacity:1,transform:"scaleY(1)"}}),p=i.u.keyframes({"0%":{opacity:1,transform:"scaleY(1)"},"100%":{opacity:0,transform:"scaleY(0)"}}),m=i.u.keyframes({"0%":{opacity:0,transform:"scale(.8)"},"100%":{opacity:1,transform:"scale(1)"}}),h=i.u.keyframes({"0%, 100%":{opacity:0}}),f=i.u.keyframes({"0%, 59%":{opacity:0},"60%, 100%":{opacity:1}}),g=i.u.keyframes({"0%":{opacity:0},"80%":{opacity:0},"100%":{opacity:1}}),y=i.u.keyframes({"0%":{opacity:1,transform:"scaleY(1)"},"59%":{opacity:1},"60%":{opacity:0},"100%":{opacity:0,transform:"scaleY(0)"}}),v=i.u.keyframes({"0%":{opacity:1},"30%, 100%":{opacity:0}}),b=i.u.keyframes({"0%":{transform:"scaleY(.3)"},"100%":{transform:"scaleY(1)"}}),C=i.u.keyframes({"0%, 20%":{opacity:0},"100%":{opacity:1}}),x={position:"relative",margin:`${i.u.rem(.5)} ${i.u.rem(2)} ${i.u.rem(.5)} 0`,userSelect:"none"},w={position:"absolute",width:i.u.percent(100),pointerEvents:"none"},I={opacity:0,animation:`${s} ${i.u.seconds(r.v4/4/1e3)} ${o} ${i.u.seconds(r.v4/1e3)} forwards`},S={transformOrigin:"top",animation:`${l} ${i.u.seconds(r.v4/1e3)} ${o} forwards`},k={transformOrigin:"bottom",animation:`${c} ${i.u.seconds(r.v4/1e3)} ${o} forwards`},E={transformOrigin:"top",willChange:"contents"},A={animation:`${u} ${i.u.seconds(r.v4/1e3)} ${o} forwards`},T={animation:`${d} ${i.u.seconds(r.v4/1e3)} ${o} forwards`},N={animation:`${p} ${i.u.seconds(r.v4/1e3)} ${o} reverse forwards`},O={animation:`${p} ${i.u.seconds(r.v4/1e3)} ${o} forwards`},_={animation:`${m} ${i.u.seconds(r.v4/1e3)} ${o} forwards`},j={animation:`${m} ${i.u.seconds(r.v4/1e3)} ${o} reverse forwards`},$={transformOrigin:"top",animation:`${f} ${i.u.seconds(r.v4/1e3)} ${o} forwards`,willChange:"contents",$nest:{[`& .${a.g.successWrapperSelector} > *`]:{animation:`${g} ${i.u.seconds(r.v4/1e3)} ${o} forwards`}}},P={position:"absolute",width:i.u.percent(100),transformOrigin:"top",animation:`${y} ${i.u.seconds(r.v4/1e3)} ${o} forwards`,pointerEvents:"none",$nest:{[`& .${a.g.fullCardSelector} > :not(.${a.g.alignButtonHiddenSelector})`]:{animation:`${v} ${i.u.seconds(r.v4/1e3)} ${o} forwards`},[`& .${a.g.fullCardSelector} > .${a.g.alignButtonHiddenSelector}`]:{animation:`${h} ${i.u.seconds(r.v4/1e3)} ${o} none`},[`& .${a.g.fullCardSelector}`]:{transform:`translateY(${i.u.rem(-1)})`}}},F={transformOrigin:"top",animation:`${b} ${i.u.seconds(r.v4/1e3)} ${o} forwards`,willChange:"contents",$nest:{[`& .${a.g.fullCardSelector} > :not(.${a.g.alignButtonHiddenSelector})`]:{animation:`${C} ${i.u.seconds(r.v4/1e3)} ${o} forwards`},[`& .${a.g.fullCardSelector} > .${a.g.alignButtonHiddenSelector}`]:{animation:`${h} ${i.u.seconds(r.v4/1e3)} ${o} none`}}},D=i.u.stylesheet({wrapper:[x],animationWrapper:[{position:"relative"}],shade:[w],focused2renderedMain:[I],focused2renderedShade:[w,S],focused2renderedShadeClockwise:[w,k],rendered2focusedMainBase:[E],rendered2focusedMain:[E,A],rendered2focusedMainClockwise:[E,T],addedMain:[N],rendered2removedShade:[w,O],openedMain:[_],closedMain:[j],focused2successMain:[$],focused2successShade:[P],success2FocusedMain:[F]}),L=new Map([[l,D.focused2renderedShade],[c,D.focused2renderedShadeClockwise],[p,D.rendered2removedShade],[y,D.focused2successShade]])},22800:(e,t,n)=>{n.d(t,{S:()=>S,c:()=>k});var i=n(63969),r=n(40219),a=n(85287),o=n(50224);const s=i.u.keyframes({from:{opacity:0,transform:"translateY(50%)"},to:{opacity:1,transform:"translateY(0)"}}),l=i.u.keyframes({from:{opacity:1,transform:"translateY(0)"},to:{opacity:0,transform:"translateY(-25%)"}}),c=i.u.keyframes({from:{transform:"translateY(0)"},to:{transform:"translateY(100%)"}}),u=i.u.keyframes({from:{transform:"translateY(0)"},to:{transform:"translateY(150%)"}}),d=i.u.keyframes({from:{opacity:1,transform:"scaleY(1)"},to:{opacity:0,transform:"scaleY(.5)"}}),p=i.u.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),m=i.u.keyframes({from:{transform:"translateY(-10%)"},to:{transform:"translateY(0)"}}),h=i.u.keyframes({from:{transform:"translateY(100%)"},to:{transform:"translateY(0)"}}),f=i.u.keyframes({from:{transform:"translateY(150%)"},to:{transform:"translateY(0)"}}),g=i.u.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),y=i.u.keyframes({from:{opacity:1,transform:"translateY(0)"},to:{opacity:0,transform:"translateY(125%)"}}),v={opacity:0,animation:`${s} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`},b={transformOrigin:"top",animation:`${a.AP} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleInnerContainerSelector}`]:{animation:`${l} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleFakeCard1Selector}`]:{animation:`${c} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`},[`& .${o.g.bundleFakeCard2Selector}`]:{animation:`${u} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`}}}}},C={transformOrigin:"top",animation:`${d} ${i.u.seconds(r.v4/1500)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleInnerContainerSelector}`]:{animation:`${l} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleFakeCard1Selector}`]:{animation:`${c} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`},[`& .${o.g.bundleFakeCard2Selector}`]:{animation:`${u} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`}}}}},x={animation:`${p} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleInnerContainerSelector}`]:{animation:`${m} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleFakeCard1Selector}`]:{animation:`${h} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`},[`& .${o.g.bundleFakeCard2Selector}`]:{animation:`${f} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`}}}}},w={animation:`${g} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleInnerContainerSelector}`]:{animation:`${m} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleFakeCard1Selector}`]:{animation:`${h} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`},[`& .${o.g.bundleFakeCard2Selector}`]:{animation:`${f} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`}}}}},I={animation:`${y} ${i.u.seconds(r.v4/1e3)} ${a.Dn} forwards`},S=i.u.stylesheet({focused2renderedBundleMain:[v],focused2renderedBundleShade:[a.rD,b],focused2renderedBundleShadeClockwise:[a.rD,C],rendered2focusedBundleMain:[a.IY,x],rendered2focusedBundleMainClockwise:[a.IY,w],rendered2focusedBundleShade:[a.rD,I]}),k=new Map([[a.AP,S.focused2renderedBundleShade],[d,S.focused2renderedBundleShadeClockwise],[y,S.rendered2focusedBundleShade]])},79589:(e,t,n)=>{n.d(t,{b:()=>Q});var i=n(27378),r=n(57050),a=n(40327),o=n(5739),s=n(38983),l=n(5114),c=n(54338),u=n(15646),d=n(85287),p=n(22800),m=n(35108);const h=({children:e,mount:t})=>i.createElement(o.F.div,{role:"animation-wrapper",className:d.$4.animationWrapper,mount:t},e),f=e=>(0,a.pipe)(l.fromNullable(e.activeAlert),l.fold((()=>e.id),(e=>e.id)));class g extends i.Component{constructor(){super(...arguments),this._elementState=c.f.emptyWithName("card")}_stateToElement(e){switch(e){case"added":case"rendered":return this.props.miniCard;case"focused":case"expanded":case"presuccess":return this.props.fullCard;case"success":return this.props.successCard;case"feedback_form":return this.props.feedbackForm;case"removed":return this.props.removedCard;case"muted":return this.props.mutedCard;default:return null}}componentWillUnmount(){const{card:e,actions:t}=this.props;t.next({type:u.eI.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId})}render(){const{actions:e,card:t,transitionClassMapper:n}=this.props;if(!t.visualState.incomplete)return i.createElement(h,{mount:this.props.mount},i.createElement(o.F.div,{key:t.visualState.transition.type},this._stateToElement(t.visualState.transition.type)));const g=n||m.SA,{main:y,shade:v}=g(t.visualState),b=s.h.create(void 0===v?l.none:(0,a.pipe)(t.visualState.from,l.map((e=>({state:e,className:v})))));return!y&&l.isNone(b.get())&&requestAnimationFrame((()=>e.next({type:u.eI.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}))),i.createElement(c.f.Context.Provider,{value:this._elementState},i.createElement(h,{mount:this.props.mount},b.view((0,r.flow)(l.map((({state:n,className:r})=>i.createElement(o.F.div,{className:r,key:"shade"+n+f(t),onAnimationEnd:n=>{p.c.get(n.animationName)!==r&&d.bb.get(n.animationName)!==r||(e.next({type:u.eI.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}),requestAnimationFrame((()=>b.set(l.none))))}},this._stateToElement(n)))),l.toUndefined)),i.createElement(o.F.div,{className:y,key:"expanded"===t.visualState.transition.type?"focused":t.visualState.transition.type,onAnimationEnd:()=>e.next({type:u.eI.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}),onTransitionEnd:()=>{"presuccess"===t.visualState.transition.type&&e.next({type:u.eI.Kind.startTransitionTo,id:t.id,transition:{type:"success",clockwise:t.visualState.transition.clockwise}})}},this._stateToElement(t.visualState.transition.type))))}}var y=n(12187),v=n(44060),b=n(63969),C=n(24588),x=n(40219),w=n(21474),I=n(3656);class S extends i.Component{constructor(){super(...arguments),this._createCardToggler=e=>()=>this.props.actions.next({type:u.lY.Type.hover,kind:e,id:this.props.cardId})}componentWillUnmount(){this._createCardToggler("unhover")()}render(){const{getActiveAlert:e,cardId:t,actions:n,children:r,counter:a,className:s,hideActivateButton:l,hideDot:c}=this.props;return i.createElement(o.F.div,Object.assign({"data-aid":t,onClick:t=>{const i=e();n.next({type:u.lY.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:i},clickPoint:{x:t.clientX,y:t.clientY}})},onMouseEnter:this._createCardToggler("hover"),onMouseLeave:this._createCardToggler("unhover")},(0,y.Sh)(s,L.wrapper,c?null:L.miniCard)),i.createElement(I.XY,Object.assign({},(0,y.Sh)(L.contentWrapper,c?L.contentWrapperWithoutDot:L.contentWrapperWithDot)),r),i.createElement("div",{className:L.iconContainer},a&&i.createElement("div",{className:E},a),l?null:i.createElement("div",{className:T},i.createElement(w.JO.Arrow,{className:L.activeTopIcon}),i.createElement(w.JO.Arrow,{className:L.activeBottomIcon}))))}}const k="baseMiniCounterContainer",E=b.u.joinClasses([k,b.u.style({position:"absolute",height:b.u.percent(100),top:0,right:0,zIndex:x.VN,margin:"auto 0",background:v.Il.CoreNeutral0,opacity:1})]),A="baseMiniActivateBtnSelector",T=b.u.joinClasses([A,b.u.style({position:"absolute",top:0,right:0,height:b.u.percent(100),zIndex:x.VN,display:"flex",flexDirection:"column",margin:"auto 0",background:v.Il.CoreNeutral0,opacity:0,justifyContent:"center"})]),N={position:"relative",display:"flex",overflow:"hidden",borderRadius:b.u.rem(x.fx),background:v.Il.CoreNeutral0,boxShadow:"0 1px 8px rgba(109, 117, 141, .18)",cursor:"pointer",alignItems:"center",$nest:{"&:hover":{background:v.Il.CoreNeutral0,boxShadow:"0 1px 12px 0 rgba(129, 137, 169, .2)",transitionDuration:b.u.seconds(.2)},[`&:hover .${A}`]:{opacity:1},"&:hover .baseMiniCounterContainer":{opacity:0}}},O={overflow:"hidden",color:C.UE,textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:b.u.rem(1.5)},_={margin:`0 ${b.u.rem(3)} 0 ${b.u.rem(2)}`},j={paddingLeft:b.u.rem(.5)},$={position:"absolute",top:0,right:b.u.rem(.5),bottom:0,display:"flex"},P={display:"flex",margin:`${b.u.rem(.1)} 0 ${b.u.rem(-1.25)}`,transform:"rotate(180deg)"},F={$nest:{"&:before":{position:"absolute",width:b.u.px(10),height:b.u.px(10),borderRadius:b.u.percent(50),content:"''",transform:"scale(.5)"}}},D={$nest:{"&:before":{margin:`auto 0 auto ${b.u.rem(.75)}`}}},L=b.u.stylesheet({wrapper:[N],contentWrapper:[O],contentWrapperWithDot:[_],contentWrapperWithoutDot:[j],iconContainer:[$],activeTopIcon:[P],activeBottomIcon:[{display:"flex",height:"auto"}],dotBase:[F],miniCard:[F,D]});var B,M=n(8125),R=n(30763),H=n(7046),U=n(57091),W=n(50224);!function(e){e[e.stage0=0]="stage0",e[e.stage1=1]="stage1",e[e.stage2=2]="stage2"}(B||(B={}));const q=({actions:e,isLastCard:t})=>{const n=i.useContext(R.m.Context).successLens.fixedText.titles,r=s.h.create(B.stage0),a=()=>e.next({type:u.lY.Type.switchToNext});return i.createElement(o.F.div,{className:Z.successWrapper},i.createElement(I.P1,{className:Z.successText,onAnimationEnd:()=>{r.set(B.stage1)}},n[(0,M.TN)(n.length)]),i.createElement(o.F.span,null,r.view((e=>e>=B.stage1&&i.createElement("span",{onAnimationEnd:()=>r.set(B.stage2)},i.createElement(w.JO.CheckmarkAnimated,{className:Z.successCheckMark}))))),i.createElement(o.F.span,{className:Z.successBtnHolder},t.pipe(U.a(r,((e,t)=>t<B.stage2?null:e?i.createElement(H.zx.Caps,{className:Z.doneBtn,name:"done",key:"done-btn",onClick:a},"Done"):i.createElement(H.zx.Caps,{className:Z.successBtn,name:"next",key:"next-card",onClick:a},"Next"))))))},z=b.u.keyframes({"0%":{opacity:0},"100%":{opacity:1}}),V={fontWeight:"bold",lineHeight:b.u.rem(2),animation:`${z} ${b.u.seconds(.2)} linear forwards`},G={position:"relative",borderRadius:b.u.rem(x.Jr),background:v.Il.CoreNeutral0,boxShadow:`0 ${b.u.rem(.625)} ${b.u.rem(x.mJ)} 0 rgba(198, 203, 222, .45)`},Y={display:"flex",padding:`${b.u.rem(1.5)} ${b.u.rem(2)}`,alignItems:"center"},K={marginLeft:b.u.rem(1),minWidth:0,minHeight:0,width:b.u.rem(1.325),height:b.u.rem(1.325),animation:`${z} ${b.u.seconds(.2)} linear forwards`},J={float:"right",width:b.u.rem(4),textAlign:"center",animation:`${z} ${b.u.seconds(.2)} linear forwards`},X={backgroundColor:v.Il.CoreGreen50,color:v.Il.CoreNeutral0,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:C.mb}}},Z=Object.assign(Object.assign({},b.u.stylesheet({successText:[V],successCheckMark:[K],successBtnHolder:[{marginLeft:"auto",fontWeight:"bold"}],successBtn:[J],doneBtn:[J,X]})),{fullCard:b.u.joinClasses([W.g.fullCardSelector,b.u.style(G)]),successWrapper:b.u.joinClasses([W.g.successWrapperSelector,b.u.style(G,Y)])});var Q;!function(e){e.Mini=S,e.Card=g,e.Success=q}(Q||(Q={}))},50224:(e,t,n)=>{n.d(t,{g:()=>g,m:()=>y});var i=n(44060),r=n(63969),a=n(24588),o=n(40219);const s={position:"relative",borderRadius:r.u.rem(o.Jr),background:i.Il.CoreNeutral0,boxShadow:`0 ${r.u.rem(.625)} ${r.u.rem(o.mJ)} 0 rgba(198, 203, 222, .45)`},l={$nest:{"&:before":{position:"absolute",width:r.u.px(10),height:r.u.px(10),borderRadius:r.u.percent(50),content:"''",transform:"scale(.5)"}}},c={$nest:{"&:before":{backgroundColor:a.kl}}},u={$nest:{"&:before":{backgroundColor:a.AX}}},d={$nest:{"&:before":{backgroundColor:i.Il.CoreRed50}}},p={$nest:{"&:before":{backgroundColor:i.Il.CoreBlue50}}},m={$nest:{"&:before":{backgroundColor:i.Il.CoreGreen50}}},h={$nest:{"&:before":{backgroundColor:i.Il.CorePurple50}}},f={$nest:{"&:before":{backgroundColor:i.Il.CoreNeutral50}}},g={fullCardSelector:"fullCard",bundleInnerContainerSelector:"bundleInnerContainer",bundleFakeCard1Selector:"bundleFakeCard1",bundleFakeCard2Selector:"bundleFakeCard2",alignButtonHiddenSelector:"alignButtonHidden",cozyCardContainerSelector:"cozyCardContainer",successWrapperSelector:"successWrapper"},y=Object.assign(Object.assign({},r.u.stylesheet({dot:[l],dotAdvanced:[u],dotCritical:[c],dotCorrectness:[d],dotClarity:[p],dotEngagement:[m],dotDelivery:[h],dotVox:[f]})),{fullCard:r.u.joinClasses([g.fullCardSelector,r.u.style(s)])})},35108:(e,t,n)=>{n.d(t,{CE:()=>i,SA:()=>u,a:()=>d});var i,r=n(40327),a=n(5114),o=n(8125),s=n(81531),l=n(85287),c=n(22800);function u({from:e,transition:t,incomplete:n}){if(!n)return{};const i=p("transitionClassMapper");return(0,r.pipe)(e,a.map((e=>{switch(e){case"added":case"rendered":switch(t.type){case"added":return i.error(`Impossible transition: ${e} -> ${t.type}`),{main:l.$4.addedMain};case"focused":return{main:t.clockwise?l.$4.rendered2focusedMainClockwise:l.$4.rendered2focusedMain};case"removed":return{shade:l.$4.rendered2removedShade};default:return{}}case"expanded":case"focused":switch(t.type){case"rendered":return{main:l.$4.focused2renderedMain,shade:t.clockwise?l.$4.focused2renderedShadeClockwise:l.$4.focused2renderedShade};case"removed":return{main:"",shade:t.clockwise?l.$4.focused2renderedShadeClockwise:l.$4.focused2renderedShade};default:return{}}case"success":switch(t.type){case"removed":return{main:"",shade:t.clockwise?l.$4.focused2renderedShadeClockwise:l.$4.focused2renderedShade};case"focused":return{main:l.$4.success2FocusedMain};default:return{}}case"presuccess":switch(t.type){case"success":return{main:l.$4.focused2successMain,shade:l.$4.focused2successShade};default:return{}}case"removed":switch(t.type){case"added":return i.error(`Impossible transition: ${e} -> ${t.type}`),{main:l.$4.addedMain};default:return{}}default:return{}}})),a.getOrElse((()=>{switch(t.type){case"added":return{main:l.$4.addedMain};case"focused":return{main:l.$4.openedMain};default:return{}}})))}function d({from:e,transition:t,incomplete:n}){return n?(0,r.pipe)(e,a.map((e=>{switch(e){case"added":case"rendered":switch(t.type){case"added":return p("bundleTransitionClassMapper").error(`Impossible transition: ${e} -> ${t.type}`),{main:l.$4.addedMain};case"focused":return{main:t.clockwise?c.S.rendered2focusedBundleMainClockwise:c.S.rendered2focusedBundleMain,shade:c.S.rendered2focusedBundleShade};case"removed":return{shade:l.$4.rendered2removedShade};default:return{}}case"expanded":case"focused":switch(t.type){case"rendered":return{main:c.S.focused2renderedBundleMain,shade:t.clockwise?c.S.focused2renderedBundleShadeClockwise:c.S.focused2renderedBundleShade};case"removed":return{main:"",shade:t.clockwise?l.$4.focused2renderedShadeClockwise:l.$4.focused2renderedShade};default:return{}}case"success":switch(t.type){case"removed":return{main:"",shade:t.clockwise?l.$4.focused2renderedShadeClockwise:l.$4.focused2renderedShade};case"focused":return{main:l.$4.success2FocusedMain};default:return{}}case"presuccess":switch(t.type){case"success":return{main:l.$4.focused2successMain,shade:l.$4.focused2successShade};default:return{}}case"removed":switch(t.type){case"added":return p("bundleTransitionClassMapper").error(`Impossible transition: ${e} -> ${t.type}`),{main:l.$4.addedMain};default:return{}}default:return{}}})),a.getOrElse((()=>{switch(t.type){case"added":return{main:l.$4.addedMain};case"focused":return{main:l.$4.openedMain};default:return{}}}))):{}}!function(e){e.toOption=function(e){return t=>{const{main:n,shade:i}=e(t);return{main:a.fromNullable(n),shade:a.fromNullable(i)}}}}(i||(i={}));const p=(0,o.HP)(s.Monitoring.Logging.getLogger)},40111:(e,t,n)=>{n.d(t,{A:()=>i});var i,r=n(27378),a=n(57050),o=n(40327),s=n(5739),l=n(59312),c=n(83078),u=n(5114),d=n(95300),p=n(78146),m=n(98036),h=function(){function e(e){this._keySelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this._keySelector))},e}(),f=function(e){function t(t,n){var i=e.call(this,t)||this;return i.destination=t,i._keySelector=n,i.attemptedToUnsubscribe=!1,i.count=0,i._currentGroup=u.none,i}return(0,l.__extends)(t,e),t.prototype._next=function(e){var t=this,n=this._keySelector(e);(0,o.pipe)(this._currentGroup,u.fold((function(){return t._createGroup(n,e)}),(function(i){var r=i.key,a=i.group;r!==n?(a.complete(),t._currentGroup=u.none,t._createGroup(n,e)):a.closed||a.next(e)})))},t.prototype._createGroup=function(e,t){var n=new d.X(t);this._currentGroup=u.some({key:e,group:n}),this.destination.next(new p.T(e,n,this))},t.prototype._error=function(e){(0,o.pipe)(this._currentGroup,c.tap((function(t){return t.group.error(e)}))),this._currentGroup=u.none,this.destination.error(e)},t.prototype._complete=function(){(0,o.pipe)(this._currentGroup,c.tap((function(e){return e.group.complete()}))),this._currentGroup=u.none,this.destination.complete()},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(m.L),g=n(19751),y=n(77176),v=n(66310),b=n(28043),C=n(76974),x=n(8125),w=n(44060),I=n(81531),S=n(63969),k=n(40219),E=n(84313),A=n(75316),T=n(29847),N=n(50224),O=n(32225),_=n(21882),j=n(19157),$=n(39271),P=n(36962),F=n(12138);!function(e){e.Mini=({card:e,actions:t})=>r.createElement(s.F.Fragment,null,e.pipe(y.U((e=>A.C.isToneAIItem(e)?r.createElement(F.Y.BundleMini,{card:e,actions:t}):A.C.isEthicalAIItem(e)?r.createElement($.T.Mini,{card:e,actions:t,useBundleContainer:!0}):A.C.isSmartPhrasesItem(e)?r.createElement(P.X.Mini,{card:e,actions:t,useBundleContainer:!0}):r.createElement(j.P.Bundle,{card:e,actions:t}))))),e.Full=({card:e,actions:n,renderCard:c})=>{const{isChecking:u,isCheckingGlobal:d,transform:p}=E.X.useCardStates(e),m=e=>(l("CardBundle").error("card type not supported:",e),null),f=e.pipe((e=>e.lift(new h((e=>e.activeAlert.id)))),v.w((e=>e.pipe(b.x(((e,t)=>e.activeAlertIndex===t.activeAlertIndex)),y.U((t=>({activeAlertIndex:t.activeAlertIndex,activeAlertId:t.activeAlert.id,card:(0,o.pipe)(e,b.x(((e,t)=>e.hashCode()===t.hashCode()&&e.visualState.transitionId===t.visualState.transitionId)),g.d({bufferSize:1,refCount:!0}))}))))))),x=(e,t)=>{const i=t.alerts.length,a=1===i?re.bundleInnerContainer:2===i?re.bundleInnerContainer2Cards:re.bundleInnerContainerNCards;return r.createElement(s.F.div,{className:a},c?c({card:t,actions:n,isChecking:u,isCheckingGlobal:d,transform:e}):r.createElement(_.J,{card:t,actions:n,isChecking:u,transform:e,isCheckingGlobal:d}))};return r.createElement(s.F.Fragment,null,e.pipe(y.U((l=>A.C.isIndependentBundleItem(l)?x(p,l):r.createElement(i,{card:e,actions:n},r.createElement(t,{state:f,stateToClassMapper:(e,t)=>{if(!e)return{prev:(0,T.EJ)(""),next:(0,T.EJ)("")};if(e.activeAlertId===t.activeAlertId)return{prev:(0,T.EJ)(re.inBundleToUpdatedCardOld),next:(0,T.EJ)(re.inBundleToUpdatedCardNew)};if(e.activeAlertIndex===t.activeAlertIndex)return{prev:(0,T.EJ)(re.inBundleToUpdatedCardOld),next:(0,T.EJ)(re.inBundleToUpdatedCardNew)};return e.activeAlertIndex<t.activeAlertIndex?{prev:(0,T.EJ)(re.inBundleToNextCardOld),next:(0,T.EJ)(re.inBundleToNextCardNew)}:{prev:(0,T.EJ)(re.inBundleToPrevCardOld),next:(0,T.EJ)(re.inBundleToPrevCardNew)}}},(e=>r.createElement(s.F.div,{className:e.view,onAnimationEnd:"prev"===e.type?e.done:a.constVoid},(0,o.pipe)(e.state.card,y.U((0,a.flow)(A.C.match({super:m,ethicalAI:m,smartPhrases:m,takeaway:t=>x("prev"===e.type?C.of(t.transform):p,t),sentenceLevelBrandTones:e=>x(p,e),synfony:t=>x("prev"===e.type?C.of(t.transform):p,t),shortenIt:t=>x("prev"===e.type?C.of(t.transform):p,t),toneAI:t=>x("prev"===e.type?C.of(t.transform):p,t),sdui:t=>x("prev"===e.type?C.of(t.transform):p,t),suggestedSnippet:t=>x("prev"===e.type?C.of(t.transform):p,t),default:t=>x("prev"===e.type?C.of(t.transform):p,t)}),E.X.foldCard)))))))))))};class t extends T.l5{}const n=({alertCount:e})=>1===e?r.createElement(r.Fragment,null):2===e?r.createElement("div",{className:re.bundleFakeCard1}):r.createElement(r.Fragment,null,r.createElement("div",{className:re.bundleFakeCard1}),r.createElement("div",{className:re.bundleFakeCard2})),i=({children:e,card:t,actions:i})=>r.createElement(s.F.div,{className:re.bundleCardWrapper},r.createElement(O.PS,{card:t,actions:i}),r.createElement(s.F.div,{className:re.cardBundleContainer},e,(0,o.pipe)((e=>(0,o.pipe)(e,y.U((e=>u.some(e.alerts.length)))))(t),y.U(u.map((e=>r.createElement(n,{key:e,alertCount:e})))),y.U(u.toNullable)))),l=(0,x.HP)(I.Monitoring.Logging.getLogger)}(i||(i={}));const D=.25,L="0 1px 8px rgba(109, 117, 141, .18)",B=S.u.keyframes({"0%":{transform:"scale(1)"},"100%":{transform:"scale(1)"}}),M=S.u.keyframes({from:{transform:"translateX(0)",opacity:1},to:{transform:"translateX(-100px)",opacity:0}}),R=S.u.keyframes({from:{transform:"translateX(-100px)",opacity:0},to:{transform:"translateX(0)",opacity:1}}),H=S.u.keyframes({from:{opacity:0,transform:"scale(.95) translateY(-15px)"},to:{opacity:1,transform:"scale(1) translateY(0)"}}),U=S.u.keyframes({from:{opacity:1,transform:"scale(1) translateY(0)"},to:{opacity:0,transform:"scale(.95) translateY(-15px)"}}),W={position:"relative",borderRadius:S.u.rem(k.Jr),background:w.Il.CoreNeutral0,boxShadow:L,zIndex:2},q={marginTop:S.u.rem(.75)},z={marginTop:S.u.rem(1.25)},V={position:"absolute",top:S.u.px(-5),right:S.u.rem(.5),left:S.u.rem(.5),zIndex:-1,display:"block",height:S.u.percent(100),borderRadius:S.u.rem(k.Jr),backgroundColor:w.Il.CoreNeutral1,boxShadow:L,content:"' '"},G={position:"absolute",top:S.u.px(-10),right:S.u.rem(1),left:S.u.rem(1),zIndex:-2,display:"block",height:S.u.rem(2),borderRadius:S.u.rem(k.Jr),backgroundColor:w.Il.CoreNeutral10,boxShadow:L,content:"' '"},Y={borderRadius:S.u.rem(.75),background:w.Il.CoreNeutral20,margin:`${S.u.rem(-.25)} ${S.u.rem(-.25)}`,padding:`${S.u.rem(.25)} ${S.u.rem(.25)}`,$nest:{[`& .${N.g.cozyCardContainerSelector}`]:{margin:0,boxShadow:"none"},[`& .${N.g.fullCardSelector}`]:{padding:`${S.u.rem(.75)} ${S.u.rem(.5)} ${S.u.rem(.5)} ${S.u.rem(1)}`},"& [role=dropdown-list]":{transform:`translateY(${S.u.rem(-.5)})`}}},K={position:"absolute",top:S.u.rem(.8),right:S.u.rem(1),margin:0},J={borderRadius:S.u.rem(k.Jr),background:w.Il.CoreNeutral0,boxShadow:L},X={display:"block",position:"absolute",top:0,$nest:{[`& .${N.g.bundleInnerContainerSelector}`]:{margin:0}}},Z={animation:`${U} ${S.u.seconds(D)} ease-out`},Q={animation:`${R} ${S.u.seconds(D)} ease-out`},ee={animation:`${M} ${S.u.seconds(D)} ease-in`},te={animation:`${H} ${S.u.seconds(D)} ease-in`},ne={display:"none",animation:`${B} ${S.u.seconds(D)} ease-in`},ie={animation:`${B} ${S.u.seconds(D)} ease-in`},re=Object.assign(Object.assign({},S.u.stylesheet({bundleInnerContainer:[W],bundleCardWrapper:[Y],minimalBetaLabel:[K],compactCardContainer:[J],cardBundleContainer:[{position:"relative",zIndex:2}],inBundleMovingCard:[X],inBundleToPrevCardOld:[X,Z],inBundleToPrevCardNew:[Q],inBundleToNextCardOld:[X,ee],inBundleToNextCardNew:[te],inBundleToUpdatedCardOld:[ne],inBundleToUpdatedCardNew:[ie]})),{bundleInnerContainer:S.u.joinClasses([N.g.bundleInnerContainerSelector,S.u.style(W)]),bundleInnerContainer2Cards:S.u.joinClasses([N.g.bundleInnerContainerSelector,S.u.style(W,q)]),bundleInnerContainerNCards:S.u.joinClasses([N.g.bundleInnerContainerSelector,S.u.style(W,z)]),bundleFakeCard1:S.u.joinClasses([N.g.bundleFakeCard1Selector,S.u.style(V)]),bundleFakeCard2:S.u.joinClasses([N.g.bundleFakeCard2Selector,S.u.style(G)])})},28584:(e,t,n)=>{n.d(t,{a0:()=>i,$x:()=>I,Im:()=>S,oL:()=>P});var i,r=n(27378),a=n(57050),o=n(40327),s=n(49524),l=n(12187),c=n(5114),u=n(83078),d=n(30763),p=n(66896),m=n(40018),h=n(17594),f=n(4890),g=n(7046),y=n(29245),v=n(21474),b=n(16951),C=n(3656),x=n(50224),w=n(36642);!function(e){e.none="none",e.persistent="persistent",e.new="new"}(i||(i={}));const I=({className:e,vox:t,isMinimalCard:n})=>{const{vox:{styleGuide:i}}=r.useContext(d.m.Context);return r.createElement("div",Object.assign({},(0,l.Sh)(e,w.h.voxTitle,n?w.h.minimalTitle:void 0)),r.createElement("span",null,t.companyName," ",i))},S=({logoUrl:e,className:t})=>r.createElement("img",Object.assign({src:e},(0,l.Sh)(t,w.h.voxLogo))),k=({title:e,layoutDensity:t})=>r.createElement(C.XY,{className:(0,o.pipe)(t,f.j.Density.matchOrDefault(f.j.Density.minimal)((()=>w.h.minimalTitle),(()=>w.h.toneTitle)))},r.createElement(y.dy,{emojiClassName:w.h.toneLogo},e));function E(e){return p.R.outcomeTypeMatch(e.lensType)({correctness:x.m.dotCorrectness,clarity:x.m.dotClarity,premium:x.m.dotAdvanced,engagement:x.m.dotEngagement,delivery:x.m.dotDelivery,vox:x.m.dotVox})}const A=({companyLogoUrl:e})=>{const t=r.useContext(d.m.Context).card.sentenceLevelBrandTones;return r.createElement(C.x4,{className:w.h.sentenceLevelBrandTonesLabel},e&&r.createElement("img",{src:e,className:w.h.toneLogo}),r.createElement("span",{className:w.h.sentenceLevelBrandTonesOffBrand},t.offBrandCardTitle)," ",t.detected)};function T(e,t,n,i,d){const{extraProperties:p}=e;return h.$.isTakeaway(e)?function(e,t,n){return{style:"",description:r.createElement("div",{className:(0,o.pipe)(t,f.j.Density.matchOrDefault(f.j.Density.minimal)((()=>w.h.minimalTitle),(()=>{})))},(u.contains(m.TO.correctlyDetected)(e.takeawayFeedback)||u.contains(m.TO.correctlyDetectedAndDone)(e.takeawayFeedback))&&e.takeawayIsLikelyToBeRead?r.createElement(v.JO.ValidationOk,Object.assign({width:16},(0,l.Sh)(w.h.cardLogo,w.h.takeawayIcon))):r.createElement(v.JO.Megaphone,Object.assign({width:16},(0,l.Sh)(w.h.cardLogo,w.h.takeawayIcon))),t===f.j.Density.minimal?n:e.lensName)}}(e,n,d):h.$.isSmartPhrases(e)?function(e){return{style:"",description:r.createElement("div",null,r.createElement(v.JO.SmartPhrases.HeaderCirclePlus,Object.assign({},(0,l.Sh)(w.h.cardLogo))),r.createElement(C.x4,{className:w.h.smartPhrasesLabel},e.miniCardTitle))}}(e):h.$.isSentenceLevelBrandTones(e)?function(e){const t=(0,o.pipe)(e.extraProperties.sentenceLevelBrandTones,c.chain((e=>e.companyLogoUrl)),c.fold(a.constNull,s.y));return{style:"",description:r.createElement(A,{companyLogoUrl:t})}}(e):h.$.isShortenIt(e)||h.$.isToneAI(e)?N(e,n,d):h.$.isEthicalAI(e)?function(e){return{style:"",description:r.createElement("div",null,r.createElement(v.JO.EthicalAI.Heart,Object.assign({},(0,l.Sh)(w.h.cardLogo))),r.createElement(C.x4,{className:w.h.ethicalAILabel},e.miniCardTitle))}}(e):h.$.isSuggestedSnippet(e)?function(e){return{style:E(e),description:r.createElement(C.XY,{className:w.h.minimalTitle},e.title)}}(e):c.isSome(p.tone)?function(e,t){return{style:E(e),description:r.createElement(k,{title:e.title,layoutDensity:t})}}(e,n):t?c.isSome(p.vox)?function(e,t){return{style:x.m.dotVox,description:r.createElement(r.Fragment,null,(0,o.pipe)(e.logoUrl,c.fold((()=>null),(e=>r.createElement(S,{logoUrl:e,className:w.h.cardLogo})))),r.createElement(I,{vox:e,isMinimalCard:t===f.j.Density.minimal}))}}(p.vox.value,n):h.$.isFree(e)?N(e,n,d):function(e,t,n){return{style:E(e),description:r.createElement("div",Object.assign({},(0,l.Sh)(w.h.dualItemLabel,(0,o.pipe)(n,f.j.Density.matchOrDefault(f.j.Density.minimal)((()=>w.h.minimalTitle),(()=>{}))))),r.createElement("span",{className:w.h.dualItemLabel},e.lensName,r.createElement(j,{highlightStyle:t})))}}(e,i,n):null}function N(e,t,n){return(0,o.pipe)(t,f.j.Density.matchOrDefault(f.j.Density.minimal)((()=>function(e,t){return{style:E(e),description:t||r.createElement(C.XY,{className:w.h.minimalTitle},e.miniCardTitle)}}(e,n)),(()=>function(e){return{style:E(e),description:e.lensName}}(e))))}const O=({label:e})=>r.createElement("span",{className:w.h.fluencyLabel},e,r.createElement(g.RZ,{iconWidth:10,buttonClass:w.h.fluencyInfo,iconClass:w.h.fluencyInfo,title:r.useContext(d.m.Context).card.fluency.tooltip})),_=({style:e,description:t})=>r.createElement("span",Object.assign({},(0,l.Sh)(w.h.lens,w.h.dot,e)),t),j=({highlightStyle:e})=>{const t=r.useContext(d.m.Context);if(e===i.none)return null;const n=e===i.new?r.createElement("div",{className:w.h.newPremiumLabel},t.premiumAlertLabel.new,r.createElement(v.JO.Paid,{className:w.h.newPremiumLabelIcon,width:12})):r.createElement(v.JO.Paid,{className:w.h.premiumPersistentTooltipIcon,width:10});return r.createElement(b.u,{align:"topCenter",title:t.premiumAlertLabel.tooltip.includedWithPaid},n)},$=({style:e,description:t,extraStyle:n})=>r.createElement("span",Object.assign({},(0,l.Sh)(n,w.h.lensMinimal,w.h.lens,w.h.dot,e)),t),P=e=>(0,o.pipe)(T(e.activeAlert,e.showCardLabel,e.layoutDensity,e.premiumAlertLabelHighlight,e.children),c.fromNullable,c.map((t=>r.createElement("div",{className:e.className},(0,o.pipe)(e.activeAlert.extraProperties.fluencyMessage,c.fold((()=>(0,o.pipe)(e.layoutDensity,f.j.Density.matchOrDefault(f.j.Density.minimal)((()=>r.createElement($,Object.assign({},t))),(()=>r.createElement(_,Object.assign({},t)))))),(n=>(0,o.pipe)(e.layoutDensity,f.j.Density.match(r.createElement(r.Fragment,null,r.createElement(_,Object.assign({},t)),r.createElement(O,{label:n})),r.createElement(_,Object.assign({},t)),r.createElement($,{style:t.style,extraStyle:w.h.minimalTitle,description:e.activeAlert.miniCardTitle}))))))))),c.fold((()=>r.createElement("div",{"data-purpose":"label-placeholder"})),(t=>r.createElement(F,null,t,e.badge)))),F=({children:e})=>r.createElement("div",{className:w.h.labelContainer},e)},74754:(e,t,n)=>{n.d(t,{y:()=>a});var i=n(28706);const r=["b","i","br","ul","li"];var a;!function(e){e.renderToHtml=function(e,t){const n=t?{allowedTags:r.concat(["a"]),linkRegExp:t}:{allowedTags:r};return i.yG(e,n)}}(a||(a={}))},66346:(e,t,n)=>{n.d(t,{Vh:()=>p,G3:()=>m,hC:()=>h});var i=n(27378),r=n(84966),a=n(30763),o=n(84313),s=n(15646),l=n(7046),c=n(21474),u=n(28706),d=n(36642);const p=({card:{activeAlert:e,id:t,visualState:n},actions:p,mode:m,className:f,disabled:g})=>{const y=i.useContext(a.m.Context);return i.createElement(l.zx.Tertiary,{key:"toggle-more",name:h(n,y),title:"mini"===m?h(n,y):"",className:f,disabled:g,onClick:u.hz((()=>{const i=o.X.isCardOpen(n);p.next({type:s.eI.Kind.startTransitionTo,id:t,transition:{type:i?"focused":"expanded",clockwise:!0}}),i||p.next({type:s.lY.Type.alertFeedback,alertId:e.id,feedbackType:r.PZ.EXPANDED})}))},o.X.isCardOpen(n)?i.createElement(c.JO.Arrow,{key:"more",className:d.h.lessIcon}):i.createElement(c.JO.QuestionMark,{key:"expand"}),"default"===m&&h(n,y))},m=({visualState:e,children:t,className:n})=>i.createElement("div",{className:(o.X.isCardOpen(e)?d.h.more:d.h.moreHidden)+" "+n},t);function h(e,t){const n=t.card;return o.X.isCardOpen(e)?n.less:n.more}},36642:(e,t,n)=>{n.d(t,{h:()=>k});var i=n(44060),r=n(63969),a=n(40219);const o={$nest:{"&:before":{position:"absolute",width:r.u.px(10),height:r.u.px(10),borderRadius:r.u.percent(50),content:"''",transform:"scale(.5)"}}},s={opacity:1,transition:"opacity .3s"},l={color:i.Il.CoreNeutral50,textTransform:"uppercase",letterSpacing:i.xv.SubheadingLetterSpacing,fontSize:r.u.rem(i.xv.SubheadingSize),lineHeight:r.u.rem(i.xv.SubheadingLineHeight),$nest:{"&:not(:last-child)":{marginRight:r.u.rem(.25)}}},c={position:"relative",display:"inline-block",$nest:{"&:before":{top:0,bottom:r.u.px(2),left:r.u.rem(-1.1),margin:"auto 0"}}},u={$nest:{"&:before":{top:0,bottom:0,left:r.u.rem(-1.1),margin:`${r.u.rem(.25)} 0 auto 0`}}},d={margin:`0 ${r.u.rem(.4)} 0 ${r.u.rem(.2)}`,width:r.u.rem(.85),height:r.u.rem(.85),objectFit:"contain"},p={position:"absolute",top:0,bottom:0,left:r.u.rem(-1),margin:"auto",background:i.Il.CoreNeutral0,transform:"translateX(-50%)"},m={minWidth:"initial",minHeight:"initial",padding:`${r.u.rem(.3)} ${r.u.rem(.25)}`,cursor:"pointer",borderRadius:r.u.percent(100),marginLeft:r.u.rem(.5),$nest:{"&:hover":{background:i.Il.CoreNeutral10}}},h={display:"flex",alignItems:"center",padding:`0 ${r.u.rem(.25)}`,borderRadius:r.u.rem(a.fx),cursor:"pointer",background:i.Il.CoreYellow20,color:i.Il.CoreYellow80,marginLeft:r.u.rem(.5),$nest:{"&:hover":{background:i.Il.CoreYellow10}}},f={minWidth:"initial",minHeight:"initial",fill:i.Il.CoreYellow80,marginLeft:r.u.rem(.3)},g={display:"flex",alignItems:"flex-start",top:r.u.rem(.125),minWidth:"initial",minHeight:"initial",background:i.Il.CoreNeutral0},y={color:i.Il.CoreNeutral90,textTransform:"none",letterSpacing:i.xv.SmallLetterSpacing,fontWeight:i.xv.SmallWeight,fontSize:r.u.rem(i.xv.SmallSize),lineHeight:r.u.rem(i.xv.SmallLineHeight),$nest:{"&:first-letter":{textTransform:"uppercase"}}},v={color:i.Il.CoreNeutral50,textTransform:"none"},b={width:r.u.rem(1),height:r.u.rem(1)},C={display:"inline-flex",padding:`0 ${r.u.rem(.25)}`,borderRadius:r.u.rem(a.fx),background:"linear-gradient(269.73deg, rgba(215, 248, 240, .8) .02%, rgba(202, 235, 250, .8) 99.98%)",textTransform:"uppercase"},x={display:"inline-flex",marginLeft:r.u.rem(.1),minWidth:0,minHeight:0},w={color:i.Il.CoreNeutral80,textTransform:"none"},I={width:r.u.rem(1),height:r.u.rem(1),marginRight:r.u.rem(.375)},S={color:i.Il.CoreRed60},k=r.u.stylesheet({lessIcon:[{transform:"rotate(180deg)"}],more:[s],moreHidden:[s,{position:"absolute",overflow:"hidden",height:0,opacity:0,transition:"none"}],commonLabel:[l],labelContainer:[{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"start"}],lens:[l,c],lensMinimal:[u],voxLogo:[d],cardLogo:[p],dualItemLabel:[{display:"inline-flex",alignItems:"center"}],premiumPersistentTooltipIcon:[m],newPremiumLabel:[h],newPremiumLabelIcon:[f],takeawayIcon:[g],minimalTitle:[y],voxTitle:[{display:"flex",alignItems:"center"}],toneTitle:[v],toneLogo:[p,b],fluencyLabel:[l,C],fluencyInfo:[x],dot:[o],smartPhrasesLabel:[{textTransform:"none"}],ethicalAILabel:[{textTransform:"none"}],sentenceLevelBrandTonesLabel:[w],sentenceLevelBrandTonesLabelImage:[I],sentenceLevelBrandTonesOffBrand:[S]})},1883:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(27378),r=n(5739),a=n(12187),o=n(63969),s=n(35108),l=n(50224);const c=e=>{const{shade:t}=(0,s.SA)(e.visualState);i.useEffect((()=>{t||e.onFocus()}),[]);const n=e.theme||{};return i.createElement(r.F.div,{className:n.container},e.header,i.createElement(r.F.div,{className:n.innerContainer},i.createElement(r.F.div,Object.assign({},(0,a.Sh)(b.wrapper,n.wrapper),{onMouseOver:e.onMouseOver,onMouseOut:e.onMouseOut}),i.createElement(r.F.div,Object.assign({},(0,a.Sh)(b.grid,n.content)),i.createElement(r.F.div,Object.assign({},(0,a.Sh)(b.mainContent,n.contentBody)),e.body),e.footer?i.createElement("div",{className:b.footerContent},e.footer):null,e.subActions||e.navigation||e.mainActions?i.createElement("div",{className:b.actions},e.subActions,i.createElement("div",{className:b.spacerOne}),e.navigation,i.createElement("div",{className:b.spacerFloat}),e.mainActions):null)),e.extra))},u="& > * + *",d=.75,p={position:"relative"},m={padding:`${o.u.rem(1)} ${o.u.rem(.5)} ${o.u.rem(d)} ${o.u.rem(1)}`},h={padding:`0 ${o.u.rem(.5)} 0 ${o.u.rem(1)}`,$nest:{[u]:{marginTop:o.u.rem(d)}}},f={padding:`0 ${o.u.rem(.5)} 0 ${o.u.rem(1)}`,$nest:{[u]:{marginTop:o.u.rem(d)}}},g={display:"flex",marginLeft:o.u.rem(.5),justifyContent:"space-between",$nest:{"& > *":{flexShrink:0}}},y={width:o.u.rem(1),flexShrink:1},v={$nest:{[u]:{marginTop:o.u.rem(d)}}},b=Object.assign(Object.assign({},o.u.stylesheet({mainContent:[h],footerContent:[f],actions:[g],spacerOne:[y],spacerFloat:[{flex:1}],grid:[v]})),{fullCard:o.u.joinClasses([l.g.fullCardSelector,o.u.style(p)]),wrapper:o.u.joinClasses([l.g.fullCardSelector,o.u.style(p,m)])})},32225:(e,t,n)=>{n.d(t,{PS:()=>ut,mQ:()=>lt,o:()=>ot,jt:()=>st,UK:()=>Ct,Kg:()=>Ue,dk:()=>Be,U4:()=>He,lJ:()=>Ke,hl:()=>it,__:()=>nt,M9:()=>dt,ko:()=>Me,hT:()=>Ze,q4:()=>Je,Dx:()=>Qe,jg:()=>et,Ot:()=>tt,Nm:()=>Ye,VM:()=>wt,eb:()=>It,k_:()=>an,LM:()=>St,m_:()=>rt,Bn:()=>on,Gq:()=>kt,IH:()=>Et,ce:()=>xt});var i,r,a=n(27378),o=n(57050),s=n(40327),l=n(12187),c=n(5739),u=n(38983),d=n(59312),p=n(8125),m=n(22232),h=n(5114),f=n(99596),g=n(24153),y=function(){function e(e,t,n){this._url=e,this._ajaxFactory=t,this._fingerprints=n,this._ajax=this._ajaxFactory({errorMapper:f.tk.mapToHTTPErrorWithoutBody,requestExtender:g.d3.toHeaderAppender(this._fingerprints)})}return e.prototype.orAnonymous=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=f.cl.get(this._url,"user/oranonymous").queryParam("app",this._fingerprints.clientName);return e.forEach((function(e){return n.queryParam("field",e)})),this._ajax.json(n)},e.prototype.signup=function(e){var t=f.cl.post(this._url,"api/signup").json(e);return this._ajax.json(t)},e.prototype.createPartialUser=function(e){var t=f.cl.post(this._url,"user/partial").formParam("email",e);return this._ajax.empty(t)},e.prototype.getAuthInfo=function(e){var t=f.cl.post(this._url,"/auth/info").json({email:e});return this._ajax.json(t)},e.prototype.login=function(e,t){var n={email_login:{email:e,password:t}};return this.loginGeneric(n)},e.prototype.loginGeneric=function(e){var t=f.cl.post(this._url,"api/login").json(e);return this._ajax.json(t)},e.prototype.captchaVerify=function(e){var t=f.cl.post(this._url,"api/login/captcha-verify").json({googleReCaptchaToken:e});return this._ajax.json(t)},e.prototype.logout=function(){var e=f.cl.post(this._url,"/logout");return this._ajax.empty(e)},e.prototype.changeName=function(e){var t=f.cl.post(this._url,"/user").json({name:e});return this._ajax.empty(t)},e.prototype.changeEmail=function(e,t){var n=f.cl.post(this._url,"/user/email/change").json({newEmail:e,password:t});return this._ajaxCheckLegacyOk(n)},e.prototype.confirmEmailChangeRequest=function(e){var t=f.cl.get(this._url,"user/email/change/confirm").queryParam("follow",(!1).toString());return Boolean(e)&&t.queryParam("confirm_key",e),this._ajax.empty(t)},e.prototype.migrateAccountToNewEmailLogin=function(e,t){var n=f.cl.post(this._url,"account/authentication/migrate-to-email-login").json({loginRequest:e,newPassword:t});return this._ajax.json(n)},e.prototype.cancelEmailChangeRequest=function(e){var t=f.cl.post(this._url,"/user/email/cancel").json({email:e});return this._ajaxCheckLegacyOk(t)},e.prototype.changePassword=function(e,t,n){var i=f.cl.post(this._url,"/user/password/change").formParam("email",e).formParam("new_pwd",n).formParam("old_pwd",t);return this._ajaxCheckLegacyOk(i)},e.prototype.resetPassword=function(e){var t=f.cl.post(this._url,"/user/password/reset").formParam("email",e);return this._ajaxCheckLegacyOk(t)},e.prototype.setPassword=function(e,t){var n=f.cl.post(this._url,"/user/password/set").formParam("new_pwd",e);return Boolean(t)&&n.queryParam("reset_key",t),this._ajaxCheckLegacyOk(n)},e.prototype.validatePasswordResetKey=function(e){var t=f.cl.get(this._url,"/user/validate_reset_key");return Boolean(e)&&t.queryParam("reset_key",e),this._ajaxCheckLegacyOk(t)},e.prototype.validatePassword=function(e,t){var n=f.cl.post(this._url,"/user/validate-password").json({password:e,invisibleCaptchaToken:t});return this._ajax.json(n)},e.prototype.getUser=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=f.cl.get(this._url,"user").queryParam("app",this._fingerprints.clientName);return e.forEach((function(e){return n.queryParam("field",e)})),(0,s.pipe)(this._ajax.json(n),this._ajax.map(x))},e.prototype.addGroup=function(e){var t=f.cl.post(this._url,"user/group").formParam("group",e);return this._ajaxCheckLegacyOk(t)},e.prototype.setUserData=function(e){var t=f.cl.post(this._url,"user/userdata").json(e);return this._ajaxCheckLegacyOk(t)},e.prototype.getAccountSettings=function(){var e=f.cl.get(this._url,"/account/settings");return(0,s.pipe)(this._ajax.json(e),this._ajax.map((function(e){var t=e.trusted,n=e.modes,i=e.enabledAt;return{trusted:t,modes:new Set(n),enabledAt:(0,s.pipe)(i,h.fromNullable,h.map((function(e){return new Date(e)})))}})))},e.prototype.startAdminEmailChange=function(e){var t=f.cl.post(this._url,"user/admin_change/email").json({newEmail:e});return this._ajaxCheckLegacyOk(t)},e.prototype.approveAdminEmailChangeRequest=function(e){var t=f.cl.post(this._url,"user/admin_email/approve_change");return t.json(Boolean(e)?{confirmKey:e}:void 0),this._ajax.json(t)},e.prototype.sendConfirmationEmail=function(e){var t=f.cl.post(this._url,"user/email/confirmation/send").json({source:e});return this._ajax.empty(t)},e.prototype.confirm=function(e){var t=f.cl.post(this._url,"user/email/confirmation/confirm");return t.json(Boolean(e)?{confirmKey:e}:void 0),this._ajax.empty(t)},e.prototype.sendVerificationEmail=function(e){var t=f.cl.post(this._url,"user/email/verification/send").json({source:e});return this._ajax.empty(t)},e.prototype.verifyVerificationEmail=function(e){var t=f.cl.post(this._url,"user/email/verification/verify").json({code:e});return this._ajax.empty(t)},e.prototype.sendEmailVerificationByLink=function(e){var t=f.cl.post(this._url,"user/email/verification/send-link").json({source:e});return this._ajax.empty(t)},e.prototype.verifyEmailVerificationByLink=function(e){var t=f.cl.post(this._url,"/user/email/verification/verify-link").json();return Boolean(e)&&t.cookie("confirm_key",e),this._ajax.empty(t)},e.prototype.sendEmailChangeCode=function(e){var t=f.cl.post(this._url,"account/email/change/send-email-change-code").json({newEmail:e});return this._ajax.empty(t)},e.prototype.verifyEmailChangeCode=function(e,t,n){var i=f.cl.post(this._url,"account/email/change/confirm-email-change").json({newEmail:e,password:t,code:n});return this._ajax.json(i)},e.prototype.getUserEmailByConfirmKey=function(e){var t=f.cl.post(this._url,"user/confirm_key_email");return t.json(Boolean(e)?{confirmKey:e}:void 0),(0,s.pipe)(this._ajax.json(t),this._ajax.map((function(e){return e.email})))},e.prototype.unlinkSocial=function(e){var t=f.cl.del(this._url,"user/unlinkSocial/"+e);return this._ajax.empty(t)},e.prototype.verifyEmail=function(e){var t=f.cl.post(this._url,"signup/verify/email").formParam("email",e);return this._ajax.json(t)},e.prototype.oAuthAuthorizationRequest=function(e,t){var n=f.cl.post(this._url,"api/unified-login/code/generate").json({client_id:e,code_challenge:t});return this._ajax.json(n)},e.prototype.oAuthCodeExchangeRequest=function(e,t,n){var i=f.cl.post(this._url,"api/unified-login/code/exchange").json({client_id:e,code:t,code_verifier:n});return this._ajax.json(i)},e.prototype.getBackupCodes=function(){var e=f.cl.get(this._url,"account/mfa/backup");return this._ajax.json(e)},e.prototype.generateNewCodes=function(){var e=f.cl.post(this._url,"account/mfa/setup/backup");return this._ajax.json(e)},e.prototype.startSmsSetup=function(e){var t=f.cl.post(this._url,"account/mfa/setup/sms").json({deviceKey:e});return(0,s.pipe)(this._ajax.json(t),this._ajax.map((function(e){return e.lastDigits})))},e.prototype.startTotpSetup=function(){var e=f.cl.post(this._url,"account/mfa/setup/totp");return this._ajax.json(e)},e.prototype.verifyMfaCode=function(e,t){void 0===t&&(t="sms");var n=f.cl.post(this._url,"account/mfa/setup/complete").json({code:e,mode:t});return(0,s.pipe)(this._ajax.json(n),this._ajax.map((function(e){return e||[]})))},e.prototype.removeMode=function(e){var t=f.cl.post(this._url,"account/mfa/remove/"+e);return this._ajax.empty(t)},e.prototype.revokeAll=function(){var e=f.cl.post(this._url,"account/mfa/revokeAll");return this._ajax.empty(e)},e.prototype.turnOffMfa=function(){var e=f.cl.post(this._url,"account/mfa/removeAll");return this._ajax.empty(e)},e.prototype.setDataControl=function(e){var t=f.cl.post(this._url,"account/data-control").json({enabled:e});return this._ajax.empty(t)},e.prototype._ajaxCheckLegacyOk=function(e){return(0,s.pipe)(this._ajax.json(e),this._ajax.filterOrElse((function(e){return e.ok}),(function(){return new C("response not ok")})),this._ajax.map(p.ZT))},e.prototype.deleteAccount=function(e){var t=f.cl.post(this._url,"account/delete").json(e);return this._ajax.empty(t)},e.prototype.getSecurityOverview=function(){var e=f.cl.get(this._url,"account/overview");return this._ajax.json(e)},e.prototype.getDeviceSessions=function(e,t){var n=f.cl.get(this._url,"account/relations").queryParam("limit",e.toString()).queryParam("offset",t.toString());return this._ajax.json(n)},e.prototype.getSecurityActivity=function(e,t,n){var i=f.cl.get(this._url,"account/activity");return void 0!==e&&i.queryParam("tokenId",e.toString()),void 0!==t&&i.queryParam("limit",t.toString()),void 0!==n&&i.queryParam("order",n.toString()),this._ajax.json(i)},e.prototype.revokeDeviceSession=function(e){var t=f.cl.del(this._url,"account/relations").pathParam(e);return this._ajax.empty(t)},e.prototype.revokeAllDeviceSessions=function(){var e=f.cl.del(this._url,"account/relations");return this._ajax.empty(e)},e.targetTag="auth",e}();!function(e){e.none="NONE",e.email="EMAIL",e.google="GOOGLE",e.facebook="FACEBOOK",e.apple="APPLE",e.sso="SSO"}(i||(i={})),function(e){!function(e){e.Afrikaans="Afrikaans",e.Akan="Akan",e.AlgerianSpokenArabic="Algerian Spoken Arabic",e.Amharic="Amharic",e.Assamese="Assamese",e.Awadhi="Awadhi",e.Bamanankan="Bamanankan",e.Baoule="Baoul",e.Bavarian="Bavarian",e.Bemba="Bemba",e.Bengali="Bengali",e.Betawi="Betawi",e.Bhojpuri="Bhojpuri",e.BoranaArsiGujiOromo="Borana-Arsi-Guji Oromo",e.Bugis="Bugis",e.Bulgarian="Bulgarian",e.Bundeli="Bundeli",e.Burmese="Burmese",e.CameroonPidgin="Cameroon Pidgin",e.Catalan="Catalan",e.Cebuano="Cebuano",e.CentralAtlasTamazight="Central Atlas Tamazight",e.CentralKurdish="Central Kurdish",e.CentralPashto="Central Pashto",e.Chhattisgarhi="Chhattisgarhi",e.Chichewa="Chichewa",e.Chittagonian="Chittagonian",e.CongoSwahili="Congo Swahili",e.Croatian="Croatian",e.Czech="Czech",e.Danish="Danish",e.Dari="Dari",e.Deccan="Deccan",e.Dholuo="Dholuo",e.Dutch="Dutch",e.EasternOromo="Eastern Oromo",e.EasternPunjabi="Eastern Punjabi",e.EgyptianSpokenArabic="Egyptian Spoken Arabic",e.English="English",e["we"]="w",e.Filipino="Filipino",e.Finnish="Finnish",e.French="French",e.GanChinese="Gan Chinese",e.Ganda="Ganda",e.GhanaianPidginEnglish="Ghanaian Pidgin English",e.Gikuyu="Gikuyu",e.Greek="Greek",e.Gujarati="Gujarati",e.GulfSpokenArabic="Gulf Spoken Arabic",e.HadramiSpokenArabic="Hadrami Spoken Arabic",e.HaitianCreole="Haitian Creole",e.HakkaChinese="Hakka Chinese",e.Haryanvi="Haryanvi",e.Hassaniyya="Hassaniyya",e.Hausa="Hausa",e.Hebrew="Hebrew",e.HijaziSpokenArabic="Hijazi Spoken Arabic",e.Hiligaynon="Hiligaynon",e.Hindi="Hindi",e.HuizhouChinese="Huizhou Chinese",e.Hungarian="Hungarian",e.Ibibio="Ibibio",e.Igbo="Igbo",e.Ilocano="Ilocano",e.IndianSignLanguage="Indian Sign Language",e.Indonesian="Indonesian",e.IranianPersian="Iranian Persian",e.Italian="Italian",e.Japanese="Japanese",e.Javanese="Javanese",e.JinyuChinese="Jinyu Chinese",e.Jula="Jula",e.Kabyle="Kabyle",e.Kamba="Kamba",e.Kanauji="Kanauji",e.Kannada="Kannada",e.Kashmiri="Kashmiri",e.Kazakh="Kazakh",e.Khmer="Khmer",e.Kinyarwanda="Kinyarwanda",e.Kituba="Kituba",e.Koongo="Koongo",e.Korean="Korean",e.Krio="Krio",e.Kyrgyz="Kyrgyz",e.Lambadi="Lambadi",e.Lao="Lao",e.LibyanSpokenArabic="Libyan Spoken Arabic",e.Lombard="Lombard",e.LubaKasai="Luba-Kasai",e.Madura="Madura",e.Magahi="Magahi",e.Maithili="Maithili",e.Malay="Malay",e.Malayalam="Malayalam",e.Malvi="Malvi",e.MandarinChinese="Mandarin Chinese",e.Marathi="Marathi",e.Marwari="Marwari",e.MesopotamianSpokenArabic="Mesopotamian Spoken Arabic",e.Mewari="Mewari",e.MinBeiChinese="Min Bei Chinese",e.MinDongChinese="Min Dong Chinese",e.MinNanChinese="Min Nan Chinese",e.Minangkabau="Minangkabau",e["More"]="Mor",e.MoroccanSpokenArabic="Moroccan Spoken Arabic",e.NajdiSpokenArabic="Najdi Spoken Arabic",e.NapoletanoCalabrese="Napoletano-Calabrese",e.Nepali="Nepali",e.NigerianFulfulde="Nigerian Fulfulde",e.NigerianPidgin="Nigerian Pidgin",e.NorthAzerbaijani="North Azerbaijani",e.NorthLevantineSpokenArabic="North Levantine Spoken Arabic",e.NorthMesopotamianSpokenArabic="North Mesopotamian Spoken Arabic",e.NortheasternThai="Northeastern Thai",e.NorthernKurdish="Northern Kurdish",e.NorthernPashto="Northern Pashto",e.NorthernSotho="Northern Sotho",e.NorthernThai="Northern Thai",e.NorthernUzbek="Northern Uzbek",e.Norwegian="Norwegian",e.Odia="Odia",e.ParaguayanGuarani="Paraguayan Guaran",e.PlateauMalagasy="Plateau Malagasy",e.Polish="Polish",e.Portuguese="Portuguese",e.Pulaar="Pulaar",e.Pular="Pular",e.Rangpuri="Rangpuri",e.Romanian="Romanian",e.Rundi="Rundi",e.Russian="Russian",e.SaidiSpokenArabic="Saidi Spoken Arabic",e.Sadri="Sadri",e.SanaaniSpokenArabic="Sanaani Spoken Arabic",e.Sango="Sango",e.Sanskrit="Sanskrit",e.Santhali="Santhali",e.Saraiki="Saraiki",e.Serbian="Serbian",e.Setswana="Setswana",e.Shona="Shona",e.Sicilian="Sicilian",e.Sindhi="Sindhi",e.Sinhala="Sinhala",e.Slovak="Slovak",e.Somali="Somali",e.SouthAzerbaijani="South Azerbaijani",e.SouthLevantineSpokenArabic="South Levantine Spoken Arabic",e.SouthernBalochi="Southern Balochi",e.SouthernPashto="Southern Pashto",e.SouthernSotho="Southern Sotho",e.SouthernThai="Southern Thai",e.SouthernUzbek="Southern Uzbek",e.Spanish="Spanish",e.StandardArabic="Standard Arabic",e.StandardGerman="Standard German",e.SudaneseSpokenArabic="Sudanese Spoken Arabic",e.Sukuma="Sukuma",e.Sunda="Sunda",e.Swahili="Swahili",e.Swati="Swati",e.Swedish="Swedish",e.SwissGerman="Swiss German",e.Sylheti="Sylheti",e.TaizziAdeniSpokenArabic="Taizzi-Adeni Spoken Arabic",e.Tachelhit="Tachelhit",e.Tagalog="Tagalog",e.Tajik="Tajik",e.Tamil="Tamil",e.Tarifit="Tarifit",e.Tatar="Tatar",e.Telugu="Telugu",e.Thai="Thai",e.Tigrigna="Tigrigna",e.Tiv="Tiv",e.TokPisin="Tok Pisin",e.Tsonga="Tsonga",e.TunisianSpokenArabic="Tunisian Spoken Arabic",e.Turkish="Turkish",e.Turkmen="Turkmen",e.Ukrainian="Ukrainian",e.Umbundu="Umbundu",e.Urdu="Urdu",e.Uyghur="Uyghur",e.VarhadiNagpuri="Varhadi-Nagpuri",e.Venetian="Venetian",e.Vietnamese="Vietnamese",e.WestCentralOromo="West Central Oromo",e.WesternPunjabi="Western Punjabi",e.Wolof="Wolof",e.WuChinese="Wu Chinese",e.Xhosa="Xhosa",e.XiangChinese="Xiang Chinese",e.YerwaKanuri="Yerwa Kanuri",e.Yoruba="Yoruba",e.YueChinese="Yue Chinese",e.Zulu="Zulu",e.Other="Other"}(e.PrimaryLanguage||(e.PrimaryLanguage={}))}(r||(r={})),function(e){!function(e){e.webChrome="webeditor_chrome",e.webFirefox="webeditor_firefox",e.webSafari="webeditor_safari",e.webIE="webeditor_ie",e.webEdge="webeditor_edge",e.desktop="desktopeditor",e.webTest="webeditor_test",e.unknown="webeditor_unknown",e.crossPlatformOfficeAddin="crossPlatformOfficeAddin",e.ipadEditor="mobile-ios"}(e.ClientType||(e.ClientType={})),function(e){e.PasswordTooShort="PasswordTooShort",e.PasswordTooShortUnifiedValidationFalse="PasswordTooShortUnifiedValidationFalse",e.PasswordTooLong="PasswordTooLong",e.PasswordEqualsEmail="PasswordEqualsEmail",e.PasswordEqualsName="PasswordEqualsName",e.PasswordEqualsNameFromEmail="PasswordEqualsNameFromEmail",e.PasswordInCustomFields="PasswordInCustomFields",e.PasswordLeaked="PasswordLeaked",e.PasswordReused="PasswordReused",e.ValidationPassed="ValidationPassed"}(e.PasswordValidationReason||(e.PasswordValidationReason={}))}(y||(y={}));var v,b,C=function(e){function t(t){var n=e.call(this,t)||this;return n.name="AuthApiError",n}return(0,d.__extends)(t,e),t}(m.sH);function x(e){var t=e.institutionInfo,n=(0,d.__rest)(e,["institutionInfo"]);return void 0!==t?(0,d.__assign)((0,d.__assign)({},n),{institutionInfo:w(t)}):e}function w(e){var t=e.voxInfo,n=e.voxEnabled,i=(0,d.__rest)(e,["voxInfo","voxEnabled"]);return(0,d.__assign)((0,d.__assign)({},i),{voxEnabled:n,vox:(0,s.pipe)(h.fromNullable(t),h.chain((function(e){return n&&e.styleGuideEnabled?h.some({companyName:Boolean(e.companyName)?e.companyName:"Company",logoUrl:h.fromNullable(e.logoUrl)}):h.none})))})}!function(e){!function(e){e.MobileIOS="mobile-ios",e.MobileAndroid="mobile-android",e.AndroidSDK="androidSDK",e.SafariExtension="extension-safari",e.OfficeAddin="office-addin",e.DesktopEditor="desktopeditor",e.DesktopEditorOSX="desktopEditorOsx",e.DesktopEditorWindows="desktopEditorWindows",e.WindowsExtension="windowsExtension",e.MacExtension="macExtension",e.ExtensionVSCode="extensionVSCode",e.ExtensionVSCodeInsiders="extensionVSCodeInsiders",e.Funnel="funnel"}(e.ClientId||(e.ClientId={}))}(v||(v={})),function(e){!function(e){e.phone="sms",e.totp="totp",e.backup="backup",e.email="email"}(e.Mode||(e.Mode={}))}(b||(b={})),function(e){e.emptyInstitutionInfo={id:-1,name:"",licenseDiscountinued:!1,domainValidation:!1,admin:!1,business:!1,expired:!1},e.emptyUserEditorFeatures={fullCards:!1,plagiarismDisabled:!1,proofit:!1,quickReplacement:!1,scoreDisabled:!1},function(e){e.Owner="OWNER",e.Contributor="CONTRIBUTOR",e.InstitutionUser="INSTITUTION_USER"}(e.InstitutionRoleName||(e.InstitutionRoleName={})),function(e){e.Owner="OWNER",e.Contributor="CONTRIBUTOR"}(e.WorkspaceRoleName||(e.WorkspaceRoleName={}))}(r||(r={}));var I=n(84966),S=n(83078),k=n(18208),E=n(44060),A=n(81531),T=n(63969),N=n(24588),O=n(40219),_=n(71284),j=n(30763),$=n(40018),P=n(17594),F=n(84313),D=n(91549),L=n(15646),B=n(75316),M=n(4890),R=n(51006),H=n(8313),U=n(62310),W=n(7046),q=n(24811),z=n(95286),V=n(21474),G=n(50790),Y=n(63847),K=n(42329),J=n(16951),X=n(97528),Z=n(3656),Q=n(85255),ee=n(60797),te=n(2291),ne=n(28706),ie=n(66310),re=n(49708),ae=n(2834),oe=n(95093),se=n(24209),le=n(40151),ce=n(17343),ue=n(77176),de=n(32952),pe=n(2844),me=n(85985),he=n(55935),fe=n(50224),ge=n(28584),ye=n(74754),ve=n(66346),be=n(1883),Ce=n(26662),xe=n(14532);const we=({examples:e,layoutDensity:t})=>a.createElement(Z.ZT,{nodeType:"table",styleType:Z.ZT.Type.Base,className:$e.wrapper},e.map(((e,n)=>a.createElement("tbody",{key:n,className:$e.group},e.map((({text:e,title:n,color:i,hasItalic:r},o)=>a.createElement("tr",{key:o,className:(0,s.pipe)(t,M.j.Density.matchL((()=>$e.item),(()=>$e.itemCompact),(()=>$e.itemMinimal)))},(0,s.pipe)(n,h.map((e=>a.createElement("td",{className:xe.J.colorMatch(i)($e)},(e=>e.split("/").reduce(((e,t,n)=>(0!==n&&e.push(a.createElement("br",{key:n})),e.push(t),e)),[]))(e)))),h.toNullable),a.createElement("td",Object.assign({colSpan:h.isNone(n)?2:void 0,className:r?$e.content:$e.contentItalic},ne.yG(e)))))))))),Ie={$nest:{"&:not(:last-child):after":{display:"block",height:T.u.rem(1.75),content:"''"}}},Se={$nest:{"&:not(:last-child)":{borderBottom:`${T.u.rem(.5)} solid transparent`}}},ke={display:"flex",flexDirection:"column",lineHeight:T.u.rem(1.3125)},Ee={padding:0,verticalAlign:"top",lineHeight:T.u.rem(1.25)},Ae={paddingRight:T.u.rem(2),verticalAlign:"top",whiteSpace:"nowrap"},Te={color:E.Il.CoreNeutral50,fontFeatureSettings:`${O.g_}, ${O.xL}`},Ne={color:E.Il.CoreRed50},Oe={color:E.Il.CoreGreen60},_e={color:E.Il.CoreNeutral90},je={color:E.Il.CoreNeutral90},$e=T.u.stylesheet({wrapper:[{borderCollapse:"collapse",userSelect:"initial"}],group:[Ie],item:[Se],itemCompact:[Se,{display:"flex",flexDirection:"column"}],itemMinimal:[Se,ke],baseBlock:[Ee],title:[Ee,Ae],content:[Ee,Te],contentItalic:[Ee,Te,{fontStyle:"italic"}],red:[Ee,Ae,Ne],green:[Ee,Ae,Oe],yellow:[Ee,Ae,_e],fallback:[Ee,Ae,je]});var Pe=n(88702),Fe=n(19025);const De=(0,p.HP)(A.Monitoring.Logging.getLogger);var Le;!function(e){e.actionRegex=/^#([\w\d_-]+)$/,e.parse=t=>(0,s.pipe)(h.fromNullable(t.match(e.actionRegex)),h.chain((e=>{switch(e[1]){case"set-goals":return h.some(L.lY.Type.openSetGoals);case"ideas-gallery":return h.some(L.lY.Type.openIdeasGallery);default:return h.none}})))}(Le||(Le={}));const Be=({description:e,actions:t,layoutDensity:n,className:i})=>{const r=a.useContext(j.m.Context),o=a.useContext(X.G.Context),{ref:c,onMount:u}=Q.P.useElWatcher();Q.P.useSubscriptionTo(c.pipe(ee.oA,ie.w((e=>Array.from(e.getElementsByTagName("a")).reduce(((e,n)=>{const i=re.R(n,"click").pipe(ae.b((e=>e.preventDefault())));return(0,s.pipe)(h.fromNullable(n.getAttribute("href")),h.chain(Le.parse),h.fold((()=>(De("Description").error("Invalid action",n),e.pipe(oe.T(i)))),(a=>se.T(e,a in r.card.actionDescription&&a!==L.lY.Type.openIdeasGallery?o.getTooltipObservable(n,r.card.actionDescription[a],"auto",h.none):le.E,i.pipe(ce.h({type:a}),ae.b(t))))))}),le.E)))));const d=(0,s.pipe)(n,M.j.Density.matchOrDefault(M.j.Density.minimal)((()=>ln.minimalDescription),(()=>ln.description)));return a.createElement(Z.XY,Object.assign({mount:u},(0,l.Sh)(d,i),ye.y.renderToHtml(e,Le.actionRegex)))},Me=({card:e,isChecking:t})=>$.bZ.isRated(e.activeAlert)?a.createElement(q.B,{value:F.X.isCardPresuccess(e.visualState)?te.g.MAX:e.meta.percentile,initValue:F.X.isCardPresuccess(e.visualState)?e.meta.percentile:te.g.MIN,isLoading:t}):null,Re=({card:e})=>{const t=(0,q.N)(F.X.isCardPresuccess(e.visualState)?te.g.MAX:e.meta.percentile,F.X.isCardPresuccess(e.visualState)?e.meta.percentile:te.g.MIN);return a.createElement(c.F.Fragment,null,t.pipe(ue.U(te.g.prism.reverseGet),ue.U((e=>a.createElement(Y.P,{percentage:e,colorType:Y.P.ColorType.neoBlue,iconSize:Y.P.IconSize.extraSmall,theme:{radialProgressBar:ln.circleProgress,radialProgressText:ln.circleText}})))))},He=({card:e,feedbackActions:t,onClick:n,disabled:i})=>{const r=a.useContext(j.m.Context);return a.createElement(W.zx.Ghost,{name:"ignore",title:r.dismiss,onClick:ne.hz((()=>{t.next({type:L.lY.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:F.X.isEligibleForDismissSurvey(e),drilldownSuggestionIds:B.C.isSynfonyItem(e)?(0,s.pipe)(e.synfonySelection,h.getOrElse((()=>[]))):void 0}),n&&n()})),disabled:i},a.createElement(V.JO.Ignore,null))},Ue=({card:e,feedbackActions:t,disabled:n,onClickDismissButton:i,alwaysShowWrongAndOffensiveButtons:r})=>a.createElement(a.Fragment,null,a.createElement(He,{card:e,feedbackActions:t,onClick:i,disabled:n}),a.createElement(Ve,{activeAlert:e.activeAlert,onMute:(0,s.pipe)(e.muteCategory,h.map((n=>ne.hz((()=>t.next({type:L.lY.Type.muteAlertCategory,categoryId:n.id,id:e.id,viewType:e.activeAlert.type})))))),onWrong:ne.hz(ne.hz((()=>t.next({type:L.lY.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:I.PZ.WRONG_SUGGESTION})))),onOffensive:ne.hz(ne.hz((()=>t.next({type:L.lY.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:I.PZ.OFFENSIVE_CONTENT})))),onVisibilityChange:e=>t.next({type:L.lY.Type.moreActionsButtonToggle,mode:e?"open":"closed"}),disabled:n,alwaysShowWrongAndOffensiveButtons:r})),We=({onClick:e})=>{const t=a.useContext(j.m.Context);return a.createElement(W.zx.Flat,{name:"mute",onClick:e},a.createElement(V.JO.Mute,null),t.card.mute)},qe=({onClick:e})=>{const t=a.useContext(j.m.Context);return a.createElement(W.zx.Flat,{name:"incorrect",onClick:e},a.createElement(V.JO.Report,null),t.card.wrong)},ze=({activeAlert:e,onClick:t})=>{const n=a.useContext(j.m.Context);return(0,s.pipe)(e.extraProperties.vox,S.mapOrDefault((()=>null),a.createElement(W.zx.Flat,{name:"offensive",onClick:t},a.createElement(V.JO.Report,null),n.card.offensive)))},Ve=({activeAlert:e,onMute:t,onWrong:n,onOffensive:i,onVisibilityChange:r,disabled:l,alwaysShowWrongAndOffensiveButtons:c=!1})=>{const u=h.isSome(e.getTransform()),d=h.isSome(t),p=a.createElement(a.Fragment,null,d&&a.createElement(z.L.Delimiter,null),a.createElement(qe,{onClick:n}),a.createElement(ze,{activeAlert:e,onClick:i}));return d||u||c?a.createElement(z.L,{label:a.createElement(W.zx.Ghost,{name:"moreActions",disabled:l},a.createElement(V.T1.MoreVertical,null)),align:"right",theme:{dropdownContainer:ln.dropdownContainer},name:"moreActions",onVisibilityChange:r},(0,s.pipe)(t,h.map((e=>a.createElement(We,{onClick:e}))),S.orNull),(0,s.pipe)(u,h.fromPredicate(o.identity),h.map((()=>p)),S.orElse((0,s.pipe)(c,h.fromPredicate(o.identity),h.map((()=>p)))),S.orNull)):null},Ge=({card:e,onClick:t,mode:n="default"})=>{const i=a.useContext(j.m.Context),r=a.useContext(_.a.Context),o=a.useCallback((e=>{r.has(_.a.Flag.onlyTrustedEvents)&&!e.isTrusted||t()}),[]),s=e.renderOptions.features.has(M.j.Features.showAnonymousUserFooters)?{disabled:!0,title:i.card.disabledForAnonymous}:{title:"mini"===n?i.card.addToDict:""};return e.activeAlert.extraProperties.hasAddToDictionary?a.createElement(W.zx.Tertiary,Object.assign({},s,{name:"add-to-dict",onClick:o}),a.createElement(V.JO.Dict,null),i.card.addToDict):null},Ye=({title:e,checkingInProgress:t,checkingMessage:n,applyMessage:i,onClick:r,disabled:o,className:s,spinnerClassName:c,messageClassName:u})=>a.createElement(W.zx.Primary,Object.assign({key:"update-all",name:"update-all",title:e},(0,l.Sh)(t.pipe(ue.U((0,p.RN)(Ce.V.updateAllBtnLoading,Ce.V.updateAllBtn))),s),{disabled:t.view((e=>e||!!o)),children:t.pipe(ue.U((0,p.RN)(a.createElement(a.Fragment,{key:"update-all-checking"},a.createElement("span",{className:u},k.capitalize(n)),a.createElement(K.$,{size:18,strokeWidth:2,wrapperClassName:(0,l.Sh)(Ce.V.updateBtnSpinner,c).className,variation:"white"})),a.createElement(a.Fragment,{key:"update-all-checked"},k.capitalize(i))))),onClick:ne.hz(r)})),Ke=({card:e})=>(0,s.pipe)(at(e.activeAlert,e.renderOptions.layoutDensity),h.map((t=>a.createElement(ve.G3,{key:"card-actions-details",visualState:e.visualState,className:ln.more},t))),h.toNullable),Je=({card:e,actions:t})=>rt(e.activeAlert,e.renderOptions.layoutDensity)?a.createElement(ve.Vh,{key:"card-actions-button",mode:"default",actions:t,card:e}):B.C.isDefaultItem(e)?a.createElement(Ge,{key:"card-actions-button",card:e,mode:"default",onClick:ne.hz((()=>t.next({type:L.lY.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:I.PZ.ADD_TO_DICTIONARY})))}):null,Xe=e=>a.createElement(H.TG,{alignment:"bottom",eventType:"onclick",stepId:R.X.StepId.Step4,title:"Accept a correction",message:"Click on a suggestion to apply it to your text.",dotPosition:{kind:"findFirstButton",position:H.E2.rightTop},themes:{containerWrapperClassName:ln.onboardingNotification}},e.children),Ze=({onClick:e,rl:t,layoutDensity:n})=>a.createElement(Xe,null,a.createElement(Pe.zO,{replacementsLabels:t,onClick:e,layoutDensity:n})),Qe=({text:e})=>a.createElement(Z.P1,Object.assign({className:ln.title},ye.y.renderToHtml(e))),et=({text:e})=>a.createElement(Z.P1,Object.assign({className:ln.titleMinimal},ye.y.renderToHtml(e))),tt=({alert:e})=>a.createElement(Z.H4,Object.assign({className:ln.title},ye.y.renderToHtml(e.title))),nt=({alert:e,options:t,children:n,className:i,badge:r})=>a.createElement(ge.oL,Object.assign({activeAlert:e,showCardLabel:t.features.has(M.j.Features.showLabel),premiumAlertLabelHighlight:t.features.has(M.j.Features.showNewPremiumCardLabels)?ge.a0.new:t.features.has(M.j.Features.showPersistentPremiumCardLabels)?ge.a0.persistent:ge.a0.none,layoutDensity:t.layoutDensity},(0,l.Sh)(ln.label,i),{badge:r}),n),it=({text:e,layoutDensity:t})=>a.createElement("div",{className:ln.highlightedTextBox},a.createElement(Z.XY,{className:(0,s.pipe)(t,M.j.Density.matchOrDefault(M.j.Density.minimal)((()=>ln.minimalHighlightedTextInnerBox),(()=>ln.highlightedTextInnerBox)))},e));function rt(e,t){return!e.extraProperties.hasAddToDictionary&&(!P.$.isSentenceLevelBrandTones(e)&&(!(!h.isSome(e.examples)&&!h.isSome(e.details))||!(t!==M.j.Density.minimal||!h.isSome(e.getTransform())||void 0===e.explanation||null===e.explanation||""===e.explanation)))}const at=(e,t)=>{if(!rt(e,t))return S.empty();const n=(0,s.pipe)(t,M.j.Density.matchOrDefault(M.j.Density.minimal)((()=>ln.minimalDescription),(()=>ln.description)));return h.some(a.createElement(a.Fragment,null,(0,s.pipe)(t,M.j.Density.matchOrDefault(M.j.Density.minimal)((()=>h.isNone(e.details)?a.createElement(Z.XY,Object.assign({className:n},ye.y.renderToHtml(e.explanation,Le.actionRegex))):null),(()=>null))),(0,s.pipe)(e.details,h.map((e=>a.createElement(Z.XY,Object.assign({className:n},ye.y.renderToHtml(e))))),h.toNullable),(0,s.pipe)(e.examples,h.map((e=>a.createElement(we,{layoutDensity:t,examples:e}))),h.toNullable)))},ot=({isChecking:e})=>a.createElement(c.F.Fragment,null,e.pipe(ue.U((e=>a.createElement(K.$,{className:e?ln.spinner:ln.spinnerInvisible,variation:"blue",isIdle:!e,size:32,strokeWidth:2}))))),st=e=>{const[t,n]=a.useState(!0);return t?a.createElement(pt,{type:e.type,actions:e.actions,onClose:()=>n(!1)}):null},lt=({card:e,actions:t})=>{if(B.C.isSentenceLevelBrandTonesItem(e)||B.C.isEthicalAIItem(e)||B.C.isSuggestedSnippetItem(e))return null;if((0,s.pipe)(e.activeAlert.extraProperties.freePremium,S.contains("unlocked")))return a.createElement(gt,null);if(!P.$.isFree(e.activeAlert)&&e.renderOptions.features.has(M.j.Features.showPremiumOnboarding))return a.createElement(yt,null);if(!P.$.isFree(e.activeAlert)&&e.renderOptions.features.has(M.j.Features.showPremiumTrialFooters))return a.createElement(ft,{actions:t});if(e.renderOptions.features.has(M.j.Features.showAnonymousUserFooters))return a.createElement(ht,{actions:t,card:e});const n=e.renderOptions.isPremiumOnboarding||u.h.create(!1);return a.createElement(c.F.Fragment,null,n.view((n=>!P.$.isFree(e.activeAlert)&&n?a.createElement(yt,null):(0,s.pipe)(e.renderOptions.layoutDensity,M.j.Density.matchOrDefault(M.j.Density.cozy)((()=>a.createElement(mt,{card:e,actions:t})),(()=>(0,s.pipe)(e.activeAlert.extraProperties.fluencyMessage,h.fold((()=>a.createElement(mt,{card:e,actions:t})),(e=>a.createElement(vt,{fluencyLabel:e}))))))))))};function ct(e,t,n){n.next({type:L.lY.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"anotherAlert",card:t},direction:e})}const ut=({card:e,actions:t})=>{const n=a.useContext(j.m.Context).card.matchesNavigation;return a.createElement(c.F.Fragment,null,(0,s.pipe)(e,ue.U((e=>a.createElement("div",{key:e.activeAlert.id,className:ln.bundleNavWrapper},a.createElement(Z.XY,{className:ln.bundleTitle},D.R.bundleTitle(e)),a.createElement("div",{className:ln.bundleNavMatchesRow},a.createElement(W.zx.Ghost,{title:0!==e.activeAlertIndex?"Previous suggestion":void 0,className:ln.bundleNavButtonGhost,disabled:0===e.activeAlertIndex,name:"left",onClick:()=>ct("left",e,t)},a.createElement(V.JO.Arrow,{className:ln.bundleNavLeftButtonIcon})),a.createElement(Z.ck,{className:ln.bundleNavCount},n.currentMatchPosition(e.activeAlertIndex+1,e.alerts.length)),a.createElement(W.zx.Ghost,{title:e.activeAlertIndex!==e.alerts.length-1?"Next suggestion":void 0,className:ln.bundleNavButtonGhost,disabled:e.activeAlertIndex===e.alerts.length-1,name:"right",onClick:()=>ct("right",e,t)},a.createElement(V.JO.Arrow,{className:ln.bundleNavRightButtonIcon}))))))))},dt=({card:e,actions:t,isChecking:n})=>a.createElement(a.Fragment,null,(0,s.pipe)(e.renderOptions.layoutDensity,M.j.Density.matchOrDefault(M.j.Density.minimal)((()=>$.bZ.isRated(e.activeAlert)?a.createElement(a.Fragment,null,a.createElement(Re,{card:e}),a.createElement(et,{text:e.activeAlert.miniCardTitle})):a.createElement(nt,{alert:e.activeAlert,options:e.renderOptions},a.createElement(et,{text:e.activeAlert.miniCardTitle}))),(()=>a.createElement(a.Fragment,null,a.createElement(nt,{alert:e.activeAlert,options:e.renderOptions}),a.createElement(Qe,{text:e.activeAlert.title}),a.createElement(Me,{card:e,isChecking:n}))))),a.createElement(Be,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})),pt=e=>{const t=a.useContext(j.m.Context),{title:n,content:i}=t.card.onboarding[e.type];return a.useLayoutEffect((()=>()=>e.actions.next({type:L.lY.Type.onboardingClose,value:e.type}))),a.createElement(G.DI.AdHoc,{key:"new-notification",title:a.createElement(a.Fragment,null,n,a.createElement(U.C.Regular,{className:ln.newLabel},t.new)),className:ln.newCheckNotification,onClose:e.onClose},i)},mt=({actions:e,card:t})=>{const n=a.useContext(j.m.Context);return Q.P.useEffectOnDidMount((()=>{t.meta.showMuteQuotedAdvice&&e.next({type:L.lY.Type.muteQuotedAdviceShow})})),t.meta.showMuteQuotedAdvice?a.createElement(bt.Base,{className:Rt},a.createElement("span",null,n.card.muteCitedText(a.createElement("a",{"data-name":"open-preferences-link",onClick:()=>e.next({type:L.lY.Type.openPreferences})},n.documentSettings.editorSettings))),a.createElement(W.zx,{name:"dismiss-mute-quoted-advice",onClick:()=>e.next({type:L.lY.Type.dismissMuteQuotedAdvice})},a.createElement(V.JO.Close,null))):null},ht=({actions:e,card:t})=>{const n=a.useContext(j.m.Context),i=t.activeAlert.extraProperties.hasAddToDictionary?n.anonymousUserAddToDictionarySignInPrompt:n.anonymousUserGenericSignInPrompt;return a.createElement(bt.Base,{className:ln.anonymousUserNotice},i((()=>{e.next({type:L.lY.Type.toSignIn})})))},ft=({actions:e})=>a.createElement(bt.Small,{className:Ut},a.createElement(V.JO.PaidLink,{className:ln.iconWrapper,width:12}),a.useContext(j.m.Context).premiumFreeTrial((()=>{e.next({type:L.lY.Type.premiumTrialFooterCtaClick})}))),gt=()=>{const{beforeIcon:e,afterIcon:t}=a.useContext(j.m.Context).freePremiumAlertFooter;return a.createElement(bt.Small,{className:qt},e,a.createElement(V.JO.PaidLink,{width:12}),t)},yt=()=>{const{premiumOnboardingFooter:e}=a.useContext(j.m.Context);return a.createElement(bt.Small,{className:qt},a.createElement(V.JO.PaidLink,{width:12}),e)},vt=({fluencyLabel:e})=>{const t=a.useContext(j.m.Context).card.fluency,n=Object.keys(r.PrimaryLanguage).filter((e=>e!==r.PrimaryLanguage.Other)).map((e=>e.toLowerCase())),i=e.toLowerCase(),o=(0,s.pipe)(h.fromNullable(n.find((e=>i.includes(e)))),h.map(k.capitalize),h.getOrElse((()=>"multilingual")),t.cardFooter);return a.createElement(Z.x4,{className:ln.fluencyNotice},o,a.createElement(J.u,{title:t.tooltip},a.createElement(V.JO.Info,{width:10,className:ln.fluencyInfo})))};var bt;!function(e){function t(e){return({children:t,className:n})=>a.createElement(e,Object.assign({},(0,l.Sh)(ln.cardFooter,n)),t)}e.Small=t(Z.x4),e.Base=t(Z.XY)}(bt||(bt={}));const Ct=({title:e,children:t})=>a.createElement("div",{className:ln.cardWrapper},a.createElement("div",{className:ln.cardWrapperTitle},e),t);function xt(e){const{transformHidden:t,isMouseInside:n,transformHiddenObservable:i}=Q.P.useMemoOnDidMount((()=>{const t=u.h.create(!1),n=new de.xQ,i=se.T(pe.aj([n,e]).pipe(ue.U((([e,t])=>e&&t)),me.h((e=>!0===e)),ae.b((()=>t.set(!0)))),e.pipe(he.T(1),me.h((e=>!e)),ae.b((()=>t.set(!1)))));return{transformHidden:t,isMouseInside:n,transformHiddenObservable:i}}));return Q.P.useSubscriptionTo(i),{transformHidden:t,isMouseInside:n}}const wt=({card:e,actions:t,isChecking:n,isCheckingGlobal:i,cardTheme:r,cardBody:o,cardFooter:s,mainActions:l,subActions:c,cardExtra:u})=>{const{transformHidden:d,isMouseInside:m}=xt(n);return a.createElement(be.Z,{visualState:e.visualState,onFocus:()=>t.next({type:L.lY.Type.alertCardShow,cardType:L.lY.getCardType(e),alertId:e.activeAlert.id}),onMouseOver:()=>{t.next({type:L.lY.Type.hover,kind:"hover",id:e.id}),m.next(!0)},onMouseOut:()=>{t.next({type:L.lY.Type.hover,kind:"unhover",id:e.id}),m.next(!1)},theme:Object.assign(Object.assign({content:i.pipe(ue.U((0,p.RN)(ln.loadingWrapperInvisible,ln.loadingWrapper)))},(0,Fe.G)(e.renderOptions)),r),extra:a.createElement(a.Fragment,null,a.createElement(ot,{isChecking:i}),null==u?void 0:u()),body:o(d),mainActions:null==l?void 0:l(),footer:null==s?void 0:s(d),subActions:null==c?void 0:c()})},It=({card:e,actions:t,isChecking:n,body:i,footer:r,alwaysShowWrongAndOffensiveButtons:o})=>a.createElement(be.Z,{visualState:e.visualState,onFocus:()=>t.next({type:L.lY.Type.alertCardShow,cardType:L.lY.getCardType(e),alertId:e.activeAlert.id}),theme:(0,Fe.G)(e.renderOptions),body:null!=i?i:a.createElement(dt,{card:e,actions:t,isChecking:n}),mainActions:a.createElement(Ue,{card:e,feedbackActions:t,alwaysShowWrongAndOffensiveButtons:o}),footer:null!=r?r:a.createElement(Ke,{card:e}),subActions:a.createElement(Je,{card:e,actions:t}),extra:a.createElement(lt,{card:e,actions:t})}),St={wordWrap:"break-word",overflowWrap:"break-word",$nest:{"& a":{borderBottom:"1px solid",textDecoration:"none",$nest:{"&:link, &:visited":{color:E.Il.CoreBlue50}}},"& b":{fontStyle:"italic",fontFeatureSettings:`${O.g_}, ${O.xL}`},"& ul":{margin:`${T.u.rem(.75)} 0 0`,padding:0,listStyle:"none"},"& li":{position:"relative",paddingLeft:T.u.rem(1.5),$nest:{"&:before":{position:"absolute",left:0,content:"'\\2022'"}}},"& li + li":{marginTop:T.u.rem(.5)}}},kt={lineHeight:T.u.rem(1.3125),$nest:{"& a":{display:"initial"}}},Et={$nest:{"& i":{color:E.Il.CoreNeutral50},"& > * + *":{marginTop:T.u.rem(.75)}}},At={fontWeight:"bold",textTransform:"none",$nest:{"&:first-letter":{textTransform:"uppercase"},"& i":{color:N.kl}}},Tt={marginTop:T.u.important(0),lineHeight:T.u.rem(1.125)},Nt={fontSize:T.u.rem(E.xv.SubheadingSize),lineHeight:T.u.rem(E.xv.SubheadingLineHeight)},Ot={width:T.u.rem(2),height:T.u.rem(2)},_t={position:"absolute",top:`calc(50% - ${T.u.rem(1)})`,left:`calc(50% - ${T.u.rem(1)})`,width:T.u.rem(2),height:T.u.rem(2),transition:"opacity .2s"},jt={marginLeft:T.u.rem(.5),backgroundColor:E.Il.CoreGreen50,color:E.Il.CoreNeutral0,fontWeight:600},$t={position:"absolute",marginTop:T.u.rem(-8.5),marginLeft:T.u.rem(-2),$nest:{"&:after":{position:"absolute",bottom:T.u.rem(-.525),left:T.u.rem(.7),borderTop:`${T.u.rem(.625)} solid ${E.Il.BackgroundNotification}`,borderRight:`${T.u.rem(.5)} solid transparent`,borderLeft:`${T.u.rem(.5)} solid transparent`,content:"' '"}}},Pt={background:"linear-gradient(269.88deg, rgba(228, 244, 247, .6) .02%, rgba(215, 248, 240, .6) 50.81%, rgba(202, 227, 250, .6) 99.98%)"},Ft={position:"absolute",top:T.u.rem(.75),left:T.u.rem(.4)},Dt={color:E.Il.CoreNeutral90,$nest:{"& a":{fontWeight:800,color:E.Il.CoreBlue50,$nest:{"&:link, &:visited":{color:E.Il.CoreBlue50},"&:hover":{borderBottom:`1px solid ${E.Il.CoreBlue40}`,color:E.Il.CoreBlue40}}}}},Lt={display:"flex",borderRadius:`${O.LB} ${O.LB} ${T.u.rem(O.Jr)} ${T.u.rem(O.Jr)}`,color:E.Il.CoreNeutral50,padding:`${T.u.rem(.5)} ${T.u.rem(.75)} ${T.u.rem(.5)} ${T.u.rem(1)}`,fontSize:T.u.rem(.6875),lineHeight:T.u.rem(1.125)},Bt={padding:`0 ${T.u.rem(.6)}`,minWidth:T.u.rem(.625),minHeight:T.u.rem(.625)},Mt="muteQuotedAdvice",Rt=T.u.joinClasses([Mt,T.u.style({$nest:{"& a":{borderBottom:`1px solid ${E.Il.CoreBlue50}`,color:E.Il.CoreBlue50,$nest:{"&:link, &:visited":{color:E.Il.CoreBlue50},"&:hover":{borderBottom:`1px solid ${E.Il.CoreBlue40}`,color:E.Il.CoreBlue40}}},"& i:hover":{strokeWidth:T.u.px(2)}}})]),Ht="premiumFreeTrial",Ut=T.u.joinClasses([Ht,T.u.style({$nest:{"& svg":{fill:E.Il.CoreYellow80},"& a":{fontWeight:800,color:E.Il.CoreYellow70,$nest:{"&:link, &:visited":{color:E.Il.CoreYellow80},"&:hover":{borderBottom:`1px solid ${E.Il.CoreYellow60}`,color:E.Il.CoreYellow60}}}}})]),Wt="premiumAlertFooter",qt=T.u.joinClasses([Wt,T.u.style({$nest:{"& svg":{margin:`0 ${T.u.rem(.25)}`,fill:E.Il.CoreYellow80}}})]),zt={display:"block",boxSizing:"border-box",padding:`${T.u.rem(1)} ${T.u.rem(1)} ${T.u.rem(1)} ${T.u.rem(1.5)}`,width:T.u.percent(100),borderRadius:`${O.LB} ${O.LB} ${T.u.rem(O.Jr)} ${T.u.rem(O.Jr)}`,$nest:{"& a":{cursor:"pointer",transition:"color .2s"},"&.muteQuotedAdvice":{display:"flex",padding:`${T.u.rem(1)} ${T.u.rem(1)} ${T.u.rem(1)} ${T.u.rem(2)}`,background:E.Il.CoreNeutral10,color:E.Il.CoreNeutral90,justifyContent:"space-between",alignItems:"center"},"&.premiumFreeTrial":{padding:`${T.u.rem(1)} ${T.u.rem(1)} ${T.u.rem(1)} ${T.u.rem(2)}`,position:"relative",background:E.Il.CoreYellow20,color:E.Il.CoreNeutral90},"&.premiumAlertFooter":{display:"flex",justifyContent:"center",alignItems:"center",padding:`${T.u.rem(.5)}`,background:E.Il.CoreYellow20,color:E.Il.CoreYellow80}}},Vt={position:"absolute",top:T.u.rem(.8),left:T.u.rem(.5),minWidth:T.u.rem(1),minHeight:T.u.rem(1)},Gt={fontWeight:"bold",fontSize:T.u.rem(.875),lineHeight:T.u.rem(1.125),flex:2},Yt={padding:`${T.u.rem(.625)} 0 ${T.u.rem(.1875)} ${T.u.rem(.5)}`,marginBottom:T.u.rem(.25),display:"flex",justifyContent:"space-between",alignItems:"center"},Kt={fontSize:T.u.rem(.75),lineHeight:T.u.rem(1.125),color:E.Il.CoreNeutral90},Jt={display:"flex",justifyContent:"flex-end",alignItems:"center",height:T.u.rem(1.5),$nest:{"& > * + *":{marginLeft:T.u.rem(.25)},"& > *":{borderRadius:T.u.rem(O.fx)}}},Xt={height:T.u.rem(2),minHeight:T.u.rem(2),width:T.u.rem(2),fill:E.Il.CoreNeutral90,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{cursor:"pointer",fill:E.Il.CoreBlue50},"&[data-disabled='true']":{fill:E.Il.CoreNeutral30}}},Zt={borderRadius:T.u.rem(.75),background:E.Il.CoreNeutral20,margin:`${T.u.rem(-.25)} ${T.u.rem(-.25)}`,padding:`${T.u.rem(.25)} ${T.u.rem(.25)}`,$nest:{[`& .${fe.g.cozyCardContainerSelector}`]:{margin:0,boxShadow:"none"},[`& .${fe.g.fullCardSelector}`]:{padding:`${T.u.rem(.75)} ${T.u.rem(.5)} ${T.u.rem(.5)} ${T.u.rem(1)}`},"& [role=dropdown-list]":{transform:`translateY(${T.u.rem(-.5)})`}}},Qt={paddingTop:T.u.rem(.25),paddingBottom:T.u.rem(.5),paddingLeft:T.u.rem(.5),paddingRight:T.u.rem(.5),fontWeight:"bold",fontSize:T.u.rem(.875),lineHeight:T.u.rem(1.125)};function en(e,t){return{display:["block","-webkit-box"],maxHeight:T.u.rem(e*t),overflow:"hidden",overflowWrap:"anywhere",whiteSpace:"pre-wrap",textOverflow:"ellipsis","-webkit-line-clamp":t,WebkitBoxOrient:"vertical"}}const tn=Object.assign(Object.assign({},en(1.5,3)),{lineHeight:T.u.rem(1.5)}),nn=Object.assign(Object.assign({},en(1.3125,3)),{lineHeight:T.u.rem(1.3125)}),rn={padding:T.u.rem(.5),borderRadius:T.u.rem(O.fx),background:E.Il.CoreNeutral10,color:E.Il.CoreNeutral90,fontWeight:400,fontStyle:"italic",fontFeatureSettings:`${O.g_}, ${O.xL}`},an=.25,on={opacity:0,pointerEvents:"none"},sn={transition:`opacity ${T.u.seconds(an)}`},ln=T.u.stylesheet({loadingWrapper:[sn],loadingWrapperInvisible:[sn,on],description:[St],minimalDescription:[St,kt],more:[Et],onboardingNotification:[{display:"block"}],title:[At],titleMinimal:[At,Tt],label:[Nt],dropdownContainer:[Ot],spinner:[_t],spinnerInvisible:[_t,{opacity:0,pointerEvents:"none"}],newLabel:[jt],newCheckNotification:[$t],baseNotice:[Pt],iconWrapper:[Ft],anonymousUserNotice:[Pt,Dt],fluencyNotice:[Pt,Lt],fluencyInfo:[Bt],cardFooter:[zt],circleProgress:[Vt],circleText:[{display:"none"}],bundleTitle:[Gt],bundleNavWrapper:[Yt],bundleNavCount:[Kt],bundleNavMatchesRow:[Jt],bundleNavButtonGhost:[{$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:"rgba(198, 203, 222, .5)"}}}],bundleNavButton:[Xt],bundleNavLeftButtonIcon:[Xt,{transform:"rotate(90deg)"}],bundleNavRightButtonIcon:[Xt,{transform:"rotate(270deg)"}],cardWrapper:[Zt],cardWrapperTitle:[Qt],highlightedTextBox:[rn],highlightedTextInnerBox:[tn],minimalHighlightedTextInnerBox:[nn]})},21882:(e,t,n)=>{n.d(t,{J:()=>Dt});var i,r=n(27378),a=n(57050),o=n(40327),s=n(38983),l=n(5739),c=n(8125),u=n(5114),d=n(44060),p=n(81531),m=n(63969),h=n(30763),f=n(84313),g=n(15646),y=n(75316),v=n(4890),b=n(29847),C=n(62310),x=n(77797),w=n(3656),I=n(28706),S=n(85255),k=n(55935),E=n(2834),A=n(57091),T=n(77176),N=n(93508),O=n(39271),_=n(18208),j=n(73975),$=n(40219),P=n(40018),F=n(7046),D=n(29245),L=n(21474),B=n(1883),M=n(32225),R=n(19025);!function(e){e.Full=({card:e,actions:i})=>r.createElement(B.Z,{footer:null,visualState:e.visualState,onFocus:()=>i.next({type:g.lY.Type.alertCardShow,cardType:g.lY.getCardType(e),alertId:e.activeAlert.id}),theme:(0,R.G)(e.renderOptions),body:r.createElement(n,{card:e}),mainActions:r.createElement(M.U4,{card:e,feedbackActions:i}),subActions:null,extra:r.createElement(t,{card:e,actions:i})});const t=({card:e,actions:t})=>{const n=r.useContext(h.m.Context).card.sentenceLevelBrandTones;return r.createElement(w.x4,{className:Y.sentenceLevelBrandTonesFooter},n.helpfulFeedbackQuestion(e.activeAlert.emotion),r.createElement("div",{className:Y.sentenceLevelBrandTonesFooterHelpfulFeedback},r.createElement(F.zx.Ghost,{name:`sentence-level-brand-tones-${e.activeAlert.emotion}-helpful-feedback-yes`,title:n.helpfulFeedbackYes,active:u.getEq(j.eqStrict).equals(e.activeAlert.feedback,u.some(P.id.accurate)),disabled:u.isSome(e.activeAlert.feedback),onClick:()=>{t.next({type:g.lY.Type.sentenceLevelBrandTonesFeedback,alertId:e.activeAlert.id,feedbackType:P.id.accurate})}},r.createElement(L.JO.VoteYes,null)),r.createElement(F.zx.Ghost,{name:`sentence-level-brand-tones-${e.activeAlert.emotion}-helpful-feedback-no`,title:n.helpfulFeedbackNo,active:u.getEq(j.eqStrict).equals(e.activeAlert.feedback,u.some(P.id.inaccurate)),disabled:u.isSome(e.activeAlert.feedback),onClick:()=>{t.next({type:g.lY.Type.sentenceLevelBrandTonesFeedback,alertId:e.activeAlert.id,feedbackType:P.id.inaccurate}),t.next({type:g.lY.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:f.X.isEligibleForDismissSurvey(e)})}},r.createElement(L.JO.VoteNo,null))))},n=({card:e})=>{const t=r.useContext(h.m.Context),n=u.fromNullable(e.activeAlert.highlightTexts[0]);return r.createElement("div",null,r.createElement(M.__,{alert:e.activeAlert,options:e.renderOptions}),r.createElement("div",null,r.createElement("div",{className:Y.sentenceLevelBrandTonesHeaderWrapper},r.createElement("div",{className:Y.sentenceLevelBrandTonesHeader},r.createElement(D.dy,{className:Y.sentenceLevelBrandTonesHeaderEmoji},e.activeAlert.emoji),_.capitalize(e.activeAlert.emotion)),r.createElement(C.C.Regular,{className:Y.offBrandBadge},t.card.sentenceLevelBrandTones.offBrandBadge)),r.createElement(w.XY,{className:Y.sentenceLevelBrandTonesDescription},e.activeAlert.description),(0,o.pipe)(n,u.fold(a.constNull,(t=>r.createElement(M.hl,{text:t,layoutDensity:e.renderOptions.layoutDensity}))))))}}(i||(i={}));const H={display:"flex",alignItems:"center",justifyContent:"space-between",background:d.Il.CoreNeutral10,borderRadius:`${$.LB} ${$.LB} ${m.u.rem($.Jr)} ${m.u.rem($.Jr)}`,padding:`${m.u.rem(.3)} ${m.u.rem(1)}`,color:d.Il.CoreNeutral50,fontSize:m.u.rem(.64)},U={display:"flex",alignItems:"center",$nest:{'& div[role="button"]:first-child':{marginRight:m.u.rem(.125)}}},W={display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:m.u.rem(1),marginBottom:m.u.rem(.625)},q={fontWeight:"bold",fontSize:m.u.rem(.875),lineHeight:m.u.rem(1)},z={marginRight:m.u.rem(.5),lineHeight:m.u.rem(1)},V={background:d.Il.CoreRed1,color:d.Il.CoreRed60,fontWeight:"bold",fontSize:m.u.rem(.6),lineHeight:m.u.rem(1)},G={marginBottom:m.u.rem(1)},Y=m.u.stylesheet({offBrandBadge:[V],sentenceLevelBrandTonesHeaderWrapper:[W],sentenceLevelBrandTonesHeader:[q],sentenceLevelBrandTonesHeaderEmoji:[z],sentenceLevelBrandTonesFooter:[H],sentenceLevelBrandTonesFooterHelpfulFeedback:[U],sentenceLevelBrandTonesDescription:[G]});var K=n(55415),J=n(32821),X=n(22232),Z=n(98637),Q=n(12187),ee=n(34685);const te=({theme:e={}})=>r.createElement(l.F.div,Object.assign({},(0,Q.Sh)(ie.container,e.container)),r.createElement(l.F.div,Object.assign({},(0,Q.Sh)(ie.swoosh,e.animation)))),ne=m.u.keyframes({to:{backgroundPosition:"0 100%"}}),ie=m.u.prefixedStylesheet("ai-animation-v2",{container:[{position:"relative",width:m.u.rem(2),height:m.u.rem(2),display:"inline-block"}],swoosh:[{position:"absolute",left:0,right:0,top:0,bottom:0,animationName:ne,animationTimingFunction:"steps(119, start)",animationFillMode:"forwards",animationDuration:m.u.seconds(2),animationIterationCount:"infinite",background:`transparent url('${ee.yr}swoosh.png') 0 0 no-repeat`,backgroundSize:m.u.percent(100)}]});var re=n(66346),ae=n(76974);const oe=({card:e,actions:t,disabled:n})=>(0,M.m_)(e.activeAlert,e.renderOptions.layoutDensity)?r.createElement(re.Vh,{key:"card-actions-button",mode:"default",actions:t,card:e,disabled:n}):null,se=J.UI.Grid.make((({slots:e,state:t,notify:n})=>r.createElement(l.F.Fragment,null,t.pipe(T.U((t=>r.createElement(M.VM,{card:t,actions:{next:e=>n(e)(),error:a.constVoid,complete:a.constVoid},isChecking:ae.of(!1),isCheckingGlobal:ae.of(!1),cardBody:(0,a.constant)(r.createElement(l.F.Fragment,null,e.body)),cardTheme:{contentBody:le.contentBody}}))))))),le=m.u.stylesheet({contentBody:[{paddingLeft:0}]}),ce=J.UI.Knot.make(se,{body:J.UI.Node.make((()=>{const e=r.useContext(h.m.Context);return r.createElement("div",{className:pe.container},r.createElement(te,{theme:{container:pe.animation}}),r.createElement(w.XY,{className:pe.label},e.card.shortenIt.loadingLabel))}))}),ue={display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:m.u.rem(.25)},de={paddingLeft:m.u.rem(.5)},pe=m.u.stylesheet({container:[ue],animation:[{transform:"scale(.7)"}],label:[de]}),me=(e,t)=>J.Z.composeKnot({body:(0,a.constant)(ae.of(null)),root:J.Z.fromSideEffect((e=>{t.next(e)}),e)}),he=J.UI.Knot.make(se,{body:J.UI.Node.make((()=>{const e=r.useContext(h.m.Context);return r.createElement("div",{className:ye.container},r.createElement(L.JO.ValidationOk,null),r.createElement(w.XY,{className:ye.label},e.card.shortenIt.notFoundLabel))}))}),fe={display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:m.u.rem(.25)},ge={paddingLeft:m.u.rem(.5)},ye=m.u.stylesheet({container:[fe],label:[ge]}),ve=(e,t)=>J.Z.composeKnot({body:(0,a.constant)(ae.of(null)),root:J.Z.fromSideEffect((e=>{t.next(e)}),e)});var be=n(17771),Ce=n(98403),xe=n(60797),we=n(28043),Ie=n(66310),Se=n(2844),ke=n(44586),Ee=n(71249),Ae=n(94048),Te=n(22391),Ne=n(43965),Oe=n(49708);const _e=J.UI.Node.make((({state:e,notify:t})=>{const n=r.useContext(h.m.Context).card.shortenIt.collapsedButtonTooltip;return r.createElement(l.F.Fragment,null,e.pipe(T.U((({collapsed:e,text:i,group:o,isReviewable:s})=>e?(0,a.pipe)(o,u.filter((()=>!s)),u.fold((()=>r.createElement("span",{className:tt.shortenItCollapsedDelete},r.createElement(L.JO.EllipsisSmall,{width:13,className:tt.shortenItCollapsedIcon}))),(e=>r.createElement(F.zx,{animationMode:Ne.m.FromClickPoint,name:"shorten-it-review-change",onClick:t({kind:"reviewEdit",group:e}),title:n,className:tt.shortenItCollapsedDeleteButton},r.createElement(L.JO.Ellipsis,{width:10,className:tt.shortenItCollapsedIconButton}))))):r.createElement("span",{className:tt.shortenItDelete},i)))))})),je=/^\W/,$e=J.UI.Node.make((({state:e})=>r.createElement(l.F.span,{className:e.pipe(T.U((e=>je.test(e.text)?tt.shortenItInsertPunctuation:tt.shortenItInsert)))},e.pipe(T.U((e=>e.text)))))),Pe=J.UI.Node.make((({state:e})=>r.createElement(l.F.span,null,e.pipe(T.U((e=>e.text)))))),Fe=J.UI.Union.make("kind",{insert:$e,delete:_e,text:Pe}),De=J.UI.Grid.make((({slots:e,state:t,notify:n})=>{const i=r.useContext(h.m.Context).card.shortenIt.collapsedButtonTooltip;return r.createElement(l.F.Fragment,null,t.pipe(T.U((({isReviewableGroup:t,isInReview:o,group:s})=>(0,a.pipe)(s,u.filter((()=>t)),u.fold((()=>e.parts),(t=>o?r.createElement("span",{ref:e=>{e&&n({kind:"editGroupExpanded",group:t,offsetTop:e.offsetTop,offsetHeight:e.offsetHeight})()},className:tt.shortenItEditGroupExpanded},e.parts):r.createElement(F.zx,{name:"shorten-it-review-change",className:tt.shortenItEditGroupButton,animationMode:Ne.m.FromClickPoint,title:i,onClick:n({kind:"reviewEdit",group:t})},e.parts))))))))})),Le=J.UI.Knot.make(De,{parts:J.UI.List.make(Ee.array,Fe)}),Be=J.UI.List.make(Ee.array,Le),Me=J.UI.Grid.make((({slots:e,state:t,notify:n})=>{const{onMount:i,ref:o,maxHeight:s}=(0,Te.N)(),l=o.pipe(xe.cp((e=>Oe.R(e,"scroll").pipe(T.U((()=>e.scrollTop)),N.O(e.scrollTop),E.b((e=>n({kind:"labelScroll",scrollTop:e})()))))));return S.P.useSubscriptionTo(l),r.createElement(w.XY,{mount:i,style:{maxHeight:s.pipe(T.U(u.getOrElse(a.constUndefined)))},className:t.pipe(T.U((e=>(0,a.pipe)(e,v.j.Density.matchOrDefault(v.j.Density.minimal)((()=>tt.minimalShortenItBackground),(()=>tt.shortenItBackground))))))},e.labels)})),Re=J.UI.Knot.make(Me,{labels:Be}),He="cards-replacements_labels-",Ue={shortenItBackground:`${He}shortenItBackground`,minimalShortenItBackground:`${He}minimalShortenItBackground`,shortenItDelete:`${He}shortenItDelete`,shortenItInsert:`${He}shortenItInsert`,shortenItInsertPunctuation:`${He}shortenItInsertPunctuation`,shortenItEditGroupButton:`${He}shortenItEditGroupButton`,shortenItEditGroupExpanded:`${He}shortenItEditGroupExpanded`,shortenItCollapsedDelete:`${He}shortenItCollapsedDelete`,shortenItCollapsedDeleteButton:`${He}shortenItCollapsedDeleteButton`,shortenItCollapsedIcon:`${He}shortenItCollapsedIcon`,shortenItCollapsedIconButton:`${He}shortenItCollapsedIconButton`},We={overflowX:"hidden",overflowY:"auto",overflowWrap:"anywhere",margin:`${m.u.rem(1)} 0`,maxHeight:m.u.rem(12),color:d.Il.CoreNeutral90,whiteSpace:"pre-wrap",fontWeight:400,fontFeatureSettings:`${$.g_}, ${$.xL}`},qe={color:d.Il.CoreRed50,textDecoration:"line-through",fontWeight:400},ze={color:d.Il.CoreBlue50,fontWeight:600},Ve={transitionProperty:"background-color",transitionDuration:".2s",padding:`0 0 ${m.u.rem(.2)} 0`,display:"inline",whiteSpace:"unset",verticalAlign:"unset",borderWidth:"1px",borderStyle:"solid",borderRadius:m.u.rem($.fx)},Ge=Object.assign(Object.assign({},Ve),{backgroundColor:d.Il.CoreNeutral1,borderColor:d.Il.CoreNeutral10,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:d.Il.CoreBlue10,borderColor:d.Il.CoreBlue10}}}),Ye=Object.assign(Object.assign({},Ve),{backgroundColor:d.Il.CoreBlue10,borderColor:d.Il.CoreBlue10,position:"relative"}),Ke={display:"inline-block",width:m.u.rem(1),lineHeight:m.u.rem(.625),height:m.u.rem(.625),margin:`0 ${m.u.rem(.25)}`,verticalAlign:"middle",cursor:"pointer",overflowWrap:"normal",textAlign:"center",borderRadius:m.u.rem($.mA)},Je=Object.assign({},Ke),Xe=Object.assign(Object.assign({},Ke),{backgroundColor:d.Il.CoreNeutral20,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:d.Il.CoreBlue10}}}),Ze={minWidth:"unset",minHeight:"unset",paddingBottom:m.u.rem(.125)},Qe=Object.assign(Object.assign({},Ze),{fill:d.Il.CoreBlue50,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:d.Il.CoreNeutral50}}}),et=Object.assign(Object.assign({},Ze),{fill:d.Il.CoreNeutral50,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:d.Il.CoreBlue50}}}),tt={shortenItBackground:m.u.joinClasses([Ue.shortenItBackground,m.u.style(We),Ae.E.style(We)]),minimalShortenItBackground:m.u.joinClasses([Ue.minimalShortenItBackground,m.u.style(We,{lineHeight:m.u.rem(1.3125)}),Ae.E.style(We,{lineHeight:m.u.rem(1.3125)})]),shortenItDelete:m.u.joinClasses([Ue.shortenItDelete,m.u.style(qe),Ae.E.style(qe)]),shortenItInsert:m.u.joinClasses([Ue.shortenItInsert,m.u.style(ze),Ae.E.style(ze)]),shortenItInsertPunctuation:m.u.joinClasses([Ue.shortenItInsertPunctuation,m.u.style(ze),Ae.E.style(ze)]),shortenItEditGroupButton:m.u.joinClasses([Ue.shortenItEditGroupButton,m.u.style(Ge),Ae.E.style(Ge)]),shortenItEditGroupExpanded:m.u.joinClasses([Ue.shortenItEditGroupExpanded,m.u.style(Ye),Ae.E.style(Ye)]),shortenItCollapsedDelete:m.u.joinClasses([Ue.shortenItCollapsedDelete,m.u.style(Je),Ae.E.style(Je)]),shortenItCollapsedDeleteButton:m.u.joinClasses([Ue.shortenItCollapsedDeleteButton,m.u.style(Xe),Ae.E.style(Xe)]),shortenItCollapsedIcon:m.u.joinClasses([Ue.shortenItCollapsedIcon,m.u.style(Qe),Ae.E.style(Qe)]),shortenItCollapsedIconButton:m.u.joinClasses([Ue.shortenItCollapsedIconButton,m.u.style(et),Ae.E.style(et)])};m.u.cssRule(`.${Ue.shortenItDelete} + .${Ue.shortenItInsert}`,{marginLeft:m.u.rem(.25)});const nt=J.UI.Grid.make((({state:e,view:t,notify:n,slots:i})=>{const o=r.useContext(h.m.Context),u=Object.assign(Object.assign({},Ce.UF()),{next:e=>n(e)()}),d=S.P.useMemoOnDidMount((()=>s.h.create(!1)));return S.P.useSubscriptionTo(t("transformHidden").pipe(E.b(Ce.wW(d)))),r.createElement(l.F.Fragment,null,e.pipe(T.U((({item:e})=>r.createElement(B.Z,{visualState:e.visualState,onFocus:n({type:g.lY.Type.alertCardShow,cardType:g.lY.getCardType(e),alertId:e.activeAlert.id}),onMouseOut:n({type:g.lY.Type.hover,kind:"unhover",id:e.id}),onMouseOver:n({type:g.lY.Type.hover,kind:"hover",id:e.id}),theme:Object.assign({content:t("isCheckingGlobal").pipe(T.U((0,c.RN)(pt.loadingWrapperInvisible,pt.loadingWrapper)))},(0,R.G)(e.renderOptions)),mainActions:r.createElement(M.Kg,{card:e,feedbackActions:u}),subActions:r.createElement(oe,{card:e,actions:u}),body:r.createElement(r.Fragment,null,r.createElement(M.__,{alert:e.activeAlert,options:e.renderOptions,badge:r.createElement(C.C.Regular,null,o.beta)}),(0,a.pipe)(e.renderOptions.layoutDensity,v.j.Density.matchOrDefault(v.j.Density.minimal)((()=>null),(()=>r.createElement(M.dk,{description:e.meta.explanation,actions:{next:e=>n(e)(),error:a.constVoid,complete:a.constVoid},layoutDensity:e.renderOptions.layoutDensity})))),r.createElement(l.F.div,{className:t("transformHidden").pipe(T.U((0,c.RN)(pt.transformHidden,void 0)))},i.transform)),footer:r.createElement(r.Fragment,null,r.createElement(M.lJ,{card:e}),r.createElement(l.F.div,{className:pt.footerBtns},r.createElement(M.Nm,{className:pt.applyButton,spinnerClassName:pt.applyButtonSpinner,messageClassName:pt.applyButtonMessage,applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:d,onClick:I.hz(n({type:g.lY.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:f.X.isEligibleForAcceptSurvey(e),cardType:g.lY.getCardType(e)}))}))),extra:r.createElement(M.o,{isChecking:t("isCheckingGlobal")})})))))})),it=J.UI.Grid.make((({slots:e,state:t,notify:n})=>{const i=r.useContext(h.m.Context).card.shortenIt,{ref:o,onMount:s}=S.P.useElWatcher(),{ref:c,onMount:d}=S.P.useElWatcher(),p=xe.oA(t).pipe(T.U((e=>e.group)),we.x(),Ie.w((e=>Se.aj([o,c]).pipe(T.U((([e,t])=>be.Y(u.option)({root:e,popup:t}))),xe.cp((({root:t,popup:i})=>new ke.y((()=>{const r=new IntersectionObserver((t=>n({kind:"editPopupIntersection",isInsideTransformBlock:t[0].isIntersecting,group:e})()),{root:t,rootMargin:"5px",threshold:0});return r.observe(i),()=>r.unobserve(i)}))))))));return S.P.useSubscriptionTo(p),r.createElement(l.F.div,{className:pt.editPopupContainer,mount:s},e.replacementLabels,t.pipe(T.U(u.fold(a.constNull,(({group:e,top:t,left:a,visible:o})=>r.createElement(l.F.div,{className:pt.editPopup,style:{transform:`translate(${a}px, ${t}px)`,visibility:o?"visible":"hidden",opacity:o?1:0},mount:d},r.createElement(F.zx.Ghost,{name:"shorten-it-dismiss-change",onClick:n({kind:"dismissEdit",group:e})},i.editPopupDismissButtonLabel),r.createElement(F.zx.Tertiary,{name:"shorten-it-keep-change",onClick:n({kind:"keepEdit",group:e})},i.editPopupKeepButtonLabel)))))))})),rt=J.UI.Knot.make(it,{replacementLabels:Re}),at=J.UI.Knot.make(nt,{transform:rt}),ot={padding:`0 ${m.u.rem(1)}`},st={display:"flex",flexDirection:"row",padding:m.u.rem(.25),position:"absolute",backgroundColor:d.Il.CoreNeutral0,boxShadow:"0px 0px 0.5px rgba(0, 0, 0, 0.7), 0px 2px 8px rgba(26, 33, 52, 0.2)",borderRadius:m.u.rem($.fx),zIndex:1,top:0,left:0,transition:"visibility 0.15s linear, opacity 0.15s linear"},lt={$nest:{"&[data-disabled='true']":{backgroundColor:d.Il.CoreNeutral10,color:d.Il.CoreNeutral40}}},ct={$nest:{"& circle":{stroke:d.Il.CoreNeutral40}}},ut={paddingRight:m.u.rem(.25)},dt={transition:`opacity ${m.u.seconds(M.k_)}`},pt=m.u.stylesheet({loadingWrapper:[dt],loadingWrapperInvisible:[dt,{opacity:0,pointerEvents:"none"}],footerBtns:[{display:"flex"}],expandEditsBtn:[ot],editPopupContainer:[{position:"relative"}],editPopup:[st],applyButton:[lt],applyButtonSpinner:[ct],applyButtonMessage:[ut],transformHidden:[{pointerEvents:"none",opacity:.5}]});var mt=n(19751),ht=n(24209),ft=n(83401),gt=n(41398),yt=n(35214);const vt=(e,t,n,i)=>J.Z.composeKnot({root:J.Z.fromSideEffect((e=>i.set(e.scrollTop)),e.pipe(T.U((e=>e.renderOptions.layoutDensity)))),labels:i=>ht.T(i.pipe(gt.M(e),E.b((([e,i])=>{const r="root"===e.action.key?e.action.action:e.action.action.action.action;switch(r.kind){case"reviewEdit":t.set((i.activeAlert.canDismissEdits?new Map:new Map(t.get())).set(r.group,{offset:u.none,popupVisible:u.none})),n.next({type:g.lY.Type.shortenItReviewEdit,alertId:i.activeAlert.id,itemId:i.id,group:r.group});break;case"editGroupExpanded":t.set(new Map(t.get()).set(r.group,(0,a.pipe)(u.fromNullable(t.get().get(r.group)),u.fold((()=>({popupVisible:u.none,offset:u.some({top:r.offsetTop,height:r.offsetHeight})})),(e=>Object.assign(Object.assign({},e),{offset:u.some({top:r.offsetTop,height:r.offsetHeight})}))))));break;default:(0,X.vE)(r)}})),Ie.w((()=>ft.C))),mt.Yt({item:e,editsInReview:t}).pipe(T.U((({item:e,editsInReview:t})=>(0,a.pipe)(e.transform,u.filter(Z.b$.isShortenIt),u.map(K.pick("labels")),u.map((t=>(0,a.pipe)(t,Ee.filterMap((t=>(0,a.pipe)(t.group,u.fold(a.constFalse,(t=>e.activeAlert.dismissedTransformGroups.has(t))))?t.type===Z.GP.Delete?u.some(Object.assign(Object.assign({},t),{type:Z.GP.Text})):t.type===Z.GP.Insert?u.none:u.some(t):u.some(t)))))),u.fold((()=>[]),(0,a.flow)(Ee.reduce([],((n,i)=>{const r=i.type===Z.GP.Delete?{kind:i.type,text:i.text,collapsed:(0,a.pipe)(i.group,u.fold((()=>!!i.shouldBeCollapsed),(e=>!t.has(e)))),isReviewable:e.activeAlert.canDismissEdits,group:i.group}:i.type===Z.GP.Insert||i.type===Z.GP.Text?{kind:i.type,text:i.text,group:i.group}:(0,X.vE)(i);return n.length>0&&u.getEq(j.eqString).equals(n[n.length-1].group,i.group)&&u.isSome(i.group)?n.slice(0,-1).concat({group:i.group,parts:n[n.length-1].parts.concat(r)}):n.concat({group:i.group,parts:[r]})})),Ee.map((n=>({root:{isReviewableGroup:e.activeAlert.canDismissEdits&&(n.parts.length>1||1===n.parts.length&&n.parts[0].kind!==Z.GP.Text),isInReview:(0,a.pipe)(n.group,u.fold(a.constFalse,(e=>t.has(e)))),group:(0,a.pipe)(n.parts.map((e=>e.group)),(0,yt.fold)(u.getFirstMonoid()))},parts:n.parts}))))))))))}),bt=(e,t,n,i,r,a,o)=>J.Z.composeKnot({root:i=>ht.T(i.pipe(E.b((e=>{e.type===g.lY.Type.hover&&o.next("hover"===e.kind),n.next(e)})),Ie.w((()=>ft.C))),mt.Yt({item:e,isCheckingGlobal:t,transformHidden:a})),transform:J.Z.composeKnot({root:Ct(e,i,n,r),replacementLabels:vt(e,i,n,r)})});const Ct=(e,t,n,i)=>r=>ht.T(r.pipe(gt.M(e),E.b((([e,i])=>{"editPopupIntersection"===e.kind?t.set(new Map(t.get()).set(e.group,(0,a.pipe)(u.fromNullable(t.get().get(e.group)),u.fold((()=>({offset:u.none,popupVisible:u.some(e.isInsideTransformBlock)})),(t=>Object.assign(Object.assign({},t),{popupVisible:u.some(e.isInsideTransformBlock)})))))):function(e,t,n,i){const r=e.activeAlert.canDismissEdits?new Map:new Map(n.get());switch(r.delete(t.group),n.set(r),t.kind){case"dismissEdit":i.next({type:g.lY.Type.shortenItDismissEdit,alertId:e.activeAlert.id,itemId:e.id,group:t.group}),e.activeAlert.transformGroups.size===new Set(e.activeAlert.dismissedTransformGroups).add(t.group).size&&i.next({type:g.lY.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:f.X.isEligibleForDismissSurvey(e)});break;case"keepEdit":i.next({type:g.lY.Type.shortenItKeepEdit,alertId:e.activeAlert.id,itemId:e.id,group:t.group});break;default:(0,X.vE)(t.kind)}}(i,e,t,n)})),Ie.w((()=>ft.C))),Se.aj([t,i]).pipe(gt.M(e),T.U((([[e,t],n])=>(0,a.pipe)(Array.from(e.entries()),Ee.head,u.filter((()=>n.activeAlert.canDismissEdits)),u.chain((([e,t])=>(0,a.pipe)(t.offset,u.map((n=>Object.assign(Object.assign({},n),{popupVisible:(0,a.pipe)(t.popupVisible,u.getOrElse(a.constFalse)),group:e})))))),u.map((({group:e,top:n,height:i,popupVisible:r})=>({group:e,top:n+i-t,left:0,visible:r})))))))),xt={loading:ce,summary:at,notFound:he},wt=J.UI.Union.make("kind",xt),It=e=>e.pipe(T.U((e=>{const t=e.activeAlert.summaryState,n=u.fold(a.constFalse,Z.b$.isShortenIt)(e.transform);switch(t){case P.vQ.SummaryState.notFound:return{kind:"notFound"};case P.vQ.SummaryState.notRequested:return{kind:"loading"};case P.vQ.SummaryState.requestSent:return n?{kind:"summary"}:{kind:"loading"};case P.vQ.SummaryState.invalidated:case P.vQ.SummaryState.received:return{kind:"summary"};default:(0,X.vE)(t)}})));var St;!function(e){e.Full=e=>{const t=S.P.useAtomOf(e.card),{isChecking:n,isCheckingGlobal:i}=function(e,t,n){const i=S.P.useAtomOf({isWaiting:e.activeAlert.summaryState===P.vQ.SummaryState.requestSent||e.activeAlert.summaryState===P.vQ.SummaryState.invalidated,cardIsOpen:"focused"===e.visualState.transition.type||"expanded"===e.visualState.transition.type});return S.P.useMemoOnDidMount((()=>({isChecking:Se.aj([t,i]).pipe(T.U((([e,t])=>e||t.isWaiting&&t.cardIsOpen)),we.x()),isCheckingGlobal:Se.aj([n,i]).pipe(T.U((([e,t])=>e||t.isWaiting&&!t.cardIsOpen)),we.x())})))}(e.card,e.isChecking,e.isCheckingGlobal),{transformHidden:o,isMouseInside:l}=(0,M.ce)(n),c=S.P.useMemoOnDidMount((()=>s.h.create(0))),d=S.P.useMemoOnDidMount((()=>s.h.create(new Map))),p=S.P.useMemoOnDidMount((()=>t.pipe(T.U((0,a.flow)(K.pick("transform"),u.filter(Z.b$.isShortenIt))),mt.$f(u.getEq(Z.b$.ShortenIt.eq)),T.U((()=>new Map)),E.b(Ce.wW(d)))));return S.P.useSubscriptionTo(p),r.createElement(r.Fragment,null,J.UI.mount(wt,((e,t,n,i,r,a,o)=>J.Z.composeUnion({loading:me(e,n),notFound:ve(e,n),summary:bt(e,t,n,i,r,a,o)},(()=>It(e))))(t,i,e.actions,d,c,o,l)))}}(St||(St={}));var kt=n(36962),Et=n(97428),At=n(76720),Tt=n(12138),Nt=n(88702);const Ot=({card:e,actions:t,isChecking:n,isCheckingGlobal:i})=>{const o=r.useContext(h.m.Context);return r.createElement(Ft,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,cardBody:(0,a.constant)(r.createElement(M.M9,{card:e,actions:t,isChecking:n})),cardFooter:n=>r.createElement(r.Fragment,null,r.createElement(M.lJ,{card:e}),r.createElement("div",{className:Ut.fullSentenceCardFooterBtns},r.createElement(M.Nm,{title:o.card.todoAction(e.activeAlert.todoAction),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:I.hz((()=>{t.next({type:g.lY.Type.alertApply,id:e.id,eligibleForSurvey:f.X.isEligibleForAcceptSurvey(e),alertId:e.activeAlert.id,alternativeIndex:0,cardType:g.lY.getCardType(e)})}))})))})},_t=({card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:c})=>{const d=r.useContext(h.m.Context),m=s.h.create(!0);return S.P.useSubscriptionTo((0,o.pipe)(m,k.T(1),E.b((e=>t.next({type:g.lY.Type.fullSentenceHighlightChangesToggle,showChanges:e}))))),r.createElement(Ft,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,cardBody:(0,a.constant)(r.createElement(l.F.Fragment,null,r.createElement(M.__,{alert:e.activeAlert,options:e.renderOptions,badge:r.createElement(C.C.Regular,null,d.beta)}),r.createElement(Lt,{isNew:e.renderOptions.isNew,actions:t}),(0,o.pipe)(e.renderOptions.layoutDensity,v.j.Density.matchOrDefault(v.j.Density.minimal)((()=>null),(()=>r.createElement(M.dk,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),r.createElement(b.T9,{classes:{rendered:Ut.replacement,removing:Ut.replacementHidden},timeout:250,content:m.pipe(A.a(c,((t,n)=>(0,o.pipe)(n,u.fold((()=>(p.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable in full-sentence card",{cardId:e.id}),null)),(n=>r.createElement(Nt.n4,{replacements:n,showDiff:t,layoutDensity:e.renderOptions.layoutDensity})))))))}),r.createElement(M.ko,{card:e,isChecking:n}))),cardFooter:n=>r.createElement(r.Fragment,null,r.createElement(M.lJ,{card:e}),r.createElement(l.F.div,{className:Ut.fullSentenceCardFooterBtns},r.createElement(M.Nm,{title:c.pipe(T.U(u.fold((()=>""),(e=>d.card.todoAction(e.tooltipText))))),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:I.hz((()=>{t.next({type:g.lY.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:f.X.isEligibleForAcceptSurvey(e),cardType:g.lY.getCardType(e)})}))}),r.createElement(x.Ys,{className:Ut.fullSentenceCardCheckbox,checked:m,name:"set-goals"},d.card.showChangesToggle)))})},jt=({card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:s})=>{const d=r.useContext(h.m.Context),m=(0,o.pipe)(e.userInput,u.getOrElse((0,a.constant)("")));return r.createElement(Ft,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,cardBody:i=>r.createElement(r.Fragment,{key:"content"},r.createElement(M.__,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(Lt,{isNew:e.renderOptions.isNew,actions:t}),r.createElement(l.F.div,{className:i.pipe(T.U((0,c.RN)(Ut.transformContainerInvisible,Ut.transformContainer)))},r.createElement(b.T9,{classes:{rendered:Ut.replacement,removing:Ut.replacementHidden},timeout:250,content:s.pipe(T.U(u.fold((()=>(p.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null)),(n=>r.createElement(Nt.$s,{key:"label",gapValue:m,replacements:n,layoutDensity:e.renderOptions.layoutDensity,onFocus:()=>t.next({type:g.lY.Type.focusUserInput,id:e.id,kind:"focus"}),onChange:n=>t.next({type:g.lY.Type.changeUserInput,alertId:e.activeAlert.id,cardId:e.id,userInput:n}),onApply:I.hz((()=>t.next({type:g.lY.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:f.X.isEligibleForAcceptSurvey(e),cardType:g.lY.getCardType(e)})))})))))})),r.createElement(w.Xk,{className:i.pipe(T.U((0,c.RN)(Ut.transformHint,Ut.transformHintInvisible)))},d.card.updatingSuggestion),r.createElement(M.ko,{card:e,isChecking:n}),(0,o.pipe)(e.renderOptions.layoutDensity,v.j.Density.matchOrDefault(v.j.Density.minimal)((()=>null),(()=>r.createElement(M.dk,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}))))),cardFooter:(0,a.constant)(r.createElement(M.lJ,{card:e}))})},$t=({card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:s})=>{const d=r.useContext(h.m.Context);return r.createElement(Ft,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,cardBody:i=>r.createElement(r.Fragment,null,r.createElement(l.F.Fragment,null,r.createElement(M.__,{alert:e.activeAlert,options:e.renderOptions,badge:r.createElement(C.C.Regular,null,d.beta)})),r.createElement(l.F.div,{className:i.pipe(T.U((0,c.RN)(Ut.transformContainerInvisible,Ut.transformContainer)))},r.createElement(b.T9,{classes:{rendered:Ut.replacement,removing:Ut.replacementHidden},timeout:250,content:s.pipe(T.U(u.fold((()=>(p.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null)),(n=>{const i=(0,o.pipe)(e.synfonySelection,u.getOrElse((()=>[])));return r.createElement(Nt.Px,{replacements:n,onClick:n=>I.hz((()=>{t.next({type:g.lY.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n,cardType:g.lY.getCardType(e),id:e.id,eligibleForSurvey:f.X.isEligibleForAcceptSurvey(e),drilldownSuggestionIds:i})})),onDive:(n,r)=>t.next({type:g.GM.Kind.drilldown,alertId:e.activeAlert.id,wordIndex:n,cardId:e.id,alternativeId:r,drilldownSuggestionIds:i}),onBack:()=>t.next({type:g.GM.Kind.back,cardId:e.id}),selection:i,layoutDensity:e.renderOptions.layoutDensity})}))))})),r.createElement(w.Xk,{className:i.pipe(T.U((0,c.RN)(Ut.transformHint,Ut.transformHintInvisible)))},d.card.updatingSuggestion),r.createElement(M.ko,{card:e,isChecking:n}),(0,o.pipe)(e.renderOptions.layoutDensity,v.j.Density.matchOrDefault(v.j.Density.minimal)((()=>null),(()=>r.createElement(M.dk,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}))))),cardFooter:(0,a.constant)(r.createElement(M.lJ,{card:e}))})},Pt=({card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:s})=>{const d=r.useContext(h.m.Context);return r.createElement(Ft,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,cardBody:i=>r.createElement(r.Fragment,null,r.createElement(M.__,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(l.F.div,{className:i.pipe(T.U((0,c.RN)(Ut.transformContainerInvisible,Ut.transformContainer)))},r.createElement(b.T9,{classes:{rendered:Ut.replacement,removing:Ut.replacementHidden},timeout:250,content:s.pipe(T.U(u.fold((()=>(p.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null)),(n=>r.createElement(M.hT,{rl:n,onClick:n=>I.hz((()=>{t.next({type:g.lY.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n,id:e.id,eligibleForSurvey:f.X.isEligibleForAcceptSurvey(e),cardType:g.lY.getCardType(e)})})),layoutDensity:e.renderOptions.layoutDensity})))))})),r.createElement(w.Xk,{className:i.pipe(T.U((0,c.RN)(Ut.transformHint,Ut.transformHintInvisible)))},d.card.updatingSuggestion),r.createElement(M.ko,{card:e,isChecking:n}),(0,o.pipe)(e.renderOptions.layoutDensity,v.j.Density.matchOrDefault(v.j.Density.minimal)((()=>null),(()=>r.createElement(M.dk,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}))))),cardFooter:(0,a.constant)(r.createElement(M.lJ,{card:e}))})},Ft=e=>{var t,n,i;return r.createElement(M.VM,Object.assign({},e,{cardExtra:null!==(t=e.cardExtra)&&void 0!==t?t:(0,a.constant)(r.createElement(M.mQ,{card:e.card,actions:e.actions})),mainActions:null!==(n=e.mainActions)&&void 0!==n?n:(0,a.constant)(r.createElement(M.Kg,{card:e.card,feedbackActions:e.actions})),subActions:null!==(i=e.subActions)&&void 0!==i?i:(0,a.constant)(r.createElement(M.q4,{card:e.card,actions:e.actions}))}))},Dt=({card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:o})=>y.C.isSmartPhrasesItem(e)?r.createElement(kt.X.Full,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:o}):y.C.isSentenceLevelBrandTonesItem(e)?r.createElement(i.Full,{card:e,actions:t}):y.C.isTakeawayItem(e)?r.createElement(At.o.Full,{card:e,actions:t}):y.C.isShortenItItem(e)?r.createElement(St.Full,{card:e,actions:t,isChecking:n,isCheckingGlobal:a}):y.C.isToneAIItem(e)?r.createElement(Tt.Y.Full,{card:e,actions:t,isChecking:n,isCheckingGlobal:a}):y.C.isEthicalAIItem(e)?r.createElement(O.T.Full,{card:e,actions:t,isChecking:n}):y.C.isSuggestedSnippetItem(e)?r.createElement(Et.w.Full,{card:e,actions:t,isChecking:n}):f.X.hasTransform(e)?f.X.hasFullSentenceTransform(e)?r.createElement(_t,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:o}):f.X.hasOneGapTransform(e)?r.createElement(jt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:o}):f.X.hasSynfonyTransform(e)?r.createElement($t,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:o}):r.createElement(Pt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:o}):f.X.isSimple(e)?r.createElement(Ot,{card:e,actions:t,isChecking:n,isCheckingGlobal:a}):r.createElement(M.eb,{card:e,actions:t,isChecking:n}),Lt=e=>r.createElement(l.F.Fragment,null,e.isNew.pipe(T.U(u.fold(a.constNull,(t=>r.createElement(M.jt,{type:t,actions:e.actions,key:"new-notification"})))),N.O(null))),Bt={transition:`opacity ${m.u.seconds(M.k_)}`,transitionDelay:m.u.seconds(M.k_)},Mt={position:"absolute",top:m.u.rem(2),color:d.Il.CoreNeutral40,lineHeight:m.u.rem(2),transition:`opacity ${m.u.seconds(M.k_)}`,transitionDelay:m.u.seconds(M.k_)},Rt={transition:`opacity ${m.u.seconds(M.k_)}`},Ht={fontSize:m.u.rem(d.xv.BodySize),lineHeight:m.u.rem(2.0625)},Ut=Object.assign({},m.u.stylesheet({invisible:[M.Bn],transformContainer:[Bt],transformContainerInvisible:[Bt,M.Bn,{transitionDelay:"initial"}],transformHint:[Mt],transformHintInvisible:[Mt,M.Bn,{transitionDelay:"initial"}],replacement:[Rt],replacementHidden:[Rt,{opacity:0}],fullSentenceCardFooterBtns:[{display:"flex",flexWrap:"wrap"}],fullSentenceCardCheckbox:[Ht]}))},19157:(e,t,n)=>{n.d(t,{P:()=>_,l:()=>K});var i=n(27378),r=n(40327),a=n(12187),o=n(5739),s=n(77176),l=n(5114),c=n(83078),u=n(44060),d=n(63969),p=n(40219),m=n(30763),h=n(66896),f=n(40018),g=n(17594),y=n(84313),v=n(91549),b=n(75316),C=n(62310),x=n(29245),w=n(21474),I=n(3656),S=n(79589),k=n(50224),E=n(28584);const A=({theme:e={},action:t,hasLiteralEmoji:n,useEmojiID:r})=>i.createElement("div",Object.assign({},(0,a.Sh)(e.wrapper,Q.ctaText)),n?i.createElement(x.dy,{emojiClassName:(0,a.Sh)(Q.cardLogo,e.logo).className},t):r?i.createElement(i.Fragment,null,i.createElement(x.In,{id:r,className:(0,a.Sh)(Q.cardLogo,e.logo).className}),t):t),T=({vox:e,theme:t={}})=>i.createElement(i.Fragment,null,(0,r.pipe)(e.logoUrl,l.map((e=>i.createElement(E.Im,Object.assign({},(0,a.Sh)(Q.cardLogo,t.logo),{logoUrl:e})))),l.toNullable),i.createElement(E.$x,Object.assign({vox:e},(0,a.Sh)(Q.cta,t.label),{isMinimalCard:!1}))),N=e=>[h.R.outcomeTypeMatch(e.lensType)({correctness:k.m.dotCorrectness,clarity:k.m.dotClarity,premium:k.m.dotAdvanced,engagement:k.m.dotEngagement,delivery:k.m.dotDelivery,vox:k.m.dotVox}),Q.cta],O=()=>{const e=i.useContext(m.m.Context);return i.createElement(C.C.Regular,{className:Q.newLabel},e.new)};var _;!function(e){e.Bundle=({card:e,actions:t})=>{const[n]=N(e.activeAlert);return i.createElement(S.b.Mini,Object.assign({},(0,a.Sh)(K.wrapper,K.bundleContainer,K.dot,n),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],counter:i.createElement(I.CL,{className:K.alertsCounter},e.alerts.length)}),i.createElement(o.F.div,{className:K.miniContainer},i.createElement("div",{className:K.highlightedText},v.R.bundleTitle(e))))},e.Standard=({card:e,actions:n})=>{const c=i.useContext(m.m.Context),[u,d]=N(e.activeAlert);return i.createElement(S.b.Mini,Object.assign({},(0,a.Sh)(K.wrapper,K.dot,u),{actions:n,cardId:e.id,getActiveAlert:()=>e.activeAlert}),i.createElement(o.F.div,{className:K.miniContainer},i.createElement("div",{className:K.highlightedText},e.activeAlert.highlightTexts[0]),i.createElement("div",{className:K.middleDot},""),(0,r.pipe)(e.activeAlert.extraProperties.vox,l.map((e=>i.createElement(T,{vox:e,theme:{logo:K.cardLogo}}))),l.getOrElse((()=>i.createElement(i.Fragment,null,i.createElement(A,{hasLiteralEmoji:g.$.hasTone(e.activeAlert),action:y.X.miniTitle(e,c),theme:{wrapper:d,logo:K.cardLogo},useEmojiID:b.C.isToneAIItem(e)?e.activeAlert.toneAlternatives[e.activeAlert.selectedToneAlternativeIdx].emojiID:void 0}),b.C.isTakeawayItem(e)&&i.createElement(t,{item:e,className:H.takeawayIconStandard}))))),(0,r.pipe)(e.renderOptions.isNew,s.U((e=>l.isSome(e)?i.createElement(O,{key:"new-label"}):null)))))};const t=({item:e,className:t})=>(c.contains(f.TO.correctlyDetected)(e.activeAlert.takeawayFeedback)||c.contains(f.TO.correctlyDetectedAndDone)(e.activeAlert.takeawayFeedback))&&e.activeAlert.takeawayIsLikelyToBeRead?i.createElement(w.JO.ValidationOk,{width:16,className:t}):i.createElement(w.JO.Megaphone,{width:16,className:t});e.TwoLined=({card:e,actions:n})=>{const o=i.useContext(m.m.Context),[s,c]=N(e.activeAlert);return i.createElement(S.b.Mini,Object.assign({},(0,a.Sh)(H.wrapper,H.dot,s),{actions:n,cardId:e.id,getActiveAlert:()=>e.activeAlert}),i.createElement("div",{className:H.miniContainer},(0,r.pipe)(e.activeAlert.extraProperties.vox,l.map((e=>i.createElement(T,{vox:e,theme:{logo:H.cardLogo,label:H.subTitle}}))),l.getOrElse((()=>i.createElement(i.Fragment,null,i.createElement(A,{hasLiteralEmoji:g.$.hasTone(e.activeAlert),action:y.X.miniTitle(e,o),theme:{wrapper:(0,a.Sh)(c,H.ctaText,H.subTitle).className,logo:H.cardLogo},useEmojiID:b.C.isToneAIItem(e)?e.activeAlert.toneAlternatives[e.activeAlert.selectedToneAlternativeIdx].emojiID:void 0}),b.C.isTakeawayItem(e)&&i.createElement(t,{item:e,className:H.takeawayIconMini}))))),i.createElement("div",{className:F},e.activeAlert.highlightTexts[0])))}}(_||(_={}));const j="0 1px 8px rgba(109, 117, 141, .18)",$={$nest:{"&:before":{top:d.u.rem(.85),left:0}}},P="miniTwoLinedHighlightedText",F=d.u.joinClasses([P,d.u.style({overflow:"hidden",marginTop:d.u.rem(-.25),color:u.Il.CoreNeutral90,textOverflow:"ellipsis"})]),D={height:d.u.rem(3.25),borderRadius:d.u.rem(p.Jr),boxShadow:j,$nest:{"&:hover":{boxShadow:j},"&:hover .miniTwoLinedHighlightedText":{borderColor:"transparent"}}},L={top:d.u.rem(.7)},B={fontWeight:d.u.important(400),fontSize:d.u.rem(.75)},M={position:"absolute",left:d.u.rem(.5),minWidth:"initial",minHeight:"initial",background:u.Il.CoreNeutral0},R=Object.assign(Object.assign({},M),{top:d.u.rem(.6)}),H=d.u.stylesheet({dot:[$],wrapper:[D],miniContainer:[{flexDirection:"column"}],cardLogo:[L],subTitle:[B],ctaText:[{overflow:"hidden",textOverflow:"ellipsis"}],takeawayIconMini:[R],takeawayIconStandard:[M]}),U={height:d.u.rem(3),$nest:{"&:hover .highlightText":{borderColor:"transparent"}}},W={$nest:{"&:before":{top:d.u.px(1),bottom:0,left:0}}},q={height:d.u.important(d.u.rem(2.5)),borderRadius:d.u.rem(p.Jr)},z={color:u.Il.CoreNeutral50,display:"flex",width:d.u.rem(2),height:d.u.percent(100),justifyContent:"center",alignItems:"center"},V={overflow:"hidden",color:u.Il.CoreNeutral90,textOverflow:"ellipsis"},G={display:"inline-block",padding:`0 ${d.u.rem(.5)}`},Y={top:0,bottom:0,left:d.u.rem(.5),margin:"auto"},K=d.u.stylesheet({wrapper:[U],dot:[W],miniContainer:[{display:"flex",justifyContent:"flex-end",alignItems:"center"}],bundleContainer:[q],alertsCounter:[z],highlightedText:[V],middleDot:[G],cardLogo:[Y]}),J={color:u.Il.CoreNeutral50,fontWeight:300},X={position:"absolute",left:d.u.rem(.5),width:d.u.rem(1),height:d.u.rem(1),background:u.Il.CoreNeutral0},Z={marginLeft:d.u.rem(.5)},Q=d.u.stylesheet({ctaText:[{$nest:{"&:first-letter":{textTransform:"uppercase"}}}],cta:[J],cardLogo:[X],newLabel:[Z]})},19025:(e,t,n)=>{n.d(t,{f:()=>c,G:()=>u});var i=n(40327),r=n(44060),a=n(63969),o=n(40219),s=n(4890),l=n(50224);const c=e=>({container:(0,i.pipe)(e,s.j.Density.matchOrDefault(s.j.Density.cozy)((()=>h.cozyCardContainer),(()=>h.compactCardContainer)))}),u=e=>Object.assign(Object.assign({},c(e.layoutDensity)),{wrapper:(0,i.pipe)(e.layoutDensity,s.j.Density.matchOrDefault(s.j.Density.minimal)((()=>h.minimalCardWrapper),(()=>{})))}),d={padding:`${a.u.rem(.75)} ${a.u.rem(.5)} ${a.u.rem(.5)} ${a.u.rem(1)}`},p={margin:`${a.u.rem(1)} 0 ${a.u.rem(1.5)}`,borderRadius:a.u.rem(o.Jr),background:r.Il.CoreNeutral0,boxShadow:`0 ${a.u.rem(.625)} ${a.u.rem(o.mJ)} 0 rgba(198, 203, 222, .45)`},m={boxShadow:"0 1px 8px rgba(109, 117, 141, .18)",borderRadius:a.u.rem(o.Jr),background:r.Il.CoreNeutral0},h=Object.assign(Object.assign({},a.u.stylesheet({minimalCardWrapper:[d],compactCardContainer:[m]})),{cozyCardContainer:a.u.joinClasses([l.g.cozyCardContainerSelector,a.u.style(p)])})},39271:(e,t,n)=>{n.d(t,{T:()=>y});var i=n(27378),r=n(12187),a=n(5739),o=n(38983),s=n(2834),l=n(18208),c=n(44060),u=n(63969),d=n(40219),p=n(30763),m=n(15646),h=n(7046),f=n(21474);function g({href:e,children:t,className:n}){return i.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:n,href:e},t)}var y,v=n(85255),b=n(79589),C=n(32225);!function(e){e.Mini=({card:e,actions:t,twoLined:n,useBundleContainer:o})=>i.createElement(b.b.Mini,Object.assign({},(0,r.Sh)(n?E.twoLinedWrapper:E.standardWrapper,o?E.bundleContainer:null),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],hideDot:!0}),i.createElement(a.F.div,{className:E.content},i.createElement(f.JO.EthicalAI.Heart,{className:E.icon}),i.createElement("div",{className:E.highlightedText},e.activeAlert.miniCardTitle))),e.Full=({card:e,actions:t,isChecking:n})=>{const r=i.useContext(p.m.Context),a=o.h.create(!1);return v.P.useSubscriptionTo(n.pipe(s.b((e=>a.set(e))))),i.createElement(C.eb,{card:e,actions:t,isChecking:n,body:i.createElement(i.Fragment,null,i.createElement(C.__,{alert:e.activeAlert,options:e.renderOptions}),i.createElement(C.Dx,{text:e.activeAlert.title}),i.createElement(C.dk,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})),footer:i.createElement(i.Fragment,null,i.createElement(C.lJ,{card:e}),i.createElement(h.zx.Primary,{key:"ethical-ai-external-link",name:"ethical-ai-external-link",title:r.card.todoAction(e.activeAlert.todoAction),onClick:()=>t.next({type:m.lY.Type.ethicalAIOpenExternalLink,alertId:e.activeAlert.id,itemId:e.id,externalLink:e.activeAlert.externalLink}),className:O.externalLinkButton},i.createElement(g,{href:e.activeAlert.externalLink},i.createElement("div",{className:O.externalLinkButtonContent},l.capitalize(e.activeAlert.todoAction),i.createElement(f.JO.EthicalAI.ExternalLink,{className:O.externalLinkButtonContentIcon}))))),alwaysShowWrongAndOffensiveButtons:!0})}}(y||(y={}));const x={height:u.u.rem(3.25),borderRadius:u.u.rem(d.Jr),boxShadow:"0 1px 8px rgba(109, 117, 141, .18)"},w={height:u.u.rem(3)},I={height:u.u.important(u.u.rem(2.5)),borderRadius:u.u.rem(d.Jr)},S={width:u.u.rem(1),height:u.u.rem(1),marginRight:u.u.rem(.5)},k={overflow:"hidden",color:c.Il.CoreNeutral90,textOverflow:"ellipsis"},E=u.u.stylesheet({twoLinedWrapper:[x],standardWrapper:[w],bundleContainer:[I],content:[{display:"flex",alignItems:"center"}],icon:[S],highlightedText:[k]}),A={width:u.u.percent(100),$nest:{a:{color:c.Il.CoreNeutral0,textDecoration:"none"}}},T={width:u.u.percent(100),position:"relative",textAlign:"center"},N={position:"absolute",top:u.u.rem(.25),right:u.u.rem(.25)},O=u.u.stylesheet({externalLinkButton:[A],externalLinkButtonContent:[T],externalLinkButtonContentIcon:[N]})},91338:(e,t,n)=>{n.d(t,{A:()=>Ne});var i,r=n(27378),a=n(57050),o=n(40327),s=n(5739),l=n(84313),c=n(75316),u=n(4890),d=n(28043),p=n(77176),m=n(79589),h=n(38983),f=n(8125),g=n(5114),y=n(81531),v=n(30763),b=n(15646),C=n(7046),x=n(12187),w=n(44060),I=n(63969),S=n(24588);!function(e){e.Item=({className:e,children:t,onChange:n,checked:i,tabIndex:a,id:o})=>r.createElement(s.F.label,Object.assign({},(0,x.Sh)(T.radio,e)),i.view((e=>r.createElement(r.Fragment,{key:`radio-${o}`},r.createElement("input",{onChange:n,tabIndex:a||-1,type:"radio",checked:e,className:T.radioInputHidden}),r.createElement("span",{className:E})))),t),e.Group=({items:t,selectedItemIndex:n,itemWrapperClassName:i,onChange:a})=>r.createElement(s.F.Fragment,null,t.map(((t,o)=>r.createElement(e.Item,{id:o,key:o,onChange:()=>{n.set(o),a&&a(o)},checked:n.view((e=>o===e)),className:i},t))))}(i||(i={}));const k="radioInput",E=I.u.joinClasses([k,I.u.style({display:"inline-block",boxSizing:"border-box",minWidth:I.u.rem(1),width:I.u.rem(1),height:I.u.rem(1),border:`${I.u.rem(.125)} solid ${S.FW}`,borderRadius:I.u.percent(50),backgroundColor:w.Il.CoreNeutral0,content:"' '"})]),A={outline:"none",appearance:"none","-webkit-appearance":"none",$nest:{"&:checked + .radioInput":{border:`${I.u.rem(.25)} solid ${w.Il.CoreBlue50}`}}},T=I.u.stylesheet({radioInputHidden:[A],radio:[{display:"inline-flex",cursor:"pointer",alignItems:"center"}]});var N=n(3656),O=n(28706),_=n(1883);const j=I.u.style({margin:`${I.u.rem(1)} 0`}),$=I.u.style({marginLeft:I.u.rem(.5),lineHeight:I.u.rem(1.3125),fontSize:I.u.rem(.875),color:w.Il.CoreNeutral90}),P=I.u.style({display:"flex",flexDirection:"column",$nest:{"& > *:not(:last-child)":{marginBottom:I.u.rem(1)}}}),F=I.u.style({marginLeft:I.u.rem(1)}),D={color:w.Il.CoreRed60,fontSize:I.u.rem(.75),lineHeight:I.u.rem(1.125)},L=I.u.style(D),B=I.u.style(D,{visibility:"hidden"});var M=n(19025);const R=({card:e,actions:t})=>{const n=r.useContext(v.m.Context).card.feedbackForm,a=h.h.create(void 0),l=h.h.create(!1);return(0,o.pipe)(e.visualState.transition,g.fromPredicate((e=>"feedback_form"===e.type)),g.fold((()=>(y.Monitoring.Logging.getLogger("FeedbackForm").error("Trying to render feedback form from non-feedback state",e),null)),(o=>{const c=n=>t.next(Object.assign({alertId:e.activeAlert.id,reason:n},o.submitActionType===b.lY.Type.alertApplyFormSubmit?{type:b.lY.Type.alertApplyFormSubmit,alertApplyActionProps:o.alertApplyActionProps}:{type:b.lY.Type.alertIgnoreFormSubmit}));return r.createElement(_.Z,{onFocus:()=>t.next({type:b.lY.Type.alertIgnoreFeedbackFormShow,alertId:e.activeAlert.id}),theme:(0,M.G)(e.renderOptions),visualState:e.visualState,body:r.createElement(r.Fragment,null,r.createElement(N.H4,{className:j},o.survey.question||n.dismissReason),r.createElement("div",{className:P},r.createElement(i.Group,{selectedItemIndex:a,items:o.survey.options.map((e=>r.createElement("div",{className:$},e.text))),onChange:()=>l.set(!1)}))),mainActions:r.createElement(r.Fragment,null),footer:r.createElement(r.Fragment,null,r.createElement(s.F.div,{"aria-hidden":l,className:l.view((0,f.RN)(L,B))},n.error),r.createElement("div",null,r.createElement(C.zx.Primary,{name:"submitCardFeedbackForm",onClick:()=>{const e=a.get();return void 0===e?l.set(!0):O.hz((()=>c(o.survey.options[e].key)))()}},n.submit),r.createElement(C.zx.Ghost,{className:F,name:"skipCardFeedbackForm",onClick:O.hz((()=>c("skipped")))},n.skip))),subActions:r.createElement(r.Fragment,null)})})))};var H=n(21882),U=n(19157),W=n(21474),q=n(85255),z=n(32225);const V=I.u.style({marginRight:I.u.rem(-.5),marginTop:I.u.rem(.5)}),G=I.u.style({padding:`0 ${I.u.rem(1.625)} !important`,marginRight:I.u.rem(.125)}),Y=I.u.style({marginRight:0}),K=({card:e,actions:t,showLabel:n=!0})=>{const i=r.useRef(h.h.create(!1));q.P.useEffectOnWillUnmount((()=>{i.current.get()||(0,o.pipe)(e.muteCategory,g.map((n=>t.next({type:b.lY.Type.mutedAlertSuccessDismissed,id:e.id,categoryId:n.id}))))}));const a=r.useContext(v.m.Context).card.mutedAlertCard;return r.createElement(_.Z,{onFocus:()=>t.next({type:b.lY.Type.mutedAlertSuccessShow}),theme:(0,M.G)(e.renderOptions),visualState:e.visualState,body:r.createElement(r.Fragment,null,n?r.createElement(z.__,{alert:e.activeAlert,options:e.renderOptions}):null,r.createElement(N.XY,null,a.description((0,o.pipe)(e.muteCategory,g.fold((()=>""),(e=>e.description)))))),mainActions:r.createElement(r.Fragment,null),footer:r.createElement("div",{className:V},r.createElement(C.zx.Primary,{name:"gotIt",className:G,onClick:()=>O.hz((()=>t.next({type:b.lY.Type.switchToNext})))()},a.successButtonLabel),r.createElement(C.zx.Ghost,{name:"turnBackOn",onClick:O.hz((()=>{i.current.set(!0),(0,o.pipe)(e.muteCategory,g.map((n=>t.next({type:b.lY.Type.undoMuteAlertCategory,categoryId:n.id,viewType:e.activeAlert.type,id:e.id}))))}))},a.undoButtonLabel,r.createElement(W.JO.Undo,{color:w.Il.CoreBlue50,className:Y}))),subActions:r.createElement(C.zx.Tertiary,{name:"manageOptionalSuggestions",onClick:()=>t.next({type:b.lY.Type.mutedAlertSuggestionManagementClick})},a.settingsLabel,r.createElement(W.JO.OuterLink,null))})};var J=n(39271),X=(n(32821),n(71249)),Z=n(22232),Q=n(83078),ee=n(50628),te=n(2834),ne=n(51838);const ie=({parentKey:e,from:t,transition:n,to:i,onAnimationEnd:a,renderContent:o})=>{const s=re(n.animateFrom,"from"),l=re(n.animateTo,"to"),c=s.needFullWidth||l.needFullWidth;return r.createElement("div",{key:`transition-${e}`,className:I.u.joinClasses([ae,c?oe:""])},t&&r.createElement(r.Fragment,null,r.createElement("div",{onAnimationEnd:()=>a(n.fromName),className:I.u.joinClasses(s.className)},o(t,`from-${e}`,[]))),r.createElement("div",{onAnimationEnd:()=>a(n.toName),className:I.u.joinClasses(l.className)},o(i,`to-${e}`,[])))};function re(e,t){switch(e){case"fadeOut":return{className:[le],needFullWidth:!1};case"fadeIn":return{className:[ue],needFullWidth:!1};case"slideLeft":return{className:pe(t,"left"),needFullWidth:!0};case"slideRight":return{className:pe(t,"right"),needFullWidth:!0};default:return{className:[],needFullWidth:!1}}}const ae=I.u.style({position:"relative",overflow:"hidden"}),oe=I.u.style({width:"100%"}),se=I.u.keyframes({from:{opacity:1,visibility:"visible"},to:{opacity:0,visibility:"hidden"}}),le=I.u.style({position:"absolute",opacity:0,visibility:"hidden",animation:`${se} ${I.u.seconds(.3)} ease-out`}),ce=I.u.keyframes({from:{opacity:0,visibility:"hidden"},to:{opacity:1,visibility:"visible"}}),ue=I.u.style({animation:`${ce} ${I.u.seconds(.3)} ease-out`}),de=e=>`calc(${e}px * var(--cardWidth))`,pe=(e,t)=>{const n="to"===e?0:"left"===t?`${de(-1)}`:`${de(1)}`,i="from"===e?0:"left"===t?`${de(1)}`:`${de(-1)}`,r=I.u.keyframes({from:{transform:`translateX(${i})`,visibility:"visible"},to:{transform:`translateX(${n})`,visibility:"from"===e?"hidden":"visible"}}),a=I.u.style({position:"absolute",left:0,right:0,visibility:"hidden"}),o=I.u.style({position:"from"===e?"absolute":"relative",animation:`${r} ${I.u.seconds(.3)} ease-out`});return"from"===e?[a,o]:[o]},me=({content:e,prevContent:t,transitions:n,designSystem:i,notify:o,onAnimationEnd:s})=>{const[l,c]=r.useState(0),u=new Map,d=(e,t,n,o)=>{const s=e.name,c=Boolean(s)?n.find((e=>e.toName===s)):void 0;if(null!=c){const n=u.get(c.fromName);return r.createElement(ie,{parentKey:t,renderContent:(e,t)=>d(e,t,[],a.constVoid),onAnimationEnd:o,from:n,to:e,transition:c})}switch(e.type){case ne.hC.text:return r.createElement(i.text,Object.assign({key:t},e));case ne.hC.button:const a=e.label.parts.map(((e,t)=>e.type===ne.hC.text?e.text:d(e,t,n,o)));return r.createElement(i.button[e.kind],{key:t,text:r.createElement(i.block,Object.assign(Object.assign({key:t},e.label),{parts:a,children:a})),name:e.name,state:e.state,tooltip:e.tooltip,onClick:m(e)});case ne.hC.alternativeChoice:return r.createElement(i.alternativeChoice,{key:t,designSystem:i,content:e.alternatives,activeIndex:l,notify:m});case ne.hC.icon:return p(e.source,e.backgroundColor,t);case ne.hC.count:return r.createElement(i.count,Object.assign({key:t},e));case ne.hC.block:return r.createElement(i.block,Object.assign(Object.assign({key:t},e),{parts:e.parts.map(((e,t)=>d(e,t,n,o)))}));case ne.hC.row:return r.createElement(i.row,Object.assign(Object.assign({key:t},e),{left:e.left.map(((e,t)=>d(e,t,n,o))),right:e.right.map(((e,t)=>d(e,t,n,o)))}));case ne.hC.column:return r.createElement(i.column,Object.assign(Object.assign({key:t},e),{children:e.children.map(((e,t)=>d(e,t,n,o)))}));default:return(0,Z.L0)(e),r.createElement("div",null,"unknown element")}},p=(e,t,n)=>"known"===e.kind?r.createElement(i.icon[e.name],{key:n,backgroundColor:t}):r.createElement(i.image,Object.assign(Object.assign({key:n},e),{backgroundColor:t})),m=e=>()=>(0,a.pipe)(e.actions,function(e){return X.cons({type:ne.zx.ActionType.notify,id:e.id,userAction:"click"})}(e),f,o);function f(e){return(0,a.pipe)(e,X.map((e=>e.type===ne.zx.ActionType.applyAlternative?{type:ne.zx.ActionType.applyAlternative,alternativeIndex:l}:e.type===ne.zx.ActionType.selectAlternative?(c(e.alternativeIndex),e):e)))}g.isSome(t)&&ne.ab.walk(Q.unsafeGet(t),(e=>{const t=e.name;Boolean(t)&&null!=t&&u.set(t,e)}));const y=n.reduce(((e,t)=>(""!==t.animateFrom&&u.has(t.fromName)&&(e+=1),""!==t.animateTo&&(e+=1),e)),0),v=h.h.create([]);return q.P.useSubscriptionTo((0,a.pipe)(v,ee.P((e=>e.length===y)),te.b(s))),d(e,0,n,(e=>v.modify((t=>[...t,e]))))};var he=n(87889);const fe=({card:e,actions:t})=>r.createElement(me,{content:e.cardDSL.value,prevContent:e.prevCardDSL,transitions:[...e.transitions],designSystem:he.k,notify:n=>t.next({type:b.lY.Type.sduiCardAction,cardId:e.id,actions:n}),onAnimationEnd:()=>t.next({type:b.eI.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId})});var ge=n(36962),ye=n(97428),ve=n(66346);const be=({onLeftClick:e,onRightClick:t,currentMatch:n,totalMatch:i,replaceOneMatch:a=!0,disableOnEnd:o=!0,style:s})=>{const l=r.useContext(v.m.Context).card.matchesNavigation;return 0===i?null:1===i&&a?r.createElement("div",Object.assign({},(0,x.Sh)(we.matchesRow,s.matchesRow||!1)),r.createElement(N.ck,Object.assign({},(0,x.Sh)(we.matchesCount,s.matchesCount||!1)),l.numberOfMatches(i))):r.createElement("div",Object.assign({},(0,x.Sh)(we.matchesRow,s.matchesRow||!1)),r.createElement(C.zx.Ghost,{disabled:o&&0===n,name:"left",title:l.prev,onClick:e},r.createElement(W.JO.Arrow,Object.assign({},(0,x.Sh)(we.leftButtonIcon,s.leftButtonIcon||!1)))),r.createElement(N.ck,Object.assign({},(0,x.Sh)(we.matchesCount,s.matchesCount||!1)),l.currentMatchPosition(n+1,i)),r.createElement(C.zx.Ghost,{disabled:o&&n===i-1,name:"right",title:l.next,onClick:t},r.createElement(W.JO.Arrow,Object.assign({},(0,x.Sh)(we.rightButtonIcon,s.rightButtonIcon||!1)))))},Ce={display:"inline-block",verticalAlign:"middle",$nest:{"& > * + *":{marginLeft:I.u.rem(.25)}}},xe={textTransform:"uppercase",letterSpacing:I.u.px(.8),lineHeight:I.u.rem(2)},we=I.u.stylesheet({matchesRow:[Ce],leftButtonIcon:[{transform:"rotate(90deg)"}],rightButtonIcon:[{transform:"rotate(270deg)"}],matchesCount:[xe]});function Ie(e,t,n){const{activeAlert:i,activeHighlightIndex:r}=t,a=i.getHighlightRanges(),o=(r+("left"===e?a.length-1:1))%a.length;n.next({type:b.lY.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"sameAlert",card:t,highlightIndex:o},direction:e})}const Se=({card:e,actions:t,selectedLabelIndex:n,isChecking:i})=>{const a=r.useContext(v.m.Context),o=h.h.create(!1);return q.P.useSubscriptionTo(i.pipe(te.b((e=>o.set(e))))),r.createElement(z.Nm,{applyMessage:e.activeAlert.todoAction,checkingMessage:a.card.checking,title:a.card.todoAction(e.activeAlert.todoAction),checkingInProgress:o,onClick:()=>{t.next({type:b.lY.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n.get(),id:e.id,eligibleForSurvey:l.X.isEligibleForAcceptSurvey(e),cardType:b.lY.getCardType(e)})}})},ke=({card:e,actions:t})=>r.createElement(be,{onLeftClick:()=>Ie("left",e,t),onRightClick:()=>Ie("right",e,t),currentMatch:e.activeHighlightIndex,totalMatch:e.activeAlert.getHighlightRanges().length,disableOnEnd:!1,style:{}});var Ee=n(26662);const Ae=({activeAlert:e,selectedLabelIndex:t,actions:n})=>{const a=r.useContext(v.m.Context);return r.createElement("div",{className:Ee.V.optionsContainer},e.labels.map(((e,o)=>r.createElement(r.Fragment,{key:`option-${o}`},r.createElement(i.Item,{className:Ee.V.optionLabel,onChange:()=>{t.set(o),n.next({type:b.lY.Type.alternativeReplacementRadioButtonClick,index:o})},checked:t.view((e=>e===o))},r.createElement(N.XY,{className:Ee.V.optionRadio},e.label)),r.createElement(N.x4,{className:Ee.V.optionExample},e.replacementTexts.join("; ")),r.createElement(N.x4,{className:Ee.V.optionSecondaryAttribute},a.card.matchesNavigation.numberOfMatches(e.matches))))))},Te=({card:e,actions:t,isChecking:n,isCheckingGlobal:i})=>{const a=h.h.create(0);return r.createElement(_.Z,{visualState:e.visualState,onFocus:()=>t.next({type:b.lY.Type.alertCardShow,cardType:b.lY.getCardType(e),alertId:e.activeAlert.id}),theme:Object.assign({wrapper:Ee.V.superWrapper,content:i.pipe(p.U((0,f.RN)(Ee.V.loadingWrapperInvisible,Ee.V.loadingWrapper)))},(0,M.f)(e.renderOptions.layoutDensity)),extra:r.createElement(z.o,{isChecking:i}),body:r.createElement(r.Fragment,null,r.createElement(z.__,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(z.Ot,{alert:e.activeAlert}),r.createElement(z.ko,{card:e,isChecking:n}),r.createElement(z.dk,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}),r.createElement(Ae,{activeAlert:e.activeAlert,selectedLabelIndex:a,actions:t})),mainActions:r.createElement(z.Kg,{card:e,feedbackActions:t}),footer:r.createElement(r.Fragment,null,r.createElement(z.lJ,{card:e}),r.createElement(Se,{selectedLabelIndex:a,card:e,actions:t,isChecking:n})),navigation:r.createElement(ke,{card:e,actions:t}),subActions:r.createElement(ve.Vh,{actions:t,card:e,mode:"mini"})})};var Ne;!function(e){e.Full=({card:e,actions:t})=>{const{isChecking:n,isCheckingGlobal:i,transform:o}=l.X.useCardStates(e),c=e=>r.createElement(H.J,{card:e,actions:t,isChecking:n,transform:o,isCheckingGlobal:i});return r.createElement(s.F.Fragment,null,e.pipe(d.x(((e,t)=>e.hashCode()===t.hashCode())),p.U((0,a.flow)(l.X.match({super:e=>r.createElement(Te,{card:e,actions:t,isChecking:n,isCheckingGlobal:i}),smartPhrases:c,takeaway:c,sentenceLevelBrandTones:c,synfony:c,shortenIt:c,toneAI:c,ethicalAI:c,sdui:e=>r.createElement("div",{className:(0,M.f)(e.renderOptions.layoutDensity).container},r.createElement(fe,{card:e,actions:t})),suggestedSnippet:c,default:c}),l.X.foldCard))))},e.Mini=({card:t,actions:n})=>r.createElement(s.F.Fragment,null,t.pipe(p.U((t=>u.j.Density.matchL((()=>r.createElement(e.MiniSingleLined,{card:t,actions:n})),(()=>r.createElement(e.MiniTwoLined,{card:t,actions:n})),(()=>r.createElement(e.MiniTwoLined,{card:t,actions:n})))(t.renderOptions.layoutDensity))))),e.MiniSingleLined=({card:e,actions:t})=>{function n(e){return r.createElement(U.P.Standard,{card:e,actions:t})}return(0,o.pipe)(e,l.X.match({smartPhrases:function(e){return r.createElement(ge.X.Mini,{card:e,actions:t})},super:n,takeaway:n,sentenceLevelBrandTones:n,synfony:n,shortenIt:n,toneAI:n,ethicalAI:function(e){return r.createElement(J.T.Mini,{card:e,actions:t})},sdui:n,suggestedSnippet:n,default:n}),l.X.foldCard)},e.MiniTwoLined=({card:e,actions:t})=>{function n(e){return r.createElement(U.P.TwoLined,{card:e,actions:t})}return(0,o.pipe)(e,l.X.match({smartPhrases:function(e){return r.createElement(ge.X.Mini,{card:e,actions:t,twoLined:!0})},super:n,takeaway:n,sentenceLevelBrandTones:n,synfony:n,shortenIt:n,toneAI:n,ethicalAI:function(e){return r.createElement(J.T.Mini,{card:e,actions:t,twoLined:!0})},sdui:n,suggestedSnippet:n,default:n}),l.X.foldCard)},e.Success=({cardData:e,actions:t,isLastCard:n})=>{function i(){return r.createElement(m.b.Success,{actions:t,isLastCard:n})}return(0,o.pipe)(e,c.C.match({smartPhrases:i,takeaway:i,default:i,sentenceLevelBrandTones:i,synfony:i,super:i,shortenIt:i,toneAI:i,ethicalAI:i,sdui:i,suggestedSnippet:function(e){return r.createElement(ye.w.Success,{card:e,actions:t})}}),l.X.foldCard)},e.FeedbackForm=({cardData:e,actions:t})=>{function n(e){return r.createElement(R,{card:e,actions:t})}return(0,o.pipe)(e,c.C.match({smartPhrases:n,takeaway:n,default:n,sentenceLevelBrandTones:n,synfony:n,super:n,shortenIt:n,toneAI:n,ethicalAI:n,sdui:n,suggestedSnippet:n}),l.X.foldCard)},e.MutedAlert=({cardData:e,actions:t})=>{function n(e){return r.createElement(K,{card:e,actions:t})}return(0,o.pipe)(e,c.C.match({smartPhrases:function(e){return r.createElement(K,{card:e,actions:t,showLabel:!1})},takeaway:n,default:n,sentenceLevelBrandTones:n,synfony:n,super:n,shortenIt:n,toneAI:n,ethicalAI:n,sdui:n,suggestedSnippet:n}),l.X.foldCard)}}(Ne||(Ne={}))},36962:(e,t,n)=>{n.d(t,{X:()=>J});var i=n(27378),r=n(57050),a=n(12187),o=n(38983),s=n(5739),l=n(8125),c=n(44060),u=n(63969),d=n(40219),p=n(30763),m=n(40018),h=n(84313),f=n(15646),g=n(7046),y=n(21474),v=n(28706),b=n(85255),C=n(85985),x=n(41398),w=n(66310),I=n(80900),S=n(2834),k=n(77176),E=n(79589),A=n(32225),T=n(97329),N=n(5114),O=n(81531),_=n(24523),j=n(29847),$=n(62310),P=n(29245),F=n(88702);const D=T.default||T,L=({className:e,title:t,emoji:n,hideBetaBadge:r})=>{const o=i.useContext(p.m.Context);return i.createElement("div",Object.assign({},(0,a.Sh)(H.titleContainer,e)),i.createElement("div",{className:H.emojiContainer},i.createElement(P.dy,{className:H.emojiWrapper,emojiClassName:H.emoji},n),t),r?null:i.createElement($.C.Regular,null,o.beta))},B=({card:e,actions:t,isLoading:n,transform:r,classes:a})=>{const[o,l]=i.useState(null),[c,u]=i.useState(null),[d,p]=i.useState(200),[m,g]=i.useState(null);i.useEffect((()=>{const e=new D((e=>{e[0]&&u(e[0].contentRect.height)}));return l(e),()=>e.disconnect()}),[]);const b=i.useCallback((e=>{m&&(null==o||o.unobserve(m)),e&&(g(e),null==o||o.observe(e))}),[m,o]);return i.useEffect((()=>{!e.activeAlert.hideReplacements&&c&&p(c)}),[c]),n?i.createElement("div",{className:G.loadingContainer,style:{height:null!=d?d:void 0}},i.createElement("div",{className:G.loadingContainerInner},i.createElement(_.D,{size:"medium"}))):e.activeAlert.hideReplacements?i.createElement("div",{className:G.successLabel},i.createElement(y.JO.SmartPhrases.HeaderCheckmark,{className:G.successLabelIcon}),e.activeAlert.phraseAddedTitle):i.createElement("div",{ref:b,className:G.container},i.createElement(A.__,{alert:e.activeAlert,options:e.renderOptions,className:G.label}),i.createElement(s.F.div,{className:a.transformContainer},i.createElement(j.T9,{classes:{rendered:a.renderedReplacement,removing:a.hiddenReplacement},timeout:250,content:r.pipe(k.U(N.fold((()=>(O.Monitoring.Logging.getLogger("SmartPhrasesReplacements").error("No replacements available for SmartPhrases card.",{cardId:e.id}),null)),(n=>{const r=Object.assign(Object.assign({},n),{labels:n.labels.filter(((t,n)=>!e.activeAlert.usedReplacementsIndexes.includes(n))).slice(e.activeAlert.replacementsStartIndex,e.activeAlert.replacementsEndIndex)});return i.createElement(F.GP,{replacementsLabels:r,onClick:n=>v.hz((()=>{const i=e.activeAlert.originalReplacementsIndexes.get(n+e.activeAlert.replacementsStartIndex)||n,r=h.X.isEligibleForAcceptSurvey(e),a={type:f.lY.Type.smartPhrasesApply,alertId:e.activeAlert.id,cardId:e.id,replacementIndex:n+e.activeAlert.replacementsStartIndex,originalReplacementIndex:i};t.next({type:f.lY.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:i,id:e.id,eligibleForSurvey:r,actionsToDispatchAfterSurvey:N.isSome(r)?[a]:void 0,cardType:f.lY.getCardType(e)}),N.isNone(r)&&t.next(a)}))})}))))})))},M=({card:e,actions:t})=>{const n=i.useContext(p.m.Context);return i.createElement(g.zx.Flat,{className:K.button,name:`smart-phrases-${e.activeAlert.intent}-open-feedback-form`,onClick:()=>t.next({type:f.lY.Type.smartPhrasesOpenFeedbackForm,alertId:e.activeAlert.id,cardId:e.id})},i.createElement("span",null,n.card.smartPhrases.openFeedbackFormQuestion),i.createElement(y.JO.SmartPhrases.OpenFeedbackFormArrow,null))},R={marginRight:u.u.rem(.5),width:u.u.rem(1),height:u.u.rem(1)},H=u.u.stylesheet({titleContainer:[{display:"flex",justifyContent:"space-between"}],emojiContainer:[{display:"flex",alignItems:"center"}],emojiWrapper:[{display:"inline-flex"}],emoji:[R]}),U={fontSize:u.u.rem(.75),lineHeight:u.u.rem(1.125),color:c.Il.CoreNeutral90,display:"flex",alignItems:"center",marginLeft:u.u.rem(-1.5)},W={marginRight:u.u.rem(.5)},q={display:"flex",flexDirection:"column",justifyContent:"center",animation:`${u.u.keyframes({from:{opacity:0,transform:"scale(0)"}})} .3s ease-in-out`},z={marginBottom:u.u.rem(.75)},V={animation:`${u.u.keyframes({from:{opacity:0}})} .3s ease-in-out`},G=u.u.stylesheet({successLabel:[U],successLabelIcon:[W],loadingContainer:[q],loadingContainerInner:[{width:"100%",display:"flex",justifyContent:"center"}],label:[z],container:[V]}),Y={display:"flex",alignItems:"center",justifyContent:"space-between",background:c.Il.CoreNeutral10,borderRadius:`${d.LB} ${d.LB} ${u.u.rem(.5)} ${u.u.rem(.5)}`,padding:`${u.u.rem(.6875)} ${u.u.rem(.5)} ${u.u.rem(.6875)} ${u.u.rem(1)}`,color:c.Il.CoreNeutral50,fontSize:u.u.rem(.6875),lineHeight:u.u.rem(1.125),height:u.u.rem(2.5),boxSizing:"border-box"},K=u.u.stylesheet({button:[Y]});var J;!function(e){e.Mini=({card:e,actions:t,useBundleContainer:n=!1,twoLined:r=!1})=>{const o=i.useContext(p.m.Context);return i.useEffect((()=>{"rendered"===e.visualState.transition.type&&e.activeAlert.hideReplacements&&t.next({type:f.lY.Type.smartPhrasesDone,alertId:e.activeAlert.id,source:"auto"})}),[t,e.activeAlert.hideReplacements,e.activeAlert.id,e.visualState.transition.type]),i.createElement(E.b.Mini,Object.assign({},(0,a.Sh)(r?te.twoLinedWrapper:te.standardWrapper,n?te.bundleContainer:null),{actions:t,cardId:e.id,getActiveAlert:()=>e.activeAlert,hideActivateButton:!0,hideDot:!0}),i.createElement("div",{className:te.container},i.createElement(L,{className:te.title,title:e.activeAlert.title,emoji:e.activeAlert.emoji,hideBetaBadge:!0}),i.createElement("div",{className:te.intentDetectedFeedback},i.createElement(g.zx.Ghost,{title:o.card.smartPhrases.intentDetectedFeedbackYes,name:`smart-phrases-${e.activeAlert.intent}-intent-detected-feedback-yes`,active:e.activeAlert.intentDetectedFeedback===m.cm.SMART_PHRASES_INTENT_DETECTED_ACCURATE,disabled:Boolean(e.activeAlert.intentDetectedFeedback),onClick:n=>{var i,r;t.next({type:f.lY.Type.smartPhrasesFeedback,alertId:e.activeAlert.id,cardId:e.id,feedbackType:m.cm.SMART_PHRASES_INTENT_DETECTED_ACCURATE}),t.next({type:f.lY.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:e.activeAlert},clickPoint:{x:null!==(i=null==n?void 0:n.clientX)&&void 0!==i?i:0,y:null!==(r=null==n?void 0:n.clientY)&&void 0!==r?r:0}})}},i.createElement(y.JO.VoteYes,null)),i.createElement(g.zx.Ghost,{title:o.card.smartPhrases.intentDetectedFeedbackNo,name:`smart-phrases-${e.activeAlert.intent}-intent-detected-feedback-no`,active:e.activeAlert.intentDetectedFeedback===m.cm.SMART_PHRASES_INTENT_DETECTED_INACCURATE,disabled:Boolean(e.activeAlert.intentDetectedFeedback),onClick:v.hz((()=>{t.next({type:f.lY.Type.smartPhrasesFeedback,alertId:e.activeAlert.id,cardId:e.id,feedbackType:m.cm.SMART_PHRASES_INTENT_DETECTED_INACCURATE}),t.next({type:f.lY.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:h.X.isEligibleForDismissSurvey(e)})}))},i.createElement(y.JO.VoteNo,null)))))},e.Full=({card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:c})=>{const u=i.useContext(p.m.Context),d=b.P.useAtomOf(e.activeAlert.loadingDuration),m=i.useMemo((()=>o.h.create(!0)),[]);return b.P.useSubscriptionTo(m.pipe(C.h(Boolean),x.M(d),w.w((([e,t])=>I.H(t))),S.b((()=>m.set(!1))))),i.createElement(A.UK,{title:i.createElement(L,{title:e.activeAlert.title,emoji:e.activeAlert.emoji})},i.createElement(s.F.Fragment,null,m.pipe(k.U((o=>i.createElement(A.VM,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardTheme:o?{contentBody:re.bodyLoading}:void 0,cardBody:n=>i.createElement(B,{card:e,actions:t,isLoading:o,transform:c,classes:{transformContainer:n.pipe(k.U((0,l.RN)(re.transformContainerInvisible,re.transformContainer))),renderedReplacement:re.replacement,hiddenReplacement:re.replacementHidden}}),mainActions:(0,r.constant)(e.activeAlert.usedReplacementsIndexes.length>0?i.createElement(g.zx.Ghost,{name:`smart-phrases-${e.activeAlert.intent}-done`,onClick:v.hz((()=>t.next({type:f.lY.Type.smartPhrasesDone,alertId:e.activeAlert.id,source:"user"}))),disabled:o},u.done):i.createElement(A.Kg,{card:e,feedbackActions:t,disabled:o})),subActions:()=>e.activeAlert.replacementsLength>5||e.activeAlert.hideReplacements?i.createElement(g.zx.Tertiary,{name:`smart-phrases-${e.activeAlert.intent}-show-more-ideas`,onClick:()=>{t.next({type:f.lY.Type.smartPhrasesShowMoreIdeas,cardId:e.id,alertId:e.activeAlert.id}),m.set(!0)},disabled:o},i.createElement(y.JO.SmartPhrases.ShowMore,null),u.card.smartPhrases.showMoreIdeas):null,cardExtra:()=>o?null:i.createElement(M,{card:e,actions:t})}))))))}}(J||(J={}));const X={height:u.u.rem(3.25),borderRadius:u.u.rem(d.Jr),boxShadow:"0 1px 8px rgba(109, 117, 141, .18)"},Z={height:u.u.rem(3)},Q={height:u.u.important(u.u.rem(2.5)),borderRadius:u.u.rem(d.Jr)},ee={color:c.Il.CoreNeutral90,fontSize:u.u.rem(.875),lineHeight:u.u.rem(1.125)},te=u.u.stylesheet({twoLinedWrapper:[X],standardWrapper:[Z],bundleContainer:[Q],container:[{display:"flex",alignItems:"center",justifyContent:"space-between"}],title:[ee],intentDetectedFeedback:[{display:"flex",alignItems:"center",position:"absolute",right:0}]}),ne={transition:`opacity ${u.u.seconds(A.k_)}`,transitionDelay:u.u.seconds(A.k_)},ie={transition:`opacity ${u.u.seconds(A.k_)}`},re=u.u.stylesheet({bodyLoading:[{padding:0}],transformContainer:[ne],transformContainerInvisible:[{transitionDelay:"initial"}],replacement:[ie],replacementHidden:[{opacity:0}]})},97428:(e,t,n)=>{n.d(t,{w:()=>i});var i,r=n(27378),a=n(57050),o=n(38983),s=n(5114),l=n(95195),c=n(44060),u=n(63969),d=n(40219),p=n(30763),m=n(15646),h=n(4557),f=n(7046),g=n(21474),y=n(42102),v=n(3656),b=n(28706),C=n(85255),x=n(66346),w=n(1883),I=n(32225),S=n(19025);!function(e){e.Full=({card:e,actions:n,isChecking:i})=>{const c=r.useContext(p.m.Context),[u,d]=r.useState(""),[f,g]=r.useState(e.activeAlert.snippetText),[C,w]=r.useState(""),[S,k]=r.useState(""),E=(0,a.pipe)(e.activeAlert.snippetsTrigger,s.fold((()=>"\\"),a.identity));return r.createElement(I.eb,{card:e,actions:n,isChecking:i,body:r.createElement("div",null,r.createElement(I.__,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(v.XY,{className:P.subheader},c.card.suggestedSnippet.subheader),r.createElement("div",{className:P.inputContainer},r.createElement(y.B2,{name:"snippet-name",placeholder:c.card.suggestedSnippet.namePlaceholder,value:u,onChange:e=>d(e.target.value),className:P.snippetName}),C.length>0&&r.createElement(v.x4,{className:P.inputError},C)),r.createElement("div",{className:P.inputContainer},r.createElement(y.E_,{blockExtension:!0,name:"snippet-content",placeholder:c.card.suggestedSnippet.textPlaceholder,value:f,onChange:e=>g(e.target.value),className:P.snippetText}),S.length>0&&r.createElement(v.x4,{className:P.inputError},S)),r.createElement(v.x4,{className:P.explanation},c.card.suggestedSnippet.explanation(r.createElement(t,{trigger:E}))),r.createElement(I.Nm,{title:c.card.todoAction(e.activeAlert.todoAction),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:o.h.create(!1),onClick:b.hz((()=>{(0,a.pipe)(h.B.validate(u,f,c.card.suggestedSnippet.validationMessages),l.fold((({nameError:e,contentError:t})=>{(0,a.pipe)(e,s.fold((()=>w("")),w)),(0,a.pipe)(t,s.fold((()=>k("")),k))}),(()=>{n.next({type:m.lY.Type.createSnippet,id:e.id,alertId:e.activeAlert.id,snippetName:u,snippetText:f}),w(""),k("")})))}))})),footer:r.createElement(x.G3,{key:"card-actions-details",visualState:e.visualState,className:P.more},r.createElement(v.XY,null,c.card.suggestedSnippet.details(r.createElement(r.Fragment,null,E))))})};const t=({trigger:e})=>r.createElement("span",{className:P.snippetsTrigger},e);e.Success=({card:e,actions:t})=>{const n=r.useContext(p.m.Context);return C.P.useEffectOnWillUnmount((()=>{t.next({type:m.lY.Type.suggestedSnippetSuccessDismissed,id:e.id,alertId:e.activeAlert.id})})),r.createElement(w.Z,{onFocus:()=>t.next({type:m.lY.Type.mutedAlertSuccessShow}),theme:(0,S.G)(e.renderOptions),visualState:e.visualState,body:r.createElement("div",{className:P.successHeader},r.createElement(g.JO.ValidationOk,{className:P.successIcon}),r.createElement(v.x4,null,n.card.suggestedSnippet.successStateTitle)),mainActions:r.createElement(r.Fragment,null),footer:r.createElement(r.Fragment,null),subActions:r.createElement("div",{className:P.successAction},r.createElement(f.zx.Tertiary,{name:"openSnippetsLibrary",onClick:()=>t.next({type:m.lY.Type.snippetsOpenExternalLink,externalLink:e.activeAlert.libLink,alertId:e.activeAlert.id,itemId:e.id})},n.card.suggestedSnippet.libraryLinkCaption,r.createElement(g.JO.OuterLink,null)),r.createElement(f.zx.Ghost,{name:"done",onClick:()=>b.hz((()=>t.next({type:m.lY.Type.switchToNext})))()},n.done))})}}(i||(i={}));const k={paddingTop:u.u.rem(.75),paddingBottom:u.u.rem(.5),letterSpacing:c.xv.SubheadingLetterSpacing,fontSize:u.u.rem(c.xv.SubheadingSize),lineHeight:u.u.rem(c.xv.SubheadingLineHeight),color:c.xv.SubheadingColor,textTransform:"uppercase"},E={fontFamily:"inherit",boxSizing:"border-box",padding:`${u.u.rem(.5)}`,fontSize:u.u.rem(.875)},A=Object.assign(Object.assign({},E),{height:u.u.rem(2.5)}),T=Object.assign(Object.assign({},E),{height:u.u.rem(8)}),N={marginBottom:u.u.rem(.5)},O={color:c.Il.CoreRed50},_={display:"block",color:c.Il.CoreNeutral50,marginBottom:u.u.rem(.75)},j={position:"absolute",left:u.u.rem(.5),width:u.u.rem(1),height:u.u.rem(1),minWidth:u.u.rem(1),minHeight:u.u.rem(1)},$={display:"inline-block",width:u.u.rem(1),height:u.u.rem(1),backgroundColor:c.Il.CoreBlue1,borderRadius:u.u.rem(d.fx),textAlign:"center"},P=u.u.stylesheet({subheader:[k],snippetName:[A],snippetText:[T],explanation:[_],successIcon:[j],successHeader:[{display:"flex",alignItems:"center"}],successAction:[{display:"flex",justifyContent:"space-between",width:"100%"}],inputContainer:[N],inputError:[O],more:[I.IH],snippetsTrigger:[$]})},26662:(e,t,n)=>{n.d(t,{V:()=>v});var i=n(44060),r=n(63969),a=n(40219);const o=(e,t,n,a,o,s)=>Object.assign({position:"absolute",right:e,left:e,zIndex:t,display:"block",height:r.u.rem(2),borderRadius:o,backgroundColor:i.Il.CoreNeutral0,boxShadow:a,content:"' '"},s&&"bottom"!==s?{top:n}:{bottom:n}),s=`0 ${r.u.rem(.25)} ${r.u.rem(1.625)} 0 rgba(198, 203, 222, .25)`,l={marginRight:r.u.rem(1),flexShrink:0,maxWidth:r.u.percent(100)},c={padding:`0 ${r.u.rem(1)}`},u={padding:`0 ${r.u.rem(1.9)} 0 ${r.u.rem(1)}`},d={position:"absolute",top:r.u.rem(.27),right:r.u.rem(.5)},p={display:"grid",width:r.u.percent(100),gridGap:r.u.rem(.5),gridTemplateColumns:"fit-content(60%) auto min-content"},m={minWidth:r.u.rem(7)},h={marginLeft:r.u.rem(.5)},f={color:i.Il.CoreNeutral90,whiteSpace:"nowrap",fontWeight:300,lineHeight:r.u.rem(1.5)},g={$nest:{"&:before":o(r.u.rem(.5),-10,r.u.rem(-.5),s,r.u.rem(a.Jr)),"&:after":o(r.u.rem(1),-20,r.u.rem(-1),s,r.u.rem(a.Jr))}},y={transition:"opacity .2s"},v=r.u.prefixedStylesheet("super",{updateAllBtnCommon:[l],updateAllBtn:[l,c],updateAllBtnLoading:[l,u],updateBtnSpinner:[d],optionsContainer:[p],optionLabel:[m],optionRadio:[h],optionSecondaryAttribute:[f],optionExample:[f,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontStyle:"italic"}],superWrapper:[g],loadingWrapper:[y],loadingWrapperInvisible:[y,{opacity:0,pointerEvents:"none"}]})},76720:(e,t,n)=>{n.d(t,{o:()=>E});var i=n(27378),r=n(40327),a=n(83078),o=n(5114),s=n(63969),l=n(30763),c=n(40018),u=n(15646),d=n(4890),p=n(7046),m=n(28706),h=n(66346),f=n(1883),g=n(32225),y=n(19025),v=n(57050),b=n(84313),C=n(21474);const x=({card:e,actions:t,hasHeader:n})=>{const s=i.useContext(l.m.Context),u=o.isNone(e.activeAlert.takeawayFeedback)?s.card.takeaway.defaultTitle:e.activeAlert.title,p=o.fromNullable(e.activeAlert.highlightTexts[0]),m=(0,r.pipe)(e.activeAlert,o.fromPredicate((e=>!e.takeawayIsLikelyToBeRead&&(a.contains(c.TO.correctlyDetected)(e.takeawayFeedback)||a.contains(c.TO.correctlyDetectedAndDone)(e.takeawayFeedback)))),o.map((()=>e.meta.explanation)));return i.createElement(i.Fragment,null,!n&&(0,r.pipe)(e.renderOptions.layoutDensity,d.j.Density.matchOrDefault(d.j.Density.minimal)((()=>i.createElement(g.__,{alert:e.activeAlert,options:e.renderOptions},i.createElement(g.jg,{text:b.X.miniTitle(e,s)}))),(()=>i.createElement(i.Fragment,null,i.createElement(g.__,{alert:e.activeAlert,options:e.renderOptions}),i.createElement(g.Dx,{text:u}))))),(0,r.pipe)(p,o.fold(v.constNull,(t=>i.createElement(g.hl,{text:t,layoutDensity:e.renderOptions.layoutDensity})))),(0,r.pipe)(m,o.fold(v.constNull,(n=>i.createElement(g.dk,{description:n,actions:t,layoutDensity:e.renderOptions.layoutDensity})))))},w=({card:e,feedbackActions:t})=>i.createElement(i.Fragment,null,i.createElement(p.zx.Ghost,{name:"takeaway-like",onClick:m.hz((()=>{var n;return t.next({type:u.lY.Type.takeawayCorrectlyDetected,id:e.id,alertId:e.activeAlert.id,takeawayText:null!==(n=e.activeAlert.highlightTexts[0])&&void 0!==n?n:""})}))},i.createElement(C.JO.YesCircle,null)," Yes"),i.createElement(p.zx.Ghost,{name:"takeaway-dislike",onClick:m.hz((()=>t.next({type:u.lY.Type.takeawayIncorrectlyDetected,id:e.id,alertId:e.activeAlert.id})))},i.createElement(C.JO.NoCircle,null)," No")),I=({card:e,feedbackActions:t})=>{const n=i.useContext(l.m.Context);return i.createElement(i.Fragment,null,i.createElement(p.zx.Ghost,{name:"resolve",title:n.resolve,onClick:m.hz((()=>t.next({type:u.lY.Type.takeawayResolve,id:e.id,alertId:e.activeAlert.id,isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead})))},i.createElement(C.JO.YesCircle,null)),i.createElement(p.zx.Ghost,{name:"ignore",title:n.dismiss,onClick:m.hz((()=>t.next({type:u.lY.Type.takeawayDismiss,id:e.id,alertId:e.activeAlert.id,isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead})))},i.createElement(C.JO.Ignore,null)))};function S(e,t){const n=a.contains(c.TO.correctlyDetected)(e.activeAlert.takeawayFeedback);return e.activeAlert.takeawayIsLikelyToBeRead&&n&&t}function k(e){return!o.isNone(e.takeawayFeedback)&&!(!o.isSome(e.examples)&&!o.isSome(e.details))}var E;!function(e){e.Full=({card:e,actions:t,cardHeader:n,isChecklistItem:s,isChecklistBundleItem:v})=>{const b=i.useContext(l.m.Context);return i.createElement(f.Z,{visualState:e.visualState,onFocus:()=>t.next({type:u.lY.Type.alertCardShow,cardType:u.lY.getCardType(e),alertId:e.activeAlert.id}),theme:(A=e.renderOptions,T=!!n,Object.assign(Object.assign({},(0,y.f)(A.layoutDensity)),{wrapper:(0,r.pipe)(A.layoutDensity,d.j.Density.matchOrDefault(d.j.Density.minimal)((()=>T?N.minimalCardWrapperWithHeader:N.minimalCardWrapper),(()=>{})))})),body:i.createElement(x,{card:e,actions:t,hasHeader:!!n}),mainActions:o.isNone(e.activeAlert.takeawayFeedback)?i.createElement(w,{card:e,feedbackActions:t}):S(e,!!v)?i.createElement(p.zx.Ghost,{name:"takeaway-correctly-detected-and-done",onClick:m.hz((()=>t.next({type:u.lY.Type.takeawayCorrectlyDetectedAndDone,id:e.id,alertId:e.activeAlert.id})))},b.done):(C=e,E=!!s&&!v,(a.contains(c.TO.correctlyDetected)(C.activeAlert.takeawayFeedback)||a.contains(c.TO.correctlyDetectedAndDone)(C.activeAlert.takeawayFeedback))&&C.activeAlert.takeawayIsLikelyToBeRead&&E?null:i.createElement(I,{card:e,feedbackActions:t})),header:n,footer:k(e.activeAlert)?i.createElement(g.lJ,{card:e}):null,subActions:k(e.activeAlert)?i.createElement(h.Vh,{key:"card-actions-button",mode:"default",actions:t,card:e}):null});var C,E,A,T}}(E||(E={}));const A={padding:`${s.u.rem(.75)} ${s.u.rem(.5)} ${s.u.rem(.5)} ${s.u.rem(1)}`},T={padding:`0 ${s.u.rem(.5)} ${s.u.rem(.5)} ${s.u.rem(1)}`},N=s.u.stylesheet({minimalCardWrapper:[A],minimalCardWrapperWithHeader:[T]})},12138:(e,t,n)=>{n.d(t,{Y:()=>ve});var i=n(27378),r=n(57050),a=n(40327),o=n(12187),s=n(5739),l=n(77176),c=n(76974),u=n(5114),d=n(44060),p=n(63969),m=n(30763),h=n(98637),f=n(84313),g=n(91549),y=n(15646),v=n(29847),b=n(62310),C=n(29245),x=n(3656),w=n(85255),I=n(28706),S=n(79589),k=n(32225),E=n(19157),A=n(88702),T=n(60797),N=n(98403),O=n(32952),_=n(24209),j=n(17343),$=n(93508),P=n(41398),F=n(85985),D=n(28043),L=n(2834),B=n(2844);const M=({toneAlternatives:e,onSelectToneAlternative:t})=>{const n=new O.xQ,r=new O.xQ,c=new O.xQ,d=new O.xQ,m=new O.xQ,h=new O.xQ,{ref:f,onMount:g}=w.P.useElWatcher(),y=_.T(m.pipe(j.h(!0)),c.pipe(j.h(!1)),d.pipe(j.h(!1))).pipe($.O(!1)),v=_.T(m,r).pipe(P.M(y),F.h((([e,t])=>t)),l.U((([e,t])=>e)),P.M(f),l.U((([e,t])=>(0,a.pipe)(t,u.map((e=>e.getBoundingClientRect())),u.bindTo("sliderClientRect"),u.apS("containerMouseEventVal",u.some(e))))),T.oA,l.U((({containerMouseEventVal:e,sliderClientRect:t})=>{const n=t.x,i=t.x+t.width;let r=0;return r=e.clientX<=n?0:e.clientX>=i?100:(e.clientX-n)/(i-n)*100,r}))),b=_.T(v.pipe(D.x()),y.pipe(D.x(),F.h((e=>!e)),P.M(v),l.U((([e,t])=>t)),l.U((e=>e>=50?100:0))),n.pipe(F.h((e=>"ArrowRight"===e.key||"ArrowLeft"===e.key)),L.b((e=>{e.preventDefault(),e.stopPropagation()})),l.U((e=>e.key)),F.h((e=>"ArrowRight"===e||"ArrowLeft"===e)),l.U((e=>"ArrowRight"===e?100:0))),h.pipe(l.U((e=>1===e?100:0)))).pipe($.O(100)),x=b.pipe(D.x(),l.U((e=>e>=50?1:0))),I=B.aj([x,N.Dx(e)]).pipe(l.U((([e,t])=>t[e])));return w.P.useSubscriptionTo(x.pipe(D.x(),L.b(t))),i.createElement(s.F.div,{className:ye.outerContainer,onKeyDown:e=>n.next(e)},i.createElement(s.F.div,{className:ye.label},I.pipe(l.U((e=>e.name)))),i.createElement(s.F.div,{className:ye.container,onMouseMove:e=>r.next(e),onMouseUp:e=>c.next(e),onMouseLeave:e=>d.next(e)},i.createElement(s.F.div,Object.assign({},(0,o.Sh)(ye.slider,y.pipe(l.U((e=>e?ye.sliderDragging:null)))),{mount:g}),i.createElement(s.F.div,Object.assign({},(0,o.Sh)(ye.sliderInner,y.pipe(l.U((e=>e?ye.sliderInnerDragging:null)))),{style:{width:b.pipe(l.U(p.u.percent))}}),i.createElement(s.F.div,Object.assign({},(0,o.Sh)(ye.knob,y.pipe(l.U((e=>e?ye.knobDragging:null)))),{onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),m.next(e)},tabIndex:0}),I.pipe(l.U((e=>i.createElement(C.In,{id:e.emojiID,className:ye.knobEmoji})))))),B.aj([x,y]).pipe(l.U((([e,t])=>i.createElement(i.Fragment,null,i.createElement("div",Object.assign({},(0,o.Sh)(ye.sliderDivisionPoint,ye.sliderDivisionPointLeft))),0===e||t?null:i.createElement(s.F.div,Object.assign({},(0,o.Sh)(ye.sliderDivisionPointHoverArea,ye.sliderDivisionPointHoverAreaLeft),{onClick:()=>h.next(0)})),i.createElement("div",Object.assign({},(0,o.Sh)(ye.sliderDivisionPoint,ye.sliderDivisionPointRight))),1===e||t?null:i.createElement(s.F.div,Object.assign({},(0,o.Sh)(ye.sliderDivisionPointHoverArea,ye.sliderDivisionPointHoverAreaRight),{onClick:()=>h.next(1)})))))))))},R="toneSliderOuterContainer",H="toneSliderLabel",U="toneSliderContainer",W="toneSlider",q="toneSliderDragging",z="toneSliderSliderDivisionPoint",V="toneSliderDivisionPointLeft",G="toneSliderDivisionPointRight",Y="toneSliderDivisionPointHoverArea",K="toneSliderDivisionPointHoverAreaLeft",J="toneSliderDivisionPointHoverAreaRight",X="toneSliderInner",Z="toneSliderInnerDragging",Q="toneSliderKnob",ee="toneSliderKnobDragging",te="toneSliderKnobEmoji",ne={display:"flex",justifyContent:"space-between",alignItems:"center",marginRight:p.u.rem(.875)},ie={fontWeight:700,fontSize:p.u.rem(.875),lineHeight:p.u.rem(1)},re={width:p.u.rem(5.375),height:p.u.rem(1.75),display:"flex",flexDirection:"column",justifyContent:"center"},ae={position:"relative",width:p.u.percent(100),backgroundColor:d.Il.CoreNeutral40,height:p.u.rem(.125),borderRadius:p.u.rem(.375),transition:"all 0.15s ease-in-out",$nest:{"&:hover":{height:p.u.rem(.5)},[`&:hover .${z}`]:{visibility:"visible"}}},oe={height:p.u.rem(.5),$nest:{[`& .${z}`]:{visibility:"visible"}}},se={position:"absolute",width:p.u.rem(.25),height:p.u.rem(.25),backgroundColor:d.Il.CoreNeutral0,top:p.u.rem(.125),bottom:p.u.rem(.125),borderRadius:p.u.percent(100),visibility:"hidden"},le={left:p.u.rem(.125)},ce={right:p.u.rem(.125)},ue={background:d.Il.CoreNeutral90,opacity:0,width:p.u.rem(1.5),height:p.u.rem(1.5),position:"absolute",borderRadius:p.u.percent(100),cursor:"pointer",top:p.u.rem(-.5),zIndex:1,transition:"all 0.15s ease-in-out",$nest:{"&:hover":{opacity:.1}}},de={left:p.u.rem(-.5)},pe={right:p.u.rem(-.5)},me={position:"relative",display:"flex",alignItems:"center",backgroundColor:d.Il.CorePurple40,height:p.u.percent(100),borderRadius:p.u.rem(.375),transition:"all 0.15s ease-in-out"},he={position:"absolute",right:p.u.rem(-.875),display:"flex",justifyContent:"center",alignItems:"center",width:p.u.rem(1.75),height:p.u.rem(1.75),backgroundColor:d.Il.CoreNeutral0,boxShadow:"0px 0px 1px rgba(109, 117, 141, 0.8), 0px 1px 8px rgba(109, 117, 141, 0.28)",borderRadius:p.u.rem(1.875),cursor:"ew-resize",transition:"all 0.15s ease-in-out",zIndex:1,$nest:{"&:hover":{width:p.u.rem(2),height:p.u.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"}}},fe={width:p.u.rem(2),height:p.u.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"},ge={width:p.u.rem(.9375),height:p.u.rem(.9375),pointerEvents:"none"},ye={outerContainer:p.u.joinClasses([R,p.u.style(ne)]),label:p.u.joinClasses([H,p.u.style(ie)]),container:p.u.joinClasses([U,p.u.style(re)]),slider:p.u.joinClasses([W,p.u.style(ae)]),sliderDragging:p.u.joinClasses([q,p.u.style(oe)]),sliderDivisionPoint:p.u.joinClasses([z,p.u.style(se)]),sliderDivisionPointLeft:p.u.joinClasses([V,p.u.style(le)]),sliderDivisionPointRight:p.u.joinClasses([G,p.u.style(ce)]),sliderDivisionPointHoverArea:p.u.joinClasses([Y,p.u.style(ue)]),sliderDivisionPointHoverAreaLeft:p.u.joinClasses([K,p.u.style(de)]),sliderDivisionPointHoverAreaRight:p.u.joinClasses([J,p.u.style(pe)]),sliderInner:p.u.joinClasses([X,p.u.style(me)]),sliderInnerDragging:p.u.joinClasses([Z,p.u.style({transition:"none"})]),knob:p.u.joinClasses([Q,p.u.style(he)]),knobDragging:p.u.joinClasses([ee,p.u.style(fe)]),knobEmoji:p.u.joinClasses([te,p.u.style(ge)])};var ve;!function(e){e.BundleMini=({card:e,actions:t})=>i.createElement(S.b.Mini,Object.assign({},(0,o.Sh)(E.l.wrapper,E.l.bundleContainer),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],counter:i.createElement(x.CL,{className:E.l.alertsCounter},e.alerts.length),hideDot:!0}),i.createElement(s.F.div,{className:Ce.content},i.createElement(C.In,{id:e.activeAlert.toneAlternatives[e.activeAlert.selectedToneAlternativeIdx].emojiID,className:Ce.emoji}),i.createElement("div",{className:E.l.highlightedText},g.R.bundleTitle(e)))),e.Full=({card:e,actions:t,isChecking:n,isCheckingGlobal:o})=>{const d=i.useContext(m.m.Context),p=w.P.useAtomOf(e.activeAlert.toneAlternatives),g=i.useCallback((n=>{"focused"!==e.visualState.transition.type&&"expanded"!==e.visualState.transition.type||t.next({type:y.lY.Type.toneAIChangeToneAlternative,alertId:e.activeAlert.id,itemId:e.id,selectedToneAlternativeIdx:n})}),[t,e.visualState.transition.type,e.activeAlert.id,e.id]);return(0,a.pipe)(e.transform,u.filter(h.b$.isToneAI),u.fold((()=>null),(a=>i.createElement(k.VM,{card:e,actions:t,isChecking:n,isCheckingGlobal:o,cardBody:n=>i.createElement(i.Fragment,null,i.createElement(k.__,{alert:e.activeAlert,options:e.renderOptions,badge:i.createElement(b.C.Regular,null,d.beta)}),i.createElement(s.F.Fragment,null,p.pipe(l.U((e=>i.createElement(M,{toneAlternatives:e,onSelectToneAlternative:g}))))),0===e.activeAlert.selectedToneAlternativeIdx?i.createElement("div",{className:Ie.replacementContainer},e.activeAlert.highlightTexts[0]):i.createElement(v.T9,{classes:{rendered:Ie.replacement,removing:Ie.replacementHidden},timeout:250,content:c.of(i.createElement(A.RF,{label:a.labels[e.activeAlert.selectedToneAlternativeIdx-1],className:Ie.replacementContainer}))}),0!==e.activeAlert.selectedToneAlternativeIdx?i.createElement(k.Nm,{title:d.card.todoAction(a.tooltipText),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:I.hz((()=>t.next({type:y.lY.Type.alertApply,alertId:e.activeAlert.id,id:e.id,alternativeIndex:e.activeAlert.selectedToneAlternativeIdx-1,cardType:y.lY.getCardType(e),eligibleForSurvey:f.X.isEligibleForAcceptSurvey(e)})))}):null),mainActions:(0,r.constant)(i.createElement(k.Kg,{card:e,feedbackActions:t})),subActions:(0,r.constant)(i.createElement(k.q4,{card:e,actions:t})),cardFooter:(0,r.constant)(i.createElement(k.lJ,{card:e}))}))))}}(ve||(ve={}));const be={width:p.u.rem(1),height:p.u.rem(1),marginRight:p.u.rem(.5)},Ce=p.u.stylesheet({content:[{display:"flex",alignItems:"center"}],emoji:[be]}),xe={transition:`opacity ${p.u.seconds(k.k_)}`},we={width:p.u.percent(100),background:d.Il.CoreNeutral10,borderRadius:p.u.px(4),fontSize:p.u.rem(.875),lineHeight:p.u.rem(1.5),fontFeatureSettings:"'ss03' on",padding:p.u.px(8),marginTop:p.u.px(12),boxSizing:"border-box"},Ie=p.u.stylesheet({replacement:[xe],replacementHidden:[xe,{opacity:0}],replacementContainer:[we]})},92843:(e,t,n)=>{n.d(t,{v:()=>i,u:()=>r});var i,r,a=n(90329),o=n(57050),s=n(40327),l=n(64681),c=n(5114),u=n(93756),d=n(1065);!function(e){function t(t,n,i){return function(r){return e.fromMutation((function(a){(0,s.pipe)(r,e.forEach((function(e,n){return a.set(n,u.t$(t(n,e)))}),(function(e,t,i){return(0,s.pipe)(n(i,e,t),(function(e){var t=e[0],n=e[1];return a.set(i,u.Hk(t,n))}))}),(function(e,t){return a.set(t,u.F2(i(t,e)))})))}))}}function n(t,n,i){return function(r){return e.fromMutation((function(a){(0,s.pipe)(r,e.forEach((function(e,n){return t(n,e)&&a.set(n,u.t$(e))}),(function(e,t,i){return n(i,e,t)&&a.set(i,u.Hk(e,t))}),(function(e,t){return i(t,e)&&a.set(t,u.F2(e))})))}))}}function i(e){return function(t,n,i){return function(a){var o=r.iso().unwrap(a),s=e.empty;return o.forEach((function(r,a){s=e.concat(s,u.g_((function(e){return t(a,e)}),(function(e){return i(a,e)}),(function(e,t){return n(a,e,t)}))(r))})),s}}}e.reduce=function(e,t,n,i){return function(a){var o=r.iso().unwrap(a),s=e;return o.forEach((function(e,r){s=u.g_((function(e){return t(s,e,r)}),(function(e){return i(s,e,r)}),(function(e,t){return n(s,e,t,r)}))(e)})),s}},e.mapWithIndex=t,e.map=function(e,n,i){return t((function(t,n){return e(n)}),(function(e,t,i){return n(t,i)}),(function(e,t){return i(t)}))},e.filterWithIndex=n,e.filter=function(e,t,i){return n((function(t,n){return e(n)}),(function(e,n,i){return t(n,i)}),(function(e,t){return i(t)}))},e.foldMapWithIndex=i,e.foldMap=function(e){return function(t,n,r){return i(e)((function(e,n){return t(n)}),(function(e,t,i){return n(t,i)}),(function(e,t){return r(t)}))}},e.forEach=function(e,t,n){return function(i){r.iso().unwrap(i).forEach((function(i,r){u.g_((function(t){return e(t,r)}),(function(e){return n(e,r)}),(function(e,n){return t(e,n,r)}))(i)}))}},e.fromMutation=function(e){var t=r.empty();return e(t),r.iso().wrap(t)},e.empty=function(){return r.iso().wrap(r.empty())},e.concat=function(e,t,n){var i=r.iso();return i.wrap(r.concat(e,i.unwrap(t),i.unwrap(n)))},e.inverse=function(e){var t=r.iso();return(0,s.pipe)(t.unwrap(e),a.UI(d.swap),t.wrap)},e.getEq=function(e,t){return l.Eh(r.getEq(e,t))},e.toJSON=function(e){return Array.from(r.iso().unwrap(e))},e.getShow=function(e,t){return r.getShow(e,t)},e.isEmpty=function(e){return 0===r.iso().unwrap(e).size}}(i||(i={})),function(e){e.iso=function(){return l.k4()},e.empty=function(){return new Map};e.concat=function(e,t,n){var i=new Map(t);return n.forEach((function(t,n){i.has(n)?(0,s.pipe)(function(e,t,n){return u.Eh(e,e).equals(t,n)?c.some(n):u.Eh(e,e).equals(t,d.swap(n))?c.none:u.nM(t)?u.g_((function(){return c.some(u.t$(t.left))}),(function(e){return c.some(u.Hk(t.left,e))}),(function(n,i){return e.equals(t.left,i)?c.none:c.some(u.Hk(t.left,i))}))(n):u.tO(t)?u.g_((function(){return c.none}),(0,o.flow)(u.F2,c.some),(function(e,t){return c.some(u.F2(t))}))(n):u.g_((function(){return c.some(u.t$(t.left))}),(0,o.flow)(u.F2,c.some),(function(n,i){return e.equals(t.left,i)?c.none:c.some(u.Hk(t.left,i))}))(n)}(e,i.get(n),t),c.fold((function(){i.delete(n)}),(function(e){return i.set(n,e)}))):i.set(n,t)})),i},e.inverse=a.UI(d.swap),e.getEq=function(e,t){return a.Eh(e,u.Eh(t,t))},e.getShow=function(e,t){return a.ZN(e,u.ZN(t,t))}}(r||(r={}))},20976:(e,t,n)=>{n.r(t),n.d(t,{Contravariant:()=>r.Contravariant,URI:()=>r.URI,contramap:()=>r.contramap,eq:()=>r.eq,eqBoolean:()=>r.eqBoolean,eqDate:()=>r.eqDate,eqNumber:()=>r.eqNumber,eqStrict:()=>r.eqStrict,eqString:()=>r.eqString,fromEquals:()=>r.fromEquals,getMonoid:()=>r.getMonoid,getStructEq:()=>r.getStructEq,getTupleEq:()=>r.getTupleEq,strictEqual:()=>r.strictEqual,eqToInvariant:()=>a,eqEmpty:()=>o});var i=n(22232),r=n(73975);function a(e){return{equals:function(t,n){return(0,i.kG)(e.equals(t,n),"absurd state accured,\n"+e.show(t)+"\ndoes not equal to:\n"+e.show(n)),!0}}}var o={equals:function(){return!0}}},43675:(e,t,n)=>{n.r(t),n.d(t,{Compactable:()=>i.Ri,Filterable:()=>i.xu,Functor:()=>i.dO,collect:()=>i.KM,compact:()=>i.oA,deleteAt:()=>i.EG,elem:()=>i.t9,empty:()=>i.cS,filter:()=>i.hX,filterMap:()=>i.DZ,fromFoldable:()=>i.sQ,getEq:()=>i.Eh,getFilterableWithIndex:()=>i.qO,getMonoid:()=>i.uZ,getShow:()=>i.ZN,getWitherable:()=>i.YH,insertAt:()=>i.ZQ,isEmpty:()=>i.xb,isSubmap:()=>i.kr,keys:()=>i.XP,lookup:()=>i.P5,lookupWithKey:()=>i.FP,map:()=>i.UI,mapWithIndex:()=>i.Su,map_:()=>i.N,member:()=>i.fP,modifyAt:()=>i.cq,partition:()=>i.uK,partitionMap:()=>i.tV,pop:()=>i.Sw,separate:()=>i.oh,singleton:()=>i.ri,size:()=>i.dp,toArray:()=>i.qo,toUnfoldable:()=>i.nd,updateAt:()=>i.Wl,values:()=>i.VO,URI:()=>p,getFoldableWithIndex:()=>m,getEqByValue:()=>h,symmetricDiff:()=>f,leftToRight:()=>y,rightToLeft:()=>v,Merger:()=>g,diffKeys:()=>C});var i=n(90329),r=n(57050),a=n(40327),o=n(92843),s=n(95195),l=n(5114),c=n(83078),u=n(93756),d=n(1065),p="Map";function m(){var e=function(e,t,n){var i=t;return e.forEach((function(e,t){return i=n(t,i,e)})),i};return{URI:p,_E:void 0,reduce:function(t,n,i){return e(t,n,(function(e,t,n){return i(t,n)}))},foldMap:function(t){return function(n,i){return e(n,t.empty,(function(e,n,r){return t.concat(n,i(r))}))}},reduceRight:function(t,n,i){return e(t,n,(function(e,t,n){return i(n,t)}))},reduceWithIndex:e,reduceRightWithIndex:function(t,n,i){return e(t,n,(function(e,t,n){return i(e,n,t)}))},foldMapWithIndex:function(t){return function(n,i){return e(n,t.empty,(function(e,n,r){return t.concat(n,i(e,r))}))}}}}function h(e){return{equals:function(t,n){if(t===n)return!0;if(t.size===n.size){for(var i=t.keys(),r=void 0;!1===(r=i.next()).done;)if(!n.has(r.value)||!e.equals(t.get(r.value),n.get(r.value)))return!1;return!0}return!1}}}function f(e){return function(t,n){return o.v.fromMutation((function(i){return t.forEach((function(t,r){if(n.has(r)){var a=n.get(r);e.equals(t,a)||i.set(r,u.Hk(t,a))}else i.set(r,u.t$(t))})),n.forEach((function(n,r){if(t.has(r)){var a=t.get(r);e.equals(a,n)||i.set(r,u.Hk(a,n))}else i.set(r,u.F2(n))})),i}))}}var g,y=b(r.identity),v=b(d.swap);function b(e){return function(t,n,i){var r=new Map(n),c=new Map;return o.u.iso().unwrap(i).forEach((function(n,i){(0,a.pipe)(n,e,t(l.fromNullable(r.get(i))),u.Pd((function(e){return c.set(i,e)}),l.fold((function(){r.delete(i)}),(function(e){return r.set(i,e)}))))})),c.size>0?s.left({recovered:r,rejected:c}):s.right(r)}}function C(e){return function(t,n){var r=[],o=new Map(t);return n.forEach((function(t,n){(0,a.pipe)(i.FP(e)(n,o),c.tapLeft((function(){return r.push(n)})))})),r}}!function(e){e.createStrict=function(e){return function(t){return u.g_((function(n){return l.isNone(t)?u.t$("can not remove non existent entry: left("+e.show(n)+")"):e.equals(t.value,n)?u.F2(l.none):u.t$("can not remove non equal entry: target("+e.show(t.value)+") left("+e.show(n)+")")}),(function(n){return l.isSome(t)?u.t$("can not add existent entry: target("+e.show(t.value)+") right("+e.show(n)+")"):u.F2(l.some(n))}),(function(n,i){return e.equals(n,i)?u.t$("can not apply update with equals parts: left("+e.show(n)+") right("+e.show(i)+")"):l.isNone(t)?u.t$("can not update non existent entry: left("+e.show(n)+") right("+e.show(i)+")"):e.equals(t.value,n)?u.F2(l.some(i)):u.t$("can not apply update on non equal entry: target("+e.show(t.value)+") left("+e.show(n)+") right("+e.show(i)+")")}))}},e.createLoose=function(e){return function(t){return u.g_((function(n){return l.isNone(t)?u.t$("can not remove non existent entry: left("+e.show(n)+")"):e.equals(t.value,n)?u.F2(l.none):u.Hk("removed non equal entry: target("+e.show(t.value)+") left("+e.show(n)+")",l.none)}),(function(n){return l.isSome(t)?u.Hk("existent entry was overwritten: target("+e.show(t.value)+") right("+e.show(n)+")",l.some(n)):u.F2(l.some(n))}),(function(n,i){var r=e.equals(n,i)?l.some("unexpected equal parts in provided update"):l.none;return l.isNone(t)?u.Hk((0,a.pipe)(r,l.map((function(e){return e+", "})),l.getOrElse((function(){return""})))+"update applied on non existent entry: left("+e.show(n)+") right("+e.show(i)+")",l.some(i)):e.equals(t.value,n)?(0,a.pipe)(r,l.map((function(t){return t+": left("+e.show(n)+") right("+e.show(i)+")"})),l.fold((function(){return u.F2(l.some(i))}),(function(e){return u.Hk(e,l.some(i))}))):u.Hk((0,a.pipe)(r,l.map((function(e){return e+", "})),l.getOrElse((function(){return""})))+"update applied on non equal entry: target("+e.show(t.value)+") left("+e.show(n)+") right("+e.show(i)+")",l.some(i))}))}}}(g||(g={}))},1065:(e,t,n)=>{n.r(t),n.d(t,{Bifunctor:()=>r.a_,Foldable:()=>r.$6,Functor:()=>r.dO,Traversable:()=>r.Kd,URI:()=>r.ov,bimap:()=>r.Pd,both:()=>r.Hk,fold:()=>r.g_,foldMap:()=>r.Lx,fromOptions:()=>r.Qp,getApplicative:()=>r.RY,getEq:()=>r.Eh,getLeft:()=>r.IS,getLeftOnly:()=>r.id,getMonad:()=>r.ML,getRight:()=>r.EK,getRightOnly:()=>r.aQ,getSemigroup:()=>r.jG,getShow:()=>r.ZN,isBoth:()=>r.WP,isLeft:()=>r.nM,isRight:()=>r.tO,left:()=>r.t$,leftOrBoth:()=>r.ED,map:()=>r.UI,mapLeft:()=>r.Vn,reduce:()=>r.u4,reduceRight:()=>r.nq,right:()=>r.F2,rightOrBoth:()=>r.jX,sequence:()=>r.vP,these:()=>r.vC,toTuple:()=>r.Vb,traverse:()=>r.fw,swap:()=>a});var i=n(95195),r=n(93756);function a(e){return(0,r.WP)(e)?(0,r.Hk)(e.right,e.left):(0,i.swap)(e)}},32821:(e,t,n)=>{n.d(t,{Z:()=>a,UI:()=>Jn});var i={};n.r(i),n.d(i,{audit:()=>P.U,auditTime:()=>F.e,buffer:()=>D.f,bufferCount:()=>B,bufferTime:()=>U.e,bufferToggle:()=>V,bufferWhen:()=>K.R,catchError:()=>J.K,combineAll:()=>X,combineLatest:()=>Z.a,concat:()=>Q.z,concatAll:()=>ee.u,concatMap:()=>te.b,concatMapTo:()=>ne,count:()=>ie,debounce:()=>oe.D,debounceTime:()=>k.b,defaultIfEmpty:()=>se.d,delay:()=>A.g,delayWhen:()=>le.j,dematerialize:()=>ce.D,distinct:()=>de,distinctUntilChanged:()=>he.x,distinctUntilKeyChanged:()=>fe,elementAt:()=>be,endWith:()=>Ce.l,every:()=>xe,exhaust:()=>Se,exhaustMap:()=>Ae.z,expand:()=>Te,filter:()=>C.h,finalize:()=>_e.x,find:()=>je,findIndex:()=>Fe,first:()=>T.P,flatMap:()=>Ze.VS,groupBy:()=>De.v,ignoreElements:()=>Le,isEmpty:()=>Re,last:()=>Ve,map:()=>x.U,mapTo:()=>S.h,materialize:()=>Ge.i,max:()=>Ke,merge:()=>Je.T,mergeAll:()=>Xe.J,mergeMap:()=>Ze.zg,mergeMapTo:()=>Qe,mergeScan:()=>et,min:()=>it,multicast:()=>rt.O,observeOn:()=>at.QV,onErrorResumeNext:()=>st,pairwise:()=>ut.G,partition:()=>pt,pluck:()=>w.j,publish:()=>mt,publishBehavior:()=>ft,publishLast:()=>yt,publishReplay:()=>O._,race:()=>bt,reduce:()=>Ye.u,refCount:()=>_.x,repeat:()=>Ct.r,repeatWhen:()=>xt,retry:()=>St,retryWhen:()=>At,sample:()=>Ot.U,sampleTime:()=>jt,scan:()=>I.R,sequenceEqual:()=>Dt,share:()=>Rt.B,shareReplay:()=>Ht.d,single:()=>Ut,skip:()=>zt.T,skipLast:()=>Vt,skipUntil:()=>Kt.u,skipWhile:()=>Jt.n,startWith:()=>E.O,subscribeOn:()=>Xt.R,switchAll:()=>Zt.B,switchMap:()=>b.w,switchMapTo:()=>Qt.c,take:()=>ve.q,takeLast:()=>qe.h,takeUntil:()=>en.R,takeWhile:()=>tn.o,tap:()=>v.b,throttle:()=>nn.P,throttleTime:()=>rn.p,throwIfEmpty:()=>ye.T,timeInterval:()=>on,timeout:()=>ln.V,timeoutWith:()=>cn.L,timestamp:()=>un,toArray:()=>mn,window:()=>hn,windowCount:()=>yn,windowTime:()=>wn,windowToggle:()=>Nn,windowWhen:()=>jn,withLatestFrom:()=>Fn.M,zip:()=>qn,zipAll:()=>zn});var r,a,o=n(59312),s=n(5114),l=n(19429),c=n(45614),u=n(93756),d=n(57050),p=n(24209),m=n(83401),h=n(2844),f=n(40151),g=n(76974),y=n(44586),v=n(2834),b=n(66310),C=n(85985),x=n(77176),w=n(24713),I=n(67434),S=n(17343),k=n(78674),E=n(93508),A=n(13444),T=n(50628),N=n(40327),O=n(48403),_=n(95343);!function(e){e.split=function(e){var t=(0,N.pipe)(e,O._(1),_.x());return{animation:(0,N.pipe)(t,C.h((function(e){return"root"===e.action.key})),x.U((function(e){return{key:e.key,action:e.action.action}}))),action:(0,N.pipe)(t,C.h((function(e){return"children"===e.action.key})),x.U((function(e){return{key:e.key,action:e.action.action}})))}}}(r||(r={})),function(e){function t(e){return l.UI(e)}function n(e){return l.I_(e)}function i(e,t){return function(n){return(0,d.pipe)(e,C.h((function(e){return e.key===t&&e.action.animationType===n})),x.U((function(e){return e.action})),E.O({kind:"init"}),b.w((function(e){return"end"===e.kind?(0,g.of)(e):(0,d.pipe)((0,g.of)({kind:"end",animationType:n}),A.g("start"===e.kind?O:N))})),T.P())}}e.fromSideEffect=function(e,t){return function(n){return(0,p.T)(n.pipe(v.b(e),b.w((function(){return m.C}))),(i=t)instanceof y.y?i:(0,g.of)(i));var i}},e.patchState=t,e.extendActions=n,e.patch=function(e,i){return(0,d.flow)(n(e),t(i))},e.replaceActions=function(e){return l.I_((0,d.flow)(e,b.w((function(){return m.C}))))},e.composeKnot=function(e){return l.VF((function(t){return(0,h.aj)(Object.keys(e).map((function(n){return e[n](t.pipe(C.h((function(e){return e.key===n})),x.U((function(e){return e.action})))).pipe(x.U((function(e){var t;return(t={})[n]=e,t})))}))).pipe(x.U((function(e){return e.reduce((function(e,t){return(0,o.__assign)((0,o.__assign)({},e),t)}))})))}))},e.composeUnion=function(e,t){return l.VF((function(n){return(0,d.pipe)(t(n),b.w((function(t){var i=Object.entries(t)[0],r=i[0],a=i[1];return(0,d.pipe)(n,C.h((function(e){return e.key===a})),x.U((function(e){return e.action})),e[a],x.U((function(e){var t;return(0,o.__assign)((0,o.__assign)({},e),((t={})[r]=a,t))})))})))}))},e.animatingFlow=function(e,t){return function(n){var l=r.split(n),m=l.action,h=l.animation,g=0;return(0,d.pipe)(m,C.h((function(e){return e.key===String(g)})),w.j("action"),e,I.R(function(e,t){return function(n,i){var r,a,o=t(),l=s.fromNullable(n[o]),c=(0,d.pipe)(l,s.map((function(e){return e.children}))),p=e(c,i);if(s.isNone(p))return(r={})[o]={root:s.none,children:i},r;var m=((a={})[o+1]={root:u.EK(p.value),children:i},a),h=u.IS(p.value);return s.isSome(h)&&s.isSome(c)&&(m[o]={root:h,children:c.value}),m}}(t,(function(){return g})),{}),v.b((function(e){return g=Number(Object.keys(e).pop())})),b.w(function(e,t){return function(n){var r=String(t()-1),l=String(t()),u=(0,d.pipe)(s.fromNullable(n[r]),s.chain((function(e){return e.root})),s.map(i(e,r)),s.getOrElse((function(){return f.E})),S.h(c.deleteAt(r))),m=(0,d.pipe)(n[l].root,s.map(i(e,l)),s.getOrElse((function(){return f.E})),S.h((function(e){var t=(0,o.__assign)({},e);return t[l]=(0,o.__assign)((0,o.__assign)({},t[l]),{root:s.none}),t})));return(0,d.pipe)((0,p.T)(u,m),I.R((function(e,t){return t(e)}),n),k.b(a),E.O(n))}}(h,(function(){return g}))))}};var a=100,N=500,O=10*N}(a||(a={}));var j=n(27378),$=n(32952),P=n(50133),F=n(66081),D=n(36919),L=n(98036);function B(e,t){return void 0===t&&(t=null),function(n){return n.lift(new M(e,t))}}var M=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?H:R}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),R=function(e){function t(t,n){var i=e.call(this,t)||this;return i.bufferSize=n,i.buffer=[],i}return o.__extends(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(L.L),H=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.bufferSize=n,r.startBufferEvery=i,r.buffers=[],r.count=0,r}return o.__extends(t,e),t.prototype._next=function(e){var t=this,n=t.bufferSize,i=t.startBufferEvery,r=t.buffers,a=t.count;this.count++,a%i==0&&r.push([]);for(var o=r.length;o--;){var s=r[o];s.push(e),s.length===n&&(r.splice(o,1),this.destination.next(s))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var i=t.shift();i.length>0&&n.next(i)}e.prototype._complete.call(this)},t}(L.L),U=n(17160),W=n(14601),q=n(72500),z=n(57655);function V(e,t){return function(n){return n.lift(new G(e,t))}}var G=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new Y(e,this.openings,this.closingSelector))},e}(),Y=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.closingSelector=i,r.contexts=[],r.add((0,q.D)(r,n)),r}return o.__extends(t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,i=0;i<n;i++)t[i].buffer.push(e)},t.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,i=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(i),i.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=new W.w,i={buffer:[],subscription:n};t.push(i);var r=(0,q.D)(this,e,i);!r||r.closed?this.closeBuffer(i):(r.context=i,this.add(r),n.add(r))},t}(z.L),K=n(77150),J=n(91224);function X(e){return function(t){return t.lift(new h.Ms(e))}}var Z=n(57091),Q=n(94123),ee=n(44212),te=n(71032);function ne(e,t){return(0,te.b)((function(){return e}),t)}function ie(e){return function(t){return t.lift(new re(e,t))}}var re=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new ae(e,this.predicate,this.source))},e}(),ae=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.source=i,r.count=0,r.index=0,r}return o.__extends(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(L.L),oe=n(87847),se=n(31524),le=n(87938),ce=n(15789),ue=n(46601);function de(e,t){return function(n){return n.lift(new pe(e,t))}}var pe=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new me(e,this.keySelector,this.flushes))},e}(),me=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.keySelector=n,r.values=new Set,i&&r.add((0,ue.ft)(i,new ue.IY(r))),r}return o.__extends(t,e),t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(e){return void n.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(ue.Ds),he=n(28043);function fe(e,t){return(0,he.x)((function(n,i){return t?t(n[e],i[e]):n[e]===i[e]}))}var ge=n(2270),ye=n(4750),ve=n(23063);function be(e,t){if(e<0)throw new ge.W;var n=arguments.length>=2;return function(i){return i.pipe((0,C.h)((function(t,n){return n===e})),(0,ve.q)(1),n?(0,se.d)(t):(0,ye.T)((function(){return new ge.W})))}}var Ce=n(39719);function xe(e,t){return function(n){return n.lift(new we(e,t,n))}}var we=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new Ie(e,this.predicate,this.thisArg,this.source))},e}(),Ie=function(e){function t(t,n,i,r){var a=e.call(this,t)||this;return a.predicate=n,a.thisArg=i,a.source=r,a.index=0,a.thisArg=i||a,a}return o.__extends(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(L.L);function Se(){return function(e){return e.lift(new ke)}}var ke=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Ee(e))},e}(),Ee=function(e){function t(t){var n=e.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return o.__extends(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add((0,ue.ft)(e,new ue.IY(this))))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(ue.Ds),Ae=n(97884);function Te(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(i){return i.lift(new Ne(e,t,n))}}var Ne=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new Oe(e,this.project,this.concurrent,this.scheduler))},e}(),Oe=function(e){function t(t,n,i,r){var a=e.call(this,t)||this;return a.project=n,a.concurrent=i,a.scheduler=r,a.index=0,a.active=0,a.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(a.buffer=[]),a}return o.__extends(t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,i=e.value,r=e.index;t.subscribeToProjection(n,i,r)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var i=this.index++;if(this.active<this.concurrent){n.next(e);try{var r=(0,this.project)(e,i);if(this.scheduler){var a={subscriber:this,result:r,value:e,index:i};this.destination.add(this.scheduler.schedule(t.dispatch,0,a))}else this.subscribeToProjection(r,e,i)}catch(e){n.error(e)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++,this.destination.add((0,ue.ft)(e,new ue.IY(this)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this._next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(ue.Ds),_e=n(9223);function je(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new $e(e,n,!1,t))}}var $e=function(){function e(e,t,n,i){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=i}return e.prototype.call=function(e,t){return t.subscribe(new Pe(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),Pe=function(e){function t(t,n,i,r,a){var o=e.call(this,t)||this;return o.predicate=n,o.source=i,o.yieldIndex=r,o.thisArg=a,o.index=0,o}return o.__extends(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,n=this.thisArg,i=this.index++;try{t.call(n||this,e,i,this.source)&&this.notifyComplete(this.yieldIndex?i:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(L.L);function Fe(e,t){return function(n){return n.lift(new $e(e,n,!0,t))}}var De=n(78146);function Le(){return function(e){return e.lift(new Be)}}var Be=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Me(e))},e}(),Me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype._next=function(e){},t}(L.L);function Re(){return function(e){return e.lift(new He)}}var He=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Ue(e))},e}(),Ue=function(e){function t(t){return e.call(this,t)||this}return o.__extends(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(L.L),We=n(33346),qe=n(51639),ze=n(49524);function Ve(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?(0,C.h)((function(t,n){return e(t,n,i)})):ze.y,(0,qe.h)(1),n?(0,se.d)(t):(0,ye.T)((function(){return new We.K})))}}var Ge=n(83840),Ye=n(38934);function Ke(e){var t="function"==typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t};return(0,Ye.u)(t)}var Je=n(95093),Xe=n(68425),Ze=n(85321);function Qe(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?(0,Ze.zg)((function(){return e}),t,n):("number"==typeof t&&(n=t),(0,Ze.zg)((function(){return e}),n))}function et(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(i){return i.lift(new tt(e,t,n))}}var tt=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new nt(e,this.accumulator,this.seed,this.concurrent))},e}(),nt=function(e){function t(t,n,i,r){var a=e.call(this,t)||this;return a.accumulator=n,a.acc=i,a.concurrent=r,a.hasValue=!1,a.hasCompleted=!1,a.buffer=[],a.active=0,a.index=0,a}return o.__extends(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=this.destination,i=void 0;try{i=(0,this.accumulator)(this.acc,e,t)}catch(e){return n.error(e)}this.active++,this._innerSub(i)}else this.buffer.push(e)},t.prototype._innerSub=function(e){var t=new ue.IY(this),n=this.destination;n.add(t);var i=(0,ue.ft)(e,t);i!==t&&n.add(i)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e){var t=this.destination;this.acc=e,this.hasValue=!0,t.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(ue.Ds);function it(e){var t="function"==typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t};return(0,Ye.u)(t)}var rt=n(24755),at=n(80544),ot=n(17733);function st(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&(0,ot.k)(e[0])&&(e=e[0]),function(t){return t.lift(new lt(e))}}var lt=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new ct(e,this.nextSources))},e}(),ct=function(e){function t(t,n){var i=e.call(this,t)||this;return i.destination=t,i.nextSources=n,i}return o.__extends(t,e),t.prototype.notifyError=function(){this.subscribeToNextSource()},t.prototype.notifyComplete=function(){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new ue.IY(this),n=this.destination;n.add(t);var i=(0,ue.ft)(e,t);i!==t&&n.add(i)}else this.destination.complete()},t}(ue.Ds),ut=n(16118);function dt(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}function pt(e,t){return function(n){return[(0,C.h)(e,t)(n),(0,C.h)(dt(e,t))(n)]}}function mt(e){return e?(0,rt.O)((function(){return new $.xQ}),e):(0,rt.O)(new $.xQ)}var ht=n(95300);function ft(e){return function(t){return(0,rt.O)(new ht.X(e))(t)}}var gt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return o.__extends(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),W.w.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),W.w.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}($.xQ);function yt(){return function(e){return(0,rt.O)(new gt)(e)}}var vt=n(38062);function bt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&(0,ot.k)(e[0])&&(e=e[0]),t.lift.call(vt.S3.apply(void 0,[t].concat(e)))}}var Ct=n(36303);function xt(e){return function(t){return t.lift(new wt(e))}}var wt=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new It(e,this.notifier,t))},e}(),It=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.notifier=n,r.source=i,r.sourceIsBeingSubscribedTo=!0,r}return o.__extends(t,e),t.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new $.xQ;try{t=(0,this.notifier)(this.notifications)}catch(t){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=(0,ue.ft)(t,new ue.IY(this))},t}(ue.Ds);function St(e){return void 0===e&&(e=-1),function(t){return t.lift(new kt(e,t))}}var kt=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Et(e,this.count,this.source))},e}(),Et=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.count=n,r.source=i,r}return o.__extends(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.source,i=this.count;if(0===i)return e.prototype.error.call(this,t);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(L.L);function At(e){return function(t){return t.lift(new Tt(e,t))}}var Tt=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Nt(e,this.notifier,this.source))},e}(),Nt=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.notifier=n,r.source=i,r}return o.__extends(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,i=this.retries,r=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new $.xQ;try{i=(0,this.notifier)(n)}catch(t){return e.prototype.error.call(this,t)}r=(0,ue.ft)(i,new ue.IY(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=r,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}(ue.Ds),Ot=n(13718),_t=n(82506);function jt(e,t){return void 0===t&&(t=_t.P),function(n){return n.lift(new $t(e,t))}}var $t=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new Pt(e,this.period,this.scheduler))},e}(),Pt=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.period=n,r.scheduler=i,r.hasValue=!1,r.add(i.schedule(Ft,n,{subscriber:r,period:n})),r}return o.__extends(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(L.L);function Ft(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}function Dt(e,t){return function(n){return n.lift(new Lt(e,t))}}var Lt=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new Bt(e,this.compareTo,this.comparator))},e}(),Bt=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.compareTo=n,r.comparator=i,r._a=[],r._b=[],r._oneComplete=!1,r.destination.add(n.subscribe(new Mt(t,r))),r}return o.__extends(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this,t=e._a,n=e._b,i=e.comparator;t.length>0&&n.length>0;){var r=t.shift(),a=n.shift(),o=!1;try{o=i?i(r,a):r===a}catch(e){this.destination.error(e)}o||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(L.L),Mt=function(e){function t(t,n){var i=e.call(this,t)||this;return i.parent=n,i}return o.__extends(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(L.L),Rt=n(38194),Ht=n(34891);function Ut(e){return function(t){return t.lift(new Wt(e,t))}}var Wt=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new qt(e,this.predicate,this.source))},e}(),qt=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.source=i,r.seenValue=!1,r.index=0,r}return o.__extends(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new We.K)},t}(L.L),zt=n(55935);function Vt(e){return function(t){return t.lift(new Gt(e))}}var Gt=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new ge.W}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new L.L(e)):t.subscribe(new Yt(e,this._skipCount))},e}(),Yt=function(e){function t(t,n){var i=e.call(this,t)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return o.__extends(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var i=n%t,r=this._ring,a=r[i];r[i]=e,this.destination.next(a)}},t}(L.L),Kt=n(42833),Jt=n(93497),Xt=n(92403),Zt=n(69935),Qt=n(598),en=n(2768),tn=n(8473),nn=n(25031),rn=n(55721),an=n(18625);function on(e){return void 0===e&&(e=_t.P),function(t){return(0,an.P)((function(){return t.pipe((0,I.R)((function(t,n){var i=t.current;return{value:n,current:e.now(),last:i}}),{current:e.now(),value:void 0,last:void 0}),(0,x.U)((function(e){var t=e.current,n=e.last,i=e.value;return new sn(i,t-n)})))}))}}var sn=function(){return function(e,t){this.value=e,this.interval=t}}(),ln=n(52342),cn=n(97425);function un(e){return void 0===e&&(e=_t.P),(0,x.U)((function(t){return new dn(t,e.now())}))}var dn=function(){return function(e,t){this.value=e,this.timestamp=t}}();function pn(e,t,n){return 0===n?[t]:(e.push(t),e)}function mn(){return(0,Ye.u)(pn,[])}function hn(e){return function(t){return t.lift(new fn(e))}}var fn=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new gn(e),i=t.subscribe(n);return i.closed||n.add((0,ue.ft)(this.windowBoundaries,new ue.IY(n))),i},e}(),gn=function(e){function t(t){var n=e.call(this,t)||this;return n.window=new $.xQ,t.next(n.window),n}return o.__extends(t,e),t.prototype.notifyNext=function(){this.openWindow()},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new $.xQ;t.next(n)},t}(ue.Ds);function yn(e,t){return void 0===t&&(t=0),function(n){return n.lift(new vn(e,t))}}var vn=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new bn(e,this.windowSize,this.startWindowEvery))},e}(),bn=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.destination=t,r.windowSize=n,r.startWindowEvery=i,r.windows=[new $.xQ],r.count=0,t.next(r.windows[0]),r}return o.__extends(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,i=this.windowSize,r=this.windows,a=r.length,o=0;o<a&&!this.closed;o++)r[o].next(e);var s=this.count-i+1;if(s>=0&&s%t==0&&!this.closed&&r.shift().complete(),++this.count%t==0&&!this.closed){var l=new $.xQ;r.push(l),n.next(l)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(L.L),Cn=n(44362),xn=n(67827);function wn(e){var t=_t.P,n=null,i=Number.POSITIVE_INFINITY;return(0,xn.K)(arguments[3])&&(t=arguments[3]),(0,xn.K)(arguments[2])?t=arguments[2]:(0,Cn.k)(arguments[2])&&(i=Number(arguments[2])),(0,xn.K)(arguments[1])?t=arguments[1]:(0,Cn.k)(arguments[1])&&(n=Number(arguments[1])),function(r){return r.lift(new In(e,n,i,t))}}var In=function(){function e(e,t,n,i){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=i}return e.prototype.call=function(e,t){return t.subscribe(new kn(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),Sn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return o.__extends(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}($.xQ),kn=function(e){function t(t,n,i,r,a){var o=e.call(this,t)||this;o.destination=t,o.windowTimeSpan=n,o.windowCreationInterval=i,o.maxWindowSize=r,o.scheduler=a,o.windows=[];var s=o.openWindow();if(null!==i&&i>=0){var l={subscriber:o,window:s,context:null},c={windowTimeSpan:n,windowCreationInterval:i,subscriber:o,scheduler:a};o.add(a.schedule(Tn,n,l)),o.add(a.schedule(An,i,c))}else{var u={subscriber:o,window:s,windowTimeSpan:n};o.add(a.schedule(En,n,u))}return o}return o.__extends(t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,i=0;i<n;i++){var r=t[i];r.closed||(r.next(e),r.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(r))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new Sn;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(L.L);function En(e){var t=e.subscriber,n=e.windowTimeSpan,i=e.window;i&&t.closeWindow(i),e.window=t.openWindow(),this.schedule(e,n)}function An(e){var t=e.windowTimeSpan,n=e.subscriber,i=e.scheduler,r=e.windowCreationInterval,a=n.openWindow(),o=this,s={action:o,subscription:null},l={subscriber:n,window:a,context:s};s.subscription=i.schedule(Tn,t,l),o.add(s.subscription),o.schedule(e,r)}function Tn(e){var t=e.subscriber,n=e.window,i=e.context;i&&i.action&&i.subscription&&i.action.remove(i.subscription),t.closeWindow(n)}function Nn(e,t){return function(n){return n.lift(new On(e,t))}}var On=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new _n(e,this.openings,this.closingSelector))},e}(),_n=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.openings=n,r.closingSelector=i,r.contexts=[],r.add(r.openSubscription=(0,q.D)(r,n,n)),r}return o.__extends(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,i=0;i<n;i++)t[i].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,r=-1;++r<i;){var a=n[r];a.window.error(t),a.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var r=t[i];r.window.complete(),r.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var i=e[n];i.window.unsubscribe(),i.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,n,i,r){if(e===this.openings){var a=void 0;try{a=(0,this.closingSelector)(t)}catch(e){return this.error(e)}var o=new $.xQ,s=new W.w,l={window:o,subscription:s};this.contexts.push(l);var c=(0,q.D)(this,a,l);c.closed?this.closeWindow(this.contexts.length-1):(c.context=l,s.add(c)),this.destination.next(o)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],i=n.window,r=n.subscription;t.splice(e,1),i.complete(),r.unsubscribe()}},t}(z.L);function jn(e){return function(t){return t.lift(new $n(e))}}var $n=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new Pn(e,this.closingSelector))},e}(),Pn=function(e){function t(t,n){var i=e.call(this,t)||this;return i.destination=t,i.closingSelector=n,i.openWindow(),i}return o.__extends(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.openWindow(r)},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,i=this.window=new $.xQ;this.destination.next(i);try{n=(0,this.closingSelector)()}catch(e){return this.destination.error(e),void this.window.error(e)}this.add(this.closingNotification=(0,q.D)(this,n))},t}(z.L),Fn=n(41398),Dn=n(81967),Ln=n(85451);function Bn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),(0,Dn.n)(e,void 0).lift(new Mn(n))}var Mn=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new Rn(e,this.resultSelector))},e}(),Rn=function(e){function t(t,n,i){void 0===i&&(i=Object.create(null));var r=e.call(this,t)||this;return r.resultSelector=n,r.iterators=[],r.active=0,r.resultSelector="function"==typeof n?n:void 0,r}return o.__extends(t,e),t.prototype._next=function(e){var t=this.iterators;(0,ot.k)(e)?t.push(new Un(e)):"function"==typeof e[Ln.hZ]?t.push(new Hn(e[Ln.hZ]())):t.push(new Wn(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var i=e[n];if(i.stillUnsubscribed)this.destination.add(i.subscribe());else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,i=0;i<t;i++){if("function"==typeof(o=e[i]).hasValue&&!o.hasValue())return}var r=!1,a=[];for(i=0;i<t;i++){var o,s=(o=e[i]).next();if(o.hasCompleted()&&(r=!0),s.done)return void n.complete();a.push(s.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),r&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(L.L),Hn=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},e}(),Un=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[Ln.hZ]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),Wn=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.parent=n,r.observable=i,r.stillUnsubscribed=!0,r.buffer=[],r.isComplete=!1,r}return o.__extends(t,e),t.prototype[Ln.hZ]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return(0,ue.ft)(this.observable,new ue.IY(this))},t}(ue.Ds);function qn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(Bn.apply(void 0,[t].concat(e)))}}function zn(e){return function(t){return t.lift(new Mn(e))}}var Vn=n(5739),Gn="root",Yn=n(73975);function Kn(e){return(0,d.flow)(he.x(),I.R((function(t,n){return e.reduceWithIndex(n,new Map,(function(e,n,i){var r=t.get(e);return void 0!==r?(n.set(e,r),r.next(i)):n.set(e,new ht.X(i)),n}))}),new Map),he.x((t=Yn.fromEquals((function(){return!0})),{equals:function(e,n){if(e===n)return!0;if(e.size===n.size){for(var i=e.keys(),r=void 0;!(r=i.next()).done;)if(!n.has(r.value)||!t.equals(e.get(r.value),n.get(r.value)))return!1;return!0}return!1}}).equals));var t}var Jn,Xn=function(){function e(e){this._keySelector=e}return e.prototype.call=function(e,t){return t.subscribe(new Zn(e,this._keySelector))},e}(),Zn=function(e){function t(t,n){var i=e.call(this,t)||this;return i.destination=t,i._keySelector=n,i.attemptedToUnsubscribe=!1,i.count=0,i._currentGroup=s.none,i}return(0,o.__extends)(t,e),t.prototype._next=function(e){var t=this,n=this._keySelector(e);(0,N.pipe)(this._currentGroup,s.fold((function(){return t._createGroup(n,e)}),(function(i){var r=i.key,a=i.group;r!==n?(a.complete(),t._currentGroup=s.none,t._createGroup(n,e)):a.closed||a.next(e)})))},t.prototype._createGroup=function(e,t){var n=new ht.X(t);this._currentGroup=s.some({key:e,group:n}),this.destination.next(new De.T(e,n,this))},t.prototype._error=function(e){(0,N.pipe)(this._currentGroup,s.map((function(t){return t.group.error(e)}))),this._currentGroup=s.none,this.destination.error(e)},t.prototype._complete=function(){(0,N.pipe)(this._currentGroup,s.map((function(e){return e.group.complete()}))),this._currentGroup=s.none,this.destination.complete()},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(L.L);function Qn(e,t){return(0,N.pipe)(t,Jn.mapAction((function(t){return{key:e,action:t}})),l.UI((function(t){return null===t?t:j.cloneElement(t,{key:e})})))}function ei(e,t,n){var i,r;if(ni(e)&&t.length>0)return{grid:e.grid,child:ei(e.child,t,n)};if(ti(e)&&t.length>0){var a=t[0],s=t.slice(1);return{grid:e.grid,children:(0,o.__assign)((0,o.__assign)({},e.children),(i={},i[a]=ei(e.children[a],s,n),i))}}if(ii(e)&&t.length>0)return{foldable:e.foldable,of:ei(e.of,t,n)};if(ri(e)&&t.length>0){a=t[0],s=t.slice(1);return{tag:e.tag,members:(0,o.__assign)((0,o.__assign)({},e.members),(r={},r[a]=ei(e.members[a],s,n),r))}}return n(e)}function ti(e){return"children"in e}function ni(e){return"child"in e}function ii(e){return"foldable"in e}function ri(e){return"members"in e}function ai(e){return j.createElement(Vn.F.Fragment,{children:e})}!function(e){function t(e){return ni(e)?function(n){var i=new Proxy({},{get:function(){return t(e.child)({children:null,notify:n.notify,state:n.state||f.E})}});return e.grid({children:i,state:f.E,notify:d.constVoid})}:ti(e)?function(n){return(0,N.pipe)(n.state,Kn(c.record),x.U((function(i){var r=(0,N.pipe)(e.children,c.mapWithIndex((function(e,r){return Qn(e,t(r))({children:null,notify:n.notify,state:i.get(e)||f.E})})));return e.grid({children:r,state:i.get(Gn)||f.E,notify:function(e){return n.notify({key:Gn,action:e})}})})),ai)}:ii(e)?function(n){return(0,N.pipe)(n.state,Kn(e.foldable),I.R((function(i,r){var a=new Map;return r.forEach((function(r,o){var s=i.get(o);if(void 0!==s)a.set(o,s);else{var l=Qn(o,t(e.of));a.set(o,l({children:null,notify:n.notify,state:r}))}})),a}),new Map),x.U((function(e){var t=new Array;return e.forEach((function(e){return t.push(e)})),t})),ai)}:ri(e)?function(n){return(0,N.pipe)(n.state,(i=e.tag,function(e){return e.pipe((function(e){return e.lift(new Xn((function(e){return e[i]})))}))}),x.U((function(i){return Qn(i.key,t(e.members[i.key]))({children:null,notify:n.notify,state:i})})),ai);var i}:e}function n(e,t,i){return ti(e)?{grid:n(e.grid,t,i),children:e.children}:ii(e)?{foldable:e.foldable,of:n(e.of,t,i)}:function(n){return e({children:n.children,notify:(0,N.pipe)(n.notify,l.I_(i)),state:(0,N.pipe)(n.state,x.U(t))})}}!function(t){t.empty=function(){return null},t.make=function(t){return e.Grid.make(t)}}(e.Node||(e.Node={})),function(e){e.make=function(e){return function(t){var n=t.children,r=t.state,a=t.notify;return j.createElement(e,{slots:n,state:r,notify:function(e){return function(){return a(e)}},view:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,N.pipe)(r,w.j.apply(i,e),he.x())}})}}}(e.Grid||(e.Grid={})),function(e){e.make=function(e,t){return{grid:e,child:t}}}(e.Composite||(e.Composite={})),function(e){e.make=function(e,t){return{grid:e,children:t}}}(e.Knot||(e.Knot={})),function(e){e.make=function(e){return{grid:function(e){return ai((0,N.pipe)(e.children,c.collect((function(e,t){return t}))))},children:e}}}(e.Group||(e.Group={})),function(e){e.make=function(e,t){return{foldable:e,of:t}}}(e.List||(e.List={})),function(t){t.make=function(e,t){return{tag:e,members:t}},t.asOption=function(t){return{tag:"_tag",members:{Some:e.Group.make({value:t}),None:e.Node.empty}}}}(e.Union||(e.Union={})),function(e){e.make=function(e,t){return function(n){var i;return j.createElement(Vn.F.div,((i={})["data-purpose"]="animation-wrapper",i.children=n.children.children,i.className=(0,N.pipe)(n.state,x.U((0,d.flow)(s.map((function(n){return e[n]||t[n]})),s.toUndefined)),he.x()),i.onAnimationStart=(0,N.pipe)(n.state,x.U(s.fold((function(){return d.constVoid}),(function(e){return function(){return n.notify({kind:"start",animationType:e})}})))),i.onAnimationEnd=(0,N.pipe)(n.state,x.U(s.fold((function(){return d.constVoid}),(function(e){return function(){return n.notify({kind:"end",animationType:e})}})))),i))}}}(e.Transition||(e.Transition={})),function(t){t.make=function(t,n){return e.List.make(c.record,e.Knot.make(t,{children:n}))}}(e.Animated||(e.Animated={})),e.mount=function(e,n){var i=new $.xQ;return t(e)({children:null,notify:function(e){return i.next(e)},state:(0,N.pipe)(n(i),O._(1),_.x())})},e.patch=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return function(n){return ei(n,e,t)}}},e.mapAction=function(e){return function(t){return n(t,d.identity,e)}},e.contramapState=function(e){return function(t){return n(t,e,d.identity)}},e.squash=t,e.promap=n}(Jn||(Jn={}))},90329:(e,t,n)=>{n.d(t,{Ri:()=>he,xu:()=>fe,dO:()=>me,KM:()=>R,oA:()=>ne,EG:()=>q,t9:()=>L,cS:()=>X,hX:()=>ie,DZ:()=>re,sQ:()=>te,Eh:()=>Z,qO:()=>de,uZ:()=>Q,ZN:()=>$,YH:()=>pe,ZQ:()=>W,xb:()=>F,kr:()=>J,XP:()=>B,P5:()=>K,FP:()=>Y,UI:()=>ae,Su:()=>oe,N:()=>ge,fP:()=>D,cq:()=>V,uK:()=>se,tV:()=>le,Sw:()=>G,oh:()=>ce,ri:()=>ee,dp:()=>P,qo:()=>H,nd:()=>U,Wl:()=>z,VO:()=>M});var i=n(95195),r=n(73975),a=n(57050),o=n(5114);function s(e){return function(t){return Array.from(t.keys()).sort(e.compare)}}function l(e){var t=s(e);return function(e){return function(n){for(var i=[],r=0,a=t(n);r<a.length;r++){var o=a[r];i.push(e(o,n.get(o)))}return i}}}function c(e){return l(e)((function(e,t){return[e,t]}))}function u(e){var t=d(e);return function(e){return function(n){var i=t(e,n);if(o.isSome(i)){var r=new Map(n);return r.delete(i.value[0]),r}return n}}}function d(e){return function(t,n){if(void 0===n){var i=d(e);return function(e){return i(t,e)}}for(var r,a=n.entries();!(r=a.next()).done;){var s=r.value,l=s[0],c=s[1];if(e.equals(l,t))return o.some([l,c])}return o.none}}function p(e){var t=d(e);return function(n,i){if(void 0===i){var r=p(e);return function(e){return r(n,e)}}return(0,a.pipe)(t(n,i),o.map((function(e){e[0];return e[1]})))}}function m(e,t){var n=d(e);return function(i,r){if(void 0===r){var a=m(e,t);return function(e){return a(e,i)}}for(var s,l=i.entries();!(s=l.next()).done;){var c=s.value,u=c[0],d=c[1],p=n(u,r);if(o.isNone(p)||!e.equals(u,p.value[0])||!t.equals(d,p.value[1]))return!1}return!0}}var h=new Map;var f=function(e,t){for(var n,i=new Map,r=e.entries();!(n=r.next()).done;){var a=n.value,o=a[0],s=a[1];i.set(o,t(o,s))}return i},g=function(e,t){for(var n,r=new Map,a=new Map,o=e.entries();!(n=o.next()).done;){var s=n.value,l=s[0],c=t(l,s[1]);(0,i.isLeft)(c)?r.set(l,c.left):a.set(l,c.right)}return{left:r,right:a}},y=function(e,t){for(var n,i=new Map,r=new Map,a=e.entries();!(n=a.next()).done;){var o=n.value,s=o[0],l=o[1];t(s,l)?r.set(s,l):i.set(s,l)}return{left:i,right:r}},v=function(e,t){for(var n,i=new Map,r=e.entries();!(n=r.next()).done;){var a=n.value,s=a[0],l=t(s,a[1]);o.isSome(l)&&i.set(s,l.value)}return i},b=function(e,t){for(var n,i=new Map,r=e.entries();!(n=r.next()).done;){var a=n.value,o=a[0],s=a[1];t(o,s)&&i.set(o,s)}return i},C=function(e,t){return f(e,(function(e,n){return t(n)}))},x=function(e,t){return b(e,(function(e,n){return t(n)}))},w=function(e,t){return v(e,(function(e,n){return t(n)}))},I=function(e,t){return y(e,(function(e,n){return t(n)}))},S=function(e,t){return g(e,(function(e,n){return t(n)}))},k=function(e){for(var t,n=new Map,i=e.entries();!(t=i.next()).done;){var r=t.value,a=r[0],s=r[1];o.isSome(s)&&n.set(a,s.value)}return n},E=function(e){for(var t,n=new Map,r=new Map,a=e.entries();!(t=a.next()).done;){var o=t.value,s=o[0],l=o[1];(0,i.isLeft)(l)?n.set(s,l.left):r.set(s,l.right)}return{left:n,right:r}},A="ReadonlyMap";var T=C,N=x,O=w,_=I,j=S,$=function(e,t){return{show:function(n){var i="";return n.forEach((function(n,r){i+="["+e.show(r)+", "+t.show(n)+"], "})),""!==i&&(i=i.substring(0,i.length-2)),"new Map(["+i+"])"}}},P=function(e){return e.size},F=function(e){return 0===e.size},D=function e(t){var n=p(t);return function(i,r){if(void 0===r){var a=e(t);return function(e){return a(i,e)}}return o.isSome(n(i,r))}},L=function e(t){return function(n,i){if(void 0===i){var r=e(t);return function(e){return r(n,e)}}for(var a,o=i.values();!(a=o.next()).done;){var s=a.value;if(t.equals(n,s))return!0}return!1}},B=s,M=function(e){return function(t){return Array.from(t.values()).sort(e.compare)}},R=l,H=c;function U(e,t){return function(e,t){var n=c(e);return function(e){var i=n(e),r=i.length;return t.unfold(0,(function(e){return e<r?o.some([i[e],e+1]):o.none}))}}(e,t)}var W=function(e){var t=d(e);return function(e,n){return function(i){var r,a=t(e,i);return o.isNone(a)?((r=new Map(i)).set(e,n),r):a.value[1]!==n?((r=new Map(i)).set(a.value[0],n),r):i}}},q=u,z=function(e){var t=d(e);return function(e,n){return function(i){var r=t(e,i);if(o.isNone(r))return o.none;var a=new Map(i);return a.set(r.value[0],n),o.some(a)}}},V=function(e){var t=d(e);return function(e,n){return function(i){var r=t(e,i);if(o.isNone(r))return o.none;var a=new Map(i);return a.set(r.value[0],n(r.value[1])),o.some(a)}}},G=function(e){var t=p(e),n=u(e);return function(e){var i=n(e);return function(n){return(0,a.pipe)(t(e,n),o.map((function(e){return[e,i(n)]})))}}},Y=d,K=p,J=m,X=new Map,Z=function(e,t){var n=m(e,t);return(0,r.fromEquals)((function(e,t){return n(e,t)&&n(t,e)}))},Q=function(e,t){var n=d(e);return{concat:function(e,i){if(e===h)return i;if(i===h)return e;for(var r,a=new Map(e),s=i.entries();!(r=s.next()).done;){var l=r.value,c=l[0],u=l[1],d=n(c,e);o.isSome(d)?a.set(d.value[0],t.concat(d.value[1],u)):a.set(c,u)}return a},empty:h}},ee=function(e,t){return new Map([[e,t]])};function te(e,t,n){return function(e,t,n){return function(i){var r=d(e);return n.reduce(i,new Map,(function(e,n){var i=n[0],a=n[1],s=r(i,e);return o.isSome(s)?e.set(s.value[0],t.concat(s.value[1],a)):e.set(i,a),e}))}}(e,t,n)}var ne=k,ie=function(e){return function(t){return x(t,e)}},re=function(e){return function(t){return w(t,e)}},ae=function(e){return function(t){return C(t,e)}},oe=function(e){return function(t){return f(t,e)}},se=function(e){return function(t){return I(t,e)}},le=function(e){return function(t){return S(t,e)}},ce=E,ue="Map",de=function(){return{URI:A,_E:void 0,map:C,mapWithIndex:f,compact:k,separate:E,filter:x,filterMap:w,partition:I,partitionMap:S,partitionMapWithIndex:g,partitionWithIndex:y,filterMapWithIndex:v,filterWithIndex:b}},pe=function(e){var t=s(e),n=function(e,n,i){for(var r=n,a=t(e),o=a.length,s=0;s<o;s++){var l=a[s];r=i(l,r,e.get(l))}return r},i=function(e){return function(n,i){for(var r=e.empty,a=t(n),o=a.length,s=0;s<o;s++){var l=a[s];r=e.concat(r,i(l,n.get(l)))}return r}},r=function(e,n,i){for(var r=n,a=t(e),o=a.length-1;o>=0;o--){var s=a[o];r=i(s,e.get(s),r)}return r},a=function(e){return function(n,i){for(var r=e.of(h),a=t(n),o=a.length,s=function(t){var o=a[t],s=n.get(o);r=e.ap(e.map(r,(function(e){return function(t){return new Map(e).set(o,t)}})),i(o,s))},l=0;l<o;l++)s(l);return r}},o=function(e){var t=a(e);return function(e,n){return t(e,(function(e,t){return n(t)}))}};return{URI:A,_E:void 0,map:C,compact:k,separate:E,filter:x,filterMap:w,partition:I,partitionMap:S,reduce:function(e,t,i){return n(e,t,(function(e,t,n){return i(t,n)}))},foldMap:function(e){var t=i(e);return function(e,n){return t(e,(function(e,t){return n(t)}))}},reduceRight:function(e,t,n){return r(e,t,(function(e,t,i){return n(t,i)}))},traverse:o,sequence:function(e){var t=a(e);return function(e){return t(e,(function(e,t){return t}))}},mapWithIndex:f,reduceWithIndex:n,foldMapWithIndex:i,reduceRightWithIndex:r,traverseWithIndex:a,wilt:function(e){var t=o(e);return function(n,i){return e.map(t(n,i),E)}},wither:function(e){var t=o(e);return function(n,i){return e.map(t(n,i),k)}}}},me={URI:ue,map:T},he={URI:ue,compact:k,separate:E},fe={URI:ue,map:T,compact:k,separate:E,filter:N,filterMap:O,partition:_,partitionMap:j},ge=fe},77150:(e,t,n)=>{n.d(t,{R:()=>o});var i=n(59312),r=n(14601),a=n(46601);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.closingSelector))},e}(),l=function(e){function t(t,n){var i=e.call(this,t)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return i.__extends(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},t.prototype.notifyNext=function(){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{t=(0,this.closingSelector)()}catch(e){return this.error(e)}e=new r.w,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add((0,a.ft)(t,new a.IY(this))),this.subscribing=!1},t}(a.Ds)},15789:(e,t,n)=>{n.d(t,{D:()=>a});var i=n(59312),r=n(98036);function a(){return function(e){return e.lift(new o)}}var o=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){return e.call(this,t)||this}return i.__extends(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(r.L)},83840:(e,t,n)=>{n.d(t,{i:()=>o});var i=n(59312),r=n(98036),a=n(12834);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new l(e))},e}(),l=function(e){function t(t){return e.call(this,t)||this}return i.__extends(t,e),t.prototype._next=function(e){this.destination.next(a.P.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(a.P.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(a.P.createComplete()),e.complete()},t}(r.L)},36303:(e,t,n)=>{n.d(t,{r:()=>o});var i=n(59312),r=n(98036),a=n(40151);function o(e){return void 0===e&&(e=-1),function(t){return 0===e?(0,a.c)():e<0?t.lift(new s(-1,t)):t.lift(new s(e-1,t))}}var s=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.count,this.source))},e}(),l=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.count=n,r.source=i,r}return i.__extends(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,n=this.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(r.L)},42833:(e,t,n)=>{n.d(t,{u:()=>a});var i=n(59312),r=n(46601);function a(e){return function(t){return t.lift(new o(e))}}var o=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.notifier))},e}(),s=function(e){function t(t,n){var i=e.call(this,t)||this;i.hasValue=!1;var a=new r.IY(i);i.add(a),i.innerSubscription=a;var o=(0,r.ft)(n,a);return o!==a&&(i.add(o),i.innerSubscription=o),i}return i.__extends(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(r.Ds)},93497:(e,t,n)=>{n.d(t,{n:()=>a});var i=n(59312),r=n(98036);function a(e){return function(t){return t.lift(new o(e))}}var o=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate))},e}(),s=function(e){function t(t,n){var i=e.call(this,t)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return i.__extends(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},t}(r.L)}}]);