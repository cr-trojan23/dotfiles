(self.webpackChunk=self.webpackChunk||[]).push([[420],{66617:(e,t,o)=>{o.r(t),o.d(t,{GdocsFreeTrialPopup:()=>c});var a=o(27378),s=o(5872),i=o(88326),r=o(19106),n=o(72581),p=o(61658),u=o(82967);const l={[n.T.dayOne]:{title:()=>"You’ve unlocked a 1-Week Free Trial of Grammarly Premium!",text:"Free trial includes all Premium suggestions and fixes when writing on Google Docs in Chrome.",subText:"No payment or action required. Free trial ends automatically in 7 days.",primaryButton:"Start Free Trial",secondaryButton:"Dismiss and Don't Show Again"},[n.T.halfway]:{title:e=>`You’re halfway there! ${e} days left in your Grammarly Premium Free Trial.`,text:"Loving Grammarly Premium? Upgrade today to keep receiving Premium suggestions and fixes.",primaryButton:"Upgrade Now"},[n.T.almostOver]:{title:()=>"You’re running out of time! Your Free Trial of Grammarly Premium is about to expire.",text:"We don’t want you to miss out on Grammarly Premium suggestions and fixes. Upgrade today to keep using Grammarly Premium.",primaryButton:"Upgrade Now"}},c=e=>{const{title:t,text:o,subText:c,primaryButton:m,secondaryButton:d}=l[e.popupType];return a.createElement("div",{className:(0,s.cs)(p.gButtonPopup,u.gdocsFreeTrialPopup,e.inGButton?u.inGButton:u.topRight)},a.createElement(i.M,{clickHandler:()=>{e.incrementCountClose(e.popupType),e.close(),r.J.gdocsFreeTrialPopupCloseButtonClick(e.popupType)}},a.createElement("button",{className:p.close})),a.createElement("h4",{className:u.title},t(e.popupType===n.T.halfway?e.daysRemaining:void 0)),a.createElement("p",{className:u.text},o),c&&a.createElement("p",{className:u.subText},c),a.createElement("div",{className:u.buttonContainer},a.createElement(i.M,{className:u.primaryButtonContainer,clickHandler:()=>{const t=Date.now();e.popupType===n.T.dayOne?e.startGdocsFreeTrial(t):e.openPlansPage({currentAlerts:[],forceUtmCampaign:"gdocsFreeTrial"}),r.J.gdocsFreeTrialPopupCTAButtonClick(e.popupType,t),e.close()}},a.createElement("button",{className:u.primaryButton},m)),d?a.createElement(i.M,{className:u.secondaryButtonContainer,clickHandler:()=>{e.popupType===n.T.dayOne&&(e.dismissGdocsFreeTrial(),r.J.gdocsFreeTrialPopupDismissButtonClick()),e.close()}},a.createElement("button",{className:u.secondaryButton},d)):a.createElement("div",{className:u.secondaryButtonContainer})),e.inGButton&&a.createElement("div",{className:u.popupFooter},"▲"))}},9105:(e,t,o)=>{o.r(t),o.d(t,{GdocsFreeTrialPopupService:()=>g});var a=o(27378),s=o(78674),i=o(50628),r=o(8473),n=o(77176),p=o(41263),u=o(38143),l=o(74850),c=o(76024),m=o(38983),d=o(72581),_=o(66617);const h=l.Y.create("GdocsFreeTrialPopupService");class g{constructor(e,t,o,a,n,p,l,_){this._pageState=e,this._actions=t,this._alertCounts=o,this._textObserver=a,this._gnar=n,this._popup=p,this._model=l,this._experiments=_,this._subs=[],this._popupState=m.h.create({isOpen:!1}),this._popupTypeShowOrder=[d.T.dayOne,d.T.halfway,d.T.almostOver],this.showPopup=(e,t)=>{var o;"top_right"===(null===(o=this._experiments.get())||void 0===o?void 0:o.gdocsFreeTrial)?this._popupState.set({isOpen:!0,popupType:e,daysRemaining:t}):this._popup.updateState({type:"gdocsFreeTrial",popupType:e,daysRemaining:t}),u.ux(this._gnar,this._actions,e)},this.closePopup=()=>{this._popupState.set({isOpen:!1})};const{gdocsFreeTrialStartTimestamp:h,lastSeenGdocsFreeTrialPopupType:g}=this._pageState.get();u.qb(this._pageState.get())&&this._subs.push(this._alertCounts.pipe((0,s.b)(500),(0,i.P)((e=>e.plus>0))).subscribe((()=>{this.showPopup(d.T.dayOne,c.DAYS_IN_WEEK)}))),h&&this.isPopupAShownBeforePopupB(g,d.T.halfway)&&u.kH(h)<5&&this._subs.push(this._textObserver.contentChanges.async.pipe((0,r.o)((()=>u.kH(this._pageState.get().gdocsFreeTrialStartTimestamp)<=4)),(0,i.P)((()=>u.kH(this._pageState.get().gdocsFreeTrialStartTimestamp)>=3))).subscribe((()=>{const e=u.kH(this._pageState.get().gdocsFreeTrialStartTimestamp);this.showPopup(d.T.halfway,c.DAYS_IN_WEEK-e)}))),h&&this.isPopupAShownBeforePopupB(g,d.T.almostOver)&&this._subs.push(this._textObserver.contentChanges.async.pipe((0,r.o)((()=>u.kH(this._pageState.get().gdocsFreeTrialStartTimestamp)<=7)),(0,i.P)((()=>u.kH(this._pageState.get().gdocsFreeTrialStartTimestamp)>=6))).subscribe((()=>{const e=u.kH(this._pageState.get().gdocsFreeTrialStartTimestamp);this.showPopup(d.T.almostOver,c.DAYS_IN_WEEK-e)})))}isPopupAShownBeforePopupB(e,t){return(e?this._popupTypeShowOrder.indexOf(e):-1)<(t?this._popupTypeShowOrder.indexOf(t):-1)}get view(){return this._popupState.pipe((0,n.U)((e=>e.isOpen?a.createElement(p.L,{chunkName:"gdocsFreeTrialPopup"},a.createElement(_.GdocsFreeTrialPopup,{inGButton:!1,popupType:e.popupType,daysRemaining:e.daysRemaining,close:this.closePopup,incrementCountClose:this._popup.model.actions.incrementCountCloseGdocsFreeTrialPopup,dismissGdocsFreeTrial:this._popup.model.actions.dismissGdocsFreeTrial,startGdocsFreeTrial:this._popup.model.actions.startGdocsFreeTrial,openPlansPage:this._model.openPlanComparisonPage})):null)))}dispose(){try{this._subs.forEach((e=>e.unsubscribe()))}catch(e){h.warn("Failed to dispose",e)}}}},82967:e=>{e.exports={gdocsFreeTrialPopup:"_2ABWq",topRight:"JwcSu",title:"l1EYz",text:"QcYt2",subText:"_3gAfL",buttonContainer:"_19M3Y",primaryButtonContainer:"_3c7bw",primaryButton:"_29Zde",secondaryButtonContainer:"qXGJ4",secondaryButton:"_2cCGr",popupFooter:"_39CD8",inGButton:"_3Lflt"}},61658:e=>{e.exports={gButtonPopup:"_1kF5v",newDataControl:"_2DXpn",showWrapper:"jbUGk",flipped:"_33Y70",title:"_3j0IH",icon:"_3mzPB",button:"_3ayiu",buttonText:"_3iTGv",popupFooter:"_1Pn79",isFlipped:"mrPCR",settings:"_1wln3",text:"_1igtd",bold:"_233YR",link:"_3Zolz",secondary:"_3CC0d",firstTime:"eytxh",close:"_1Q8MJ",disable:"_2GBXV",gdocs:"_1rwC7",gdocsBeta:"_3Nt7c",header:"_2QN8E",headerUnavailable:"_3oKby",cardsIcon:"_2p0cU",bubbleArrow:"_3P-V4",unavailablePopup:"_3ItKT",loginReminder:"_3nwkh",permission:"_3t67i",buttonsContainer:"_1o9Lo",mainButton:"_2Ltwz",secondaryButton:"_1gDFt",onboarding:"_36Myk",chipmunkGButtonCalloutPopup:"_1BqSc",containerContents:"_3-RfQ",container:"_3DqWc",containerHeaderDefault:"tSLDM",containerKeyboardQRCodeImageBlock:"_35_s3",qrcode:"_25Ol6",containerBrandToneImageBlock:"_26_GC",img:"_38WyO",containerSnippetImageBlock:"g-PwS",containerHeaderImageBlock:"_2u4gj",containerTitle:"_3SP28",containerText:"w2FY9",containerButton:"_3p4LT",dismiss:"_1CkBd",warningPopup:"dcXJa",btn:"_36yMW",warning:"_3IVIe",ctaBtnGroup:"_1Bbg8",ctaButton:"_1mTiW",later:"_22eWb",managedSSOControl:"nF7Y6",illustration:"ThWjl",signInWithSSO:"_3cCtR",signInWithSSO2:"_2Z9Lo"}}}]);